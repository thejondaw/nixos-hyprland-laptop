"use strict";var W1=Object.create;var ml=Object.defineProperty;var G1=Object.getOwnPropertyDescriptor;var K1=Object.getOwnPropertyNames;var X1=Object.getPrototypeOf,Q1=Object.prototype.hasOwnProperty;var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Kx=(t,e)=>{for(var r in e)ml(t,r,{get:e[r],enumerable:!0})},Xx=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of K1(e))!Q1.call(t,i)&&i!==r&&ml(t,i,{get:()=>e[i],enumerable:!(n=G1(e,i))||n.enumerable});return t};var je=(t,e,r)=>(r=t!=null?W1(X1(t)):{},Xx(e||!t||!t.__esModule?ml(r,"default",{value:t,enumerable:!0}):r,t)),Z1=t=>Xx(ml({},"__esModule",{value:!0}),t);var Bw=$((s5,Hw)=>{var Y1=Object.create,Rc=Object.defineProperty,J1=Object.getOwnPropertyDescriptor,eM=Object.getOwnPropertyNames,Qx=Object.getOwnPropertySymbols,tM=Object.getPrototypeOf,Jx=Object.prototype.hasOwnProperty,rM=Object.prototype.propertyIsEnumerable,Zx=(t,e,r)=>e in t?Rc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,po=(t,e)=>{for(var r in e||(e={}))Jx.call(e,r)&&Zx(t,r,e[r]);if(Qx)for(var r of Qx(e))rM.call(e,r)&&Zx(t,r,e[r]);return t},A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),nM=(t,e)=>{for(var r in e)Rc(t,r,{get:e[r],enumerable:!0})},ew=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of eM(e))!Jx.call(t,i)&&i!==r&&Rc(t,i,{get:()=>e[i],enumerable:!(n=J1(e,i))||n.enumerable});return t},Pc=(t,e,r)=>(r=t!=null?Y1(tM(t)):{},ew(e||!t||!t.__esModule?Rc(r,"default",{value:t,enumerable:!0}):r,t)),iM=t=>ew(Rc({},"__esModule",{value:!0}),t),Xr=A((t,e)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();e.exports=r}),tw=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScopeManager=t.OpenTelemetryScopeManagerWrapper=void 0;var r=Ws(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return e(e({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,u=s.name,l=o._spanToContext(s,c,u);return r.CorrelationContextManager.runWithContext(l,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var u=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,l=e(e({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),d=r.CorrelationContextManager.spanToContextObject(l,u,c);return d},o}();t.OpenTelemetryScopeManagerWrapper=i,t.AsyncScopeManager=new i}),oM=A((t,e)=>{t=e.exports=ue;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var v=Array.prototype.slice.call(arguments,0);v.unshift("SEMVER"),console.log.apply(console,v)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var m=c++;a[m]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var f=c++;a[f]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[d]+")";var y=c++;a[y]="(?:-("+a[f]+"(?:\\."+a[f]+")*))";var b=c++;a[b]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var w=c++;a[w]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var C=c++,P="v?"+a[p]+a[y]+"?"+a[w]+"?";a[C]="^"+P+"$";var k="[v=\\s]*"+a[m]+a[b]+"?"+a[w]+"?",q=c++;a[q]="^"+k+"$";var j=c++;a[j]="((?:<|>)?=?)";var Q=c++;a[Q]=a[l]+"|x|X|\\*";var ne=c++;a[ne]=a[u]+"|x|X|\\*";var X=c++;a[X]="[v=\\s]*("+a[ne]+")(?:\\.("+a[ne]+")(?:\\.("+a[ne]+")(?:"+a[y]+")?"+a[w]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[Q]+")(?:\\.("+a[Q]+")(?:\\.("+a[Q]+")(?:"+a[b]+")?"+a[w]+"?)?)?";var ae=c++;a[ae]="^"+a[j]+"\\s*"+a[X]+"$";var ee=c++;a[ee]="^"+a[j]+"\\s*"+a[H]+"$";var xe=c++;a[xe]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var de=c++;a[de]="(?:~>?)";var z=c++;a[z]="(\\s*)"+a[de]+"\\s+",s[z]=new RegExp(a[z],"g");var Y="$1~",te=c++;a[te]="^"+a[de]+a[X]+"$";var pe=c++;a[pe]="^"+a[de]+a[H]+"$";var ge=c++;a[ge]="(?:\\^)";var De=c++;a[De]="(\\s*)"+a[ge]+"\\s+",s[De]=new RegExp(a[De],"g");var Re="$1^",ze=c++;a[ze]="^"+a[ge]+a[X]+"$";var We=c++;a[We]="^"+a[ge]+a[H]+"$";var mt=c++;a[mt]="^"+a[j]+"\\s*("+k+")$|^$";var ot=c++;a[ot]="^"+a[j]+"\\s*("+P+")$|^$";var ke=c++;a[ke]="(\\s*)"+a[j]+"\\s*("+k+"|"+a[X]+")",s[ke]=new RegExp(a[ke],"g");var Ot="$1$2$3",Mt=c++;a[Mt]="^\\s*("+a[X]+")\\s+-\\s+("+a[X]+")\\s*$";var qe=c++;a[qe]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var we=c++;for(a[we]="(<|>)?=?\\s*\\*",$e=0;$e<c;$e++)r($e,a[$e]),s[$e]||(s[$e]=new RegExp(a[$e]));var $e;t.parse=tt;function tt(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue)return v;if(typeof v!="string"||v.length>n)return null;var _=h.loose?s[q]:s[C];if(!_.test(v))return null;try{return new ue(v,h)}catch{return null}}t.valid=Ir;function Ir(v,h){var _=tt(v,h);return _?_.version:null}t.clean=en;function en(v,h){var _=tt(v.trim().replace(/^[=v]+/,""),h);return _?_.version:null}t.SemVer=ue;function ue(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue){if(v.loose===h.loose)return v;v=v.version}else if(typeof v!="string")throw new TypeError("Invalid Version: "+v);if(v.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ue))return new ue(v,h);r("SemVer",v,h),this.options=h,this.loose=!!h.loose;var _=v.trim().match(h.loose?s[q]:s[C]);if(!_)throw new TypeError("Invalid Version: "+v);if(this.raw=v,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var D=+R;if(D>=0&&D<i)return D}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(v){return r("SemVer.compare",this.version,this.options,v),v instanceof ue||(v=new ue(v,this.options)),this.compareMain(v)||this.comparePre(v)},ue.prototype.compareMain=function(v){return v instanceof ue||(v=new ue(v,this.options)),ht(this.major,v.major)||ht(this.minor,v.minor)||ht(this.patch,v.patch)},ue.prototype.comparePre=function(v){if(v instanceof ue||(v=new ue(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;var h=0;do{var _=this.prerelease[h],R=v.prerelease[h];if(r("prerelease compare",h,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_!==R)return ht(_,R)}while(++h)},ue.prototype.inc=function(v,h){switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+v)}return this.format(),this.raw=this.version,this},t.inc=Fr;function Fr(v,h,_,R){typeof _=="string"&&(R=_,_=void 0);try{return new ue(v,_).inc(h,R).version}catch{return null}}t.diff=Vt;function Vt(v,h){if(Qe(v,h))return null;var _=tt(v),R=tt(h),D="";if(_.prerelease.length||R.prerelease.length){D="pre";var U="prerelease"}for(var V in _)if((V==="major"||V==="minor"||V==="patch")&&_[V]!==R[V])return D+V;return U}t.compareIdentifiers=ht;var $t=/^[0-9]+$/;function ht(v,h){var _=$t.test(v),R=$t.test(h);return _&&R&&(v=+v,h=+h),v===h?0:_&&!R?-1:R&&!_?1:v<h?-1:1}t.rcompareIdentifiers=ir;function ir(v,h){return ht(h,v)}t.major=Ht;function Ht(v,h){return new ue(v,h).major}t.minor=qr;function qr(v,h){return new ue(v,h).minor}t.patch=Ur;function Ur(v,h){return new ue(v,h).patch}t.compare=lt;function lt(v,h,_){return new ue(v,_).compare(new ue(h,_))}t.compareLoose=Kr;function Kr(v,h){return lt(v,h,!0)}t.rcompare=Yt;function Yt(v,h,_){return lt(h,v,_)}t.sort=M;function M(v,h){return v.sort(function(_,R){return t.compare(_,R,h)})}t.rsort=oe;function oe(v,h){return v.sort(function(_,R){return t.rcompare(_,R,h)})}t.gt=fe;function fe(v,h,_){return lt(v,h,_)>0}t.lt=ye;function ye(v,h,_){return lt(v,h,_)<0}t.eq=Qe;function Qe(v,h,_){return lt(v,h,_)===0}t.neq=rt;function rt(v,h,_){return lt(v,h,_)!==0}t.gte=st;function st(v,h,_){return lt(v,h,_)>=0}t.lte=Ze;function Ze(v,h,_){return lt(v,h,_)<=0}t.cmp=Me;function Me(v,h,_,R){switch(h){case"===":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v===_;case"!==":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v!==_;case"":case"=":case"==":return Qe(v,_,R);case"!=":return rt(v,_,R);case">":return fe(v,_,R);case">=":return st(v,_,R);case"<":return ye(v,_,R);case"<=":return Ze(v,_,R);default:throw new TypeError("Invalid operator: "+h)}}t.Comparator=Pe;function Pe(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof Pe){if(v.loose===!!h.loose)return v;v=v.value}if(!(this instanceof Pe))return new Pe(v,h);r("comparator",v,h),this.options=h,this.loose=!!h.loose,this.parse(v),this.semver===He?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var He={};Pe.prototype.parse=function(v){var h=this.options.loose?s[mt]:s[ot],_=v.match(h);if(!_)throw new TypeError("Invalid comparator: "+v);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new ue(_[2],this.options.loose):this.semver=He},Pe.prototype.toString=function(){return this.value},Pe.prototype.test=function(v){return r("Comparator.test",v,this.options.loose),this.semver===He?!0:(typeof v=="string"&&(v=new ue(v,this.options)),Me(v,this.operator,this.semver,this.options))},Pe.prototype.intersects=function(v,h){if(!(v instanceof Pe))throw new TypeError("a Comparator is required");(!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1});var _;if(this.operator==="")return _=new me(v.value,h),I(this.value,_,h);if(v.operator==="")return _=new me(this.value,h),I(v.semver,_,h);var R=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),D=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),U=this.semver.version===v.semver.version,V=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),ie=Me(this.semver,"<",v.semver,h)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),le=Me(this.semver,">",v.semver,h)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return R||D||U&&V||ie||le},t.Range=me;function me(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof me)return v.loose===!!h.loose&&v.includePrerelease===!!h.includePrerelease?v:new me(v.raw,h);if(v instanceof Pe)return new me(v.value,h);if(!(this instanceof me))return new me(v,h);if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=v,this.set=v.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+v);this.format()}me.prototype.format=function(){return this.range=this.set.map(function(v){return v.join(" ").trim()}).join("||").trim(),this.range},me.prototype.toString=function(){return this.range},me.prototype.parseRange=function(v){var h=this.options.loose;v=v.trim();var _=h?s[qe]:s[Mt];v=v.replace(_,L),r("hyphen replace",v),v=v.replace(s[ke],Ot),r("comparator trim",v,s[ke]),v=v.replace(s[z],Y),v=v.replace(s[De],Re),v=v.split(/\s+/).join(" ");var R=h?s[mt]:s[ot],D=v.split(" ").map(function(U){return Bt(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(D=D.filter(function(U){return!!U.match(R)})),D=D.map(function(U){return new Pe(U,this.options)},this),D},me.prototype.intersects=function(v,h){if(!(v instanceof me))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(R){return v.set.some(function(D){return D.every(function(U){return R.intersects(U,h)})})})})},t.toComparators=Lt;function Lt(v,h){return new me(v,h).set.map(function(_){return _.map(function(R){return R.value}).join(" ").trim().split(" ")})}function Bt(v,h){return r("comp",v,h),v=J(v,h),r("caret",v),v=yr(v,h),r("tildes",v),v=bt(v,h),r("xrange",v),v=S(v,h),r("stars",v),v}function Ue(v){return!v||v.toLowerCase()==="x"||v==="*"}function yr(v,h){return v.trim().split(/\s+/).map(function(_){return T(_,h)}).join(" ")}function T(v,h){var _=h.loose?s[pe]:s[te];return v.replace(_,function(R,D,U,V,ie){r("tilde",v,R,D,U,V,ie);var le;return Ue(D)?le="":Ue(U)?le=">="+D+".0.0 <"+(+D+1)+".0.0":Ue(V)?le=">="+D+"."+U+".0 <"+D+"."+(+U+1)+".0":ie?(r("replaceTilde pr",ie),le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+(+U+1)+".0"):le=">="+D+"."+U+"."+V+" <"+D+"."+(+U+1)+".0",r("tilde return",le),le})}function J(v,h){return v.trim().split(/\s+/).map(function(_){return Ee(_,h)}).join(" ")}function Ee(v,h){r("caret",v,h);var _=h.loose?s[We]:s[ze];return v.replace(_,function(R,D,U,V,ie){r("caret",v,R,D,U,V,ie);var le;return Ue(D)?le="":Ue(U)?le=">="+D+".0.0 <"+(+D+1)+".0.0":Ue(V)?D==="0"?le=">="+D+"."+U+".0 <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+".0 <"+(+D+1)+".0.0":ie?(r("replaceCaret pr",ie),D==="0"?U==="0"?le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+U+"."+(+V+1):le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+"."+V+"-"+ie+" <"+(+D+1)+".0.0"):(r("no pr"),D==="0"?U==="0"?le=">="+D+"."+U+"."+V+" <"+D+"."+U+"."+(+V+1):le=">="+D+"."+U+"."+V+" <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+"."+V+" <"+(+D+1)+".0.0"),r("caret return",le),le})}function bt(v,h){return r("replaceXRanges",v,h),v.split(/\s+/).map(function(_){return W(_,h)}).join(" ")}function W(v,h){v=v.trim();var _=h.loose?s[ee]:s[ae];return v.replace(_,function(R,D,U,V,ie,le){r("xRange",v,R,D,U,V,ie,le);var Le=Ue(U),gt=Le||Ue(V),at=gt||Ue(ie),et=at;return D==="="&&et&&(D=""),Le?D===">"||D==="<"?R="<0.0.0":R="*":D&&et?(gt&&(V=0),ie=0,D===">"?(D=">=",gt?(U=+U+1,V=0,ie=0):(V=+V+1,ie=0)):D==="<="&&(D="<",gt?U=+U+1:V=+V+1),R=D+U+"."+V+"."+ie):gt?R=">="+U+".0.0 <"+(+U+1)+".0.0":at&&(R=">="+U+"."+V+".0 <"+U+"."+(+V+1)+".0"),r("xRange return",R),R})}function S(v,h){return r("replaceStars",v,h),v.trim().replace(s[we],"")}function L(v,h,_,R,D,U,V,ie,le,Le,gt,at,et){return Ue(_)?h="":Ue(R)?h=">="+_+".0.0":Ue(D)?h=">="+_+"."+R+".0":h=">="+h,Ue(le)?ie="":Ue(Le)?ie="<"+(+le+1)+".0.0":Ue(gt)?ie="<"+le+"."+(+Le+1)+".0":at?ie="<="+le+"."+Le+"."+gt+"-"+at:ie="<="+ie,(h+" "+ie).trim()}me.prototype.test=function(v){if(!v)return!1;typeof v=="string"&&(v=new ue(v,this.options));for(var h=0;h<this.set.length;h++)if(F(this.set[h],v,this.options))return!0;return!1};function F(v,h,_){for(var R=0;R<v.length;R++)if(!v[R].test(h))return!1;if(h.prerelease.length&&!_.includePrerelease){for(R=0;R<v.length;R++)if(r(v[R].semver),v[R].semver!==He&&v[R].semver.prerelease.length>0){var D=v[R].semver;if(D.major===h.major&&D.minor===h.minor&&D.patch===h.patch)return!0}return!1}return!0}t.satisfies=I;function I(v,h,_){try{h=new me(h,_)}catch{return!1}return h.test(v)}t.maxSatisfying=E;function E(v,h,_){var R=null,D=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||D.compare(V)===-1)&&(R=V,D=new ue(R,_))}),R}t.minSatisfying=Z;function Z(v,h,_){var R=null,D=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||D.compare(V)===1)&&(R=V,D=new ue(R,_))}),R}t.minVersion=se;function se(v,h){v=new me(v,h);var _=new ue("0.0.0");if(v.test(_)||(_=new ue("0.0.0-0"),v.test(_)))return _;_=null;for(var R=0;R<v.set.length;++R){var D=v.set[R];D.forEach(function(U){var V=new ue(U.semver.version);switch(U.operator){case">":V.prerelease.length===0?V.patch++:V.prerelease.push(0),V.raw=V.format();case"":case">=":(!_||fe(_,V))&&(_=V);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return _&&v.test(_)?_:null}t.validRange=Ve;function Ve(v,h){try{return new me(v,h).range||"*"}catch{return null}}t.ltr=Nt;function Nt(v,h,_){return Gt(v,h,"<",_)}t.gtr=xt;function xt(v,h,_){return Gt(v,h,">",_)}t.outside=Gt;function Gt(v,h,_,R){v=new ue(v,R),h=new me(h,R);var D,U,V,ie,le;switch(_){case">":D=fe,U=Ze,V=ye,ie=">",le=">=";break;case"<":D=ye,U=st,V=fe,ie="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(v,h,R))return!1;for(var Le=0;Le<h.set.length;++Le){var gt=h.set[Le],at=null,et=null;if(gt.forEach(function(qt){qt.semver===He&&(qt=new Pe(">=0.0.0")),at=at||qt,et=et||qt,D(qt.semver,at.semver,R)?at=qt:V(qt.semver,et.semver,R)&&(et=qt)}),at.operator===ie||at.operator===le||(!et.operator||et.operator===ie)&&U(v,et.semver)||et.operator===le&&V(v,et.semver))return!1}return!0}t.prerelease=Tr;function Tr(v,h){var _=tt(v,h);return _&&_.prerelease.length?_.prerelease:null}t.intersects=or;function or(v,h,_){return v=new me(v,_),h=new me(h,_),v.intersects(h)}t.coerce=nt;function nt(v){if(v instanceof ue)return v;if(typeof v!="string")return null;var h=v.match(s[xe]);return h==null?null:tt(h[1]+"."+(h[2]||"0")+"."+(h[3]||"0"))}}),Yx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePatchingRequire=void 0;var e=require("path"),r=oM(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(u){var l=o.apply(this,arguments);if(a[u]){var d=n._resolveFilename(u,this);if(c.hasOwnProperty(d))return c[d];var p=void 0;if(i.indexOf(u)<0)try{p=o.call(this,e.join(u,"package.json")).version}catch{return l}else p=process.version.substring(1);var m=p.indexOf("-");m>=0&&(p=p.substring(0,m));for(var f=l,g=0,y=a[u];g<y.length;g++){var b=y[g];r.satisfies(p,b.versionSpecifier)&&(f=b.patch(f,d))}return c[d]=f}return l}}t.makePatchingRequire=s}),sM=A((t,e)=>{e.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),Or=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.makePatchingRequire=void 0;var e=Yx(),r=Yx();Object.defineProperty(t,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=sM().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(u){var l=u.filter;return!l||l(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var u=this.subscribers[a];if(u){var l={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,u.forEach(function(d){var p=d.listener,m=d.filter;try{m&&m(!0)&&p(l)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,u){u===void 0&&(u=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:u})},s.prototype.unsubscribe=function(a,c,u){u===void 0&&(u=n);var l=this.subscribers[a];if(l){for(var d=0;d<l.length;++d)if(l[d].listener===c&&l[d].filter===u)return l.splice(d,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(u){return a(c(u))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=e.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;t.channel=global.diagnosticsSource}),aM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),cM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis=typeof globalThis=="object"?globalThis:global}),uM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(cM(),t)}),lM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(uM(),t)}),rw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.0.3"}),dM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;var e=rw(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(d){return d===i};function u(d){return s.add(d),!1}function l(d){return o.add(d),!0}return function(d){if(o.has(d))return!0;if(s.has(d))return!1;var p=d.match(r);if(!p)return u(d);var m={major:+p[1],minor:+p[2],patch:+p[3],prerelease:p[4]};return m.prerelease!=null||c.major!==m.major?u(d):c.major===0?c.minor===m.minor&&c.patch<=m.patch?l(d):u(d):c.minor<=m.minor?l(d):u(d)}}t._makeCompatibilityCheck=n,t.isCompatible=n(e.VERSION)}),Dc=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;var e=lM(),r=rw(),n=dM(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=e._globalThis;function a(l,d,p,m){var f;m===void 0&&(m=!1);var g=s[o]=(f=s[o])!==null&&f!==void 0?f:{version:r.VERSION};if(!m&&g[l]){var y=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+l);return p.error(y.stack||y.message),!1}if(g.version!==r.VERSION){var y=new Error("@opentelemetry/api: All API registration versions must match");return p.error(y.stack||y.message),!1}return g[l]=d,p.debug("@opentelemetry/api: Registered a global for "+l+" v"+r.VERSION+"."),!0}t.registerGlobal=a;function c(l){var d,p,m=(d=s[o])===null||d===void 0?void 0:d.version;if(!(!m||!n.isCompatible(m)))return(p=s[o])===null||p===void 0?void 0:p[l]}t.getGlobal=c;function u(l,d){d.debug("@opentelemetry/api: Unregistering a global for "+l+" v"+r.VERSION+".");var p=s[o];p&&delete p[l]}t.unregisterGlobal=u}),pM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;var e=Dc(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();t.DiagComponentLogger=r;function n(i,o,s){var a=e.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),sm=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(e=t.DiagLogLevel||(t.DiagLogLevel={}))}),fM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;var e=sm();function r(n,i){n<e.DiagLogLevel.NONE?n=e.DiagLogLevel.NONE:n>e.DiagLogLevel.ALL&&(n=e.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",e.DiagLogLevel.ERROR),warn:o("warn",e.DiagLogLevel.WARN),info:o("info",e.DiagLogLevel.INFO),debug:o("debug",e.DiagLogLevel.DEBUG),verbose:o("verbose",e.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=r}),Ic=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;var e=pM(),r=fM(),n=sm(),i=Dc(),o="diag",s=function(){function a(){function c(l){return function(){var d=i.getGlobal("diag");if(d)return d[l].apply(d,arguments)}}var u=this;u.setLogger=function(l,d){var p,m;if(d===void 0&&(d=n.DiagLogLevel.INFO),l===u){var f=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return u.error((p=f.stack)!==null&&p!==void 0?p:f.message),!1}var g=i.getGlobal("diag"),y=r.createLogLevelDiagLogger(d,l);if(g){var b=(m=new Error().stack)!==null&&m!==void 0?m:"<failed to generate stacktrace>";g.warn("Current logger will be overwritten from "+b),y.warn("Current logger will overwrite one already registered from "+b)}return i.registerGlobal("diag",y,u,!0)},u.disable=function(){i.unregisterGlobal(o,u)},u.createComponentLogger=function(l){return new e.DiagComponentLogger(l)},u.verbose=c("verbose"),u.debug=c("debug"),u.info=c("info"),u.warn=c("warn"),u.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();t.DiagAPI=s}),mM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;var e=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();t.BaggageImpl=e}),hM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),nw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;var e=Ic(),r=mM(),n=hM(),i=e.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}t.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}t.baggageEntryMetadataFromString=s}),gM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),yM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;var e=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<e.length;o++)this[e[o].n]=i(e[o].c)}return n}();t.DiagConsoleLogger=r}),bM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(yM(),t),r(sm(),t)}),iw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get:function(e,r){if(e!=null)return e[r]},keys:function(e){return e==null?[]:Object.keys(e)}},t.defaultTextMapSetter={set:function(e,r,n){e!=null&&(e[r]=n)}}}),_M=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),xM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),gl=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0;function e(n){return Symbol.for(n)}t.createContextKey=e;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();t.ROOT_CONTEXT=new r}),wM=A(t=>{"use strict";var e=t&&t.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var r=gl(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],u=3;u<arguments.length;u++)c[u-3]=arguments[u];return s.call.apply(s,e([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();t.NoopContextManager=n}),ow=A(t=>{"use strict";var e=t&&t.__spreadArray||function(c,u){for(var l=0,d=u.length,p=c.length;l<d;l++,p++)c[p]=u[l];return c};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var r=wM(),n=Dc(),i=Ic(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(u){return n.registerGlobal(o,u,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(u,l,d){for(var p,m=[],f=3;f<arguments.length;f++)m[f-3]=arguments[f];return(p=this._getContextManager()).with.apply(p,e([u,l,d],m))},c.prototype.bind=function(u,l){return this._getContextManager().bind(u,l)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();t.ContextAPI=a}),sw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(e=t.TraceFlags||(t.TraceFlags={}))}),am=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;var e=sw();t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:e.TraceFlags.NONE}}),cm=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;var e=am(),r=function(){function n(i){i===void 0&&(i=e.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();t.NonRecordingSpan=r}),aw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getSpan=void 0;var e=gl(),r=cm(),n=e.createContextKey("OpenTelemetry Context Key SPAN");function i(u){return u.getValue(n)||void 0}t.getSpan=i;function o(u,l){return u.setValue(n,l)}t.setSpan=o;function s(u){return u.deleteValue(n)}t.deleteSpan=s;function a(u,l){return o(u,new r.NonRecordingSpan(l))}t.setSpanContext=a;function c(u){var l;return(l=i(u))===null||l===void 0?void 0:l.spanContext()}t.getSpanContext=c}),um=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;var e=am(),r=cm(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(u){return n.test(u)&&u!==e.INVALID_TRACEID}t.isValidTraceId=o;function s(u){return i.test(u)&&u!==e.INVALID_SPANID}t.isValidSpanId=s;function a(u){return o(u.traceId)&&s(u.spanId)}t.isSpanContextValid=a;function c(u){return new r.NonRecordingSpan(u)}t.wrapSpanContext=c}),cw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;var e=ow(),r=aw(),n=cm(),i=um(),o=e.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(u,l,d){var p=!!l?.root;if(p)return new n.NonRecordingSpan;var m=d&&r.getSpanContext(d);return a(m)&&i.isSpanContextValid(m)?new n.NonRecordingSpan(m):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(u,l,d,p){var m,f,g;if(!(arguments.length<2)){arguments.length===2?g=l:arguments.length===3?(m=l,g=d):(m=l,f=d,g=p);var y=f??o.active(),b=this.startSpan(u,m,y),x=r.setSpan(y,b);return o.with(x,g,void 0,b)}},c}();t.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),uw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;var e=cw(),r=new e.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var u=this._getTracer();return Reflect.apply(u.startActiveSpan,u,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();t.ProxyTracer=n}),CM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;var e=cw(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new e.NoopTracer},n}();t.NoopTracerProvider=r}),lw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;var e=uw(),r=CM(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new e.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();t.ProxyTracerProvider=i}),EM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),SM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0;var e;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(e=t.SamplingDecision||(t.SamplingDecision={}))}),TM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),RM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0;var e;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(e=t.SpanKind||(t.SpanKind={}))}),PM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),DM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),IM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0;var e;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(e=t.SpanStatusCode||(t.SpanStatusCode={}))}),OM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),AM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),kM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),NM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),qM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var e=Dc(),r=lw(),n=um(),i=aw(),o=Ic(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(u){var l=e.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return l&&this._proxyTracerProvider.setDelegate(u),l},c.prototype.getTracerProvider=function(){return e.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(u,l){return this.getTracerProvider().getTracer(u,l)},c.prototype.disable=function(){e.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();t.TraceAPI=a}),MM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;var e=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();t.NoopTextMapPropagator=e}),LM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getBaggage=void 0;var e=gl(),r=e.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}t.getBaggage=n;function i(s,a){return s.setValue(r,a)}t.setBaggage=i;function o(s){return s.deleteValue(r)}t.deleteBaggage=o}),jM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var e=Dc(),r=MM(),n=iw(),i=LM(),o=nw(),s=Ic(),a="propagation",c=new r.NoopTextMapPropagator,u=function(){function l(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return l.getInstance=function(){return this._instance||(this._instance=new l),this._instance},l.prototype.setGlobalPropagator=function(d){return e.registerGlobal(a,d,s.DiagAPI.instance())},l.prototype.inject=function(d,p,m){return m===void 0&&(m=n.defaultTextMapSetter),this._getGlobalPropagator().inject(d,p,m)},l.prototype.extract=function(d,p,m){return m===void 0&&(m=n.defaultTextMapGetter),this._getGlobalPropagator().extract(d,p,m)},l.prototype.fields=function(){return this._getGlobalPropagator().fields()},l.prototype.disable=function(){e.unregisterGlobal(a,s.DiagAPI.instance())},l.prototype._getGlobalPropagator=function(){return e.getGlobal(a)||c},l}();t.PropagationAPI=u}),cr=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(l,d,p,m){m===void 0&&(m=p),Object.defineProperty(l,m,{enumerable:!0,get:function(){return d[p]}})}:function(l,d,p,m){m===void 0&&(m=p),l[m]=d[p]}),r=t&&t.__exportStar||function(l,d){for(var p in l)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&e(d,l,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.diag=t.propagation=t.trace=t.context=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.isValidSpanId=t.isValidTraceId=t.isSpanContextValid=t.baggageEntryMetadataFromString=void 0,r(aM(),t);var n=nw();Object.defineProperty(t,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(gM(),t),r(vM(),t),r(bM(),t),r(iw(),t),r(_M(),t),r(xM(),t),r(uw(),t),r(lw(),t),r(EM(),t),r(SM(),t),r(TM(),t),r(RM(),t),r(PM(),t),r(DM(),t),r(IM(),t),r(sw(),t),r(OM(),t),r(AM(),t),r(kM(),t);var i=um();Object.defineProperty(t,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(t,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(t,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=am();Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(gl(),t),r(NM(),t);var s=ow();t.context=s.ContextAPI.getInstance();var a=qM();t.trace=a.TraceAPI.getInstance();var c=jM();t.propagation=c.PropagationAPI.getInstance();var u=Ic();t.diag=u.DiagAPI.instance(),t.default={trace:t.trace,context:t.context,propagation:t.propagation,diag:t.diag}}),lm=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingSuppressed=t.unsuppressTracing=t.suppressTracing=void 0;var e=cr(),r=e.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}t.suppressTracing=n;function i(s){return s.deleteValue(r)}t.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}t.isTracingSuppressed=o}),dw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BAGGAGE_MAX_TOTAL_LENGTH=t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=t.BAGGAGE_MAX_NAME_VALUE_PAIRS=t.BAGGAGE_HEADER=t.BAGGAGE_ITEMS_SEPARATOR=t.BAGGAGE_PROPERTIES_SEPARATOR=t.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,t.BAGGAGE_KEY_PAIR_SEPARATOR="=",t.BAGGAGE_PROPERTIES_SEPARATOR=";",t.BAGGAGE_ITEMS_SEPARATOR=",",t.BAGGAGE_HEADER="baggage",t.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,t.BAGGAGE_MAX_TOTAL_LENGTH=8192}),pw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyPairsIntoRecord=t.parsePairKeyValue=t.getKeyPairs=t.serializeKeyPairs=void 0;var e=cr(),r=dw(),n=a=>a.reduce((c,u)=>{let l=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${u}`;return l.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:l},"");t.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,u])=>`${encodeURIComponent(c)}=${encodeURIComponent(u.value)}`);t.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let u=c.shift();if(!u)return;let l=u.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(l.length!==2)return;let d=decodeURIComponent(l[0].trim()),p=decodeURIComponent(l[1].trim()),m;return c.length>0&&(m=e.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:d,value:p,metadata:m}};t.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>t.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,u)=>(c[u.key]=u.value,c),{});t.parseKeyPairsIntoRecord=s}),FM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpBaggagePropagator=void 0;var e=cr(),r=lm(),n=dw(),i=pw(),o=class{inject(s,a,c){let u=e.propagation.getBaggage(s);if(!u||r.isTracingSuppressed(s))return;let l=i.getKeyPairs(u).filter(p=>p.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),d=i.serializeKeyPairs(l);d.length>0&&c.set(a,n.BAGGAGE_HEADER,d)}extract(s,a,c){let u=c.get(a,n.BAGGAGE_HEADER);if(!u)return s;let l={};return u.length===0||(u.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(d=>{let p=i.parsePairKeyValue(d);if(p){let m={value:p.value};p.metadata&&(m.metadata=p.metadata),l[p.key]=m}}),Object.entries(l).length===0)?s:e.propagation.setBaggage(s,e.propagation.createBaggage(l))}fields(){return[n.BAGGAGE_HEADER]}};t.HttpBaggagePropagator=o}),UM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributeValue=t.sanitizeAttributes=void 0;function e(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}t.sanitizeAttributes=e;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}t.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),fw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggingErrorHandler=void 0;var e=cr();function r(){return o=>{e.diag.error(n(o))}}t.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let u=a[c];u&&(s[c]=String(u))}),a=Object.getPrototypeOf(a);return s}}),mw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalErrorHandler=t.setGlobalErrorHandler=void 0;var e=fw(),r=e.loggingErrorHandler();function n(o){r=o}t.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};t.globalErrorHandler=i}),hw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracesSamplerValues=void 0;var e;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(e=t.TracesSamplerValues||(t.TracesSamplerValues={}))}),gw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvironment=t.DEFAULT_ENVIRONMENT=void 0;var e=cr(),r=hw(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(m){return i.indexOf(m)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(m){return s.indexOf(m)>-1}t.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:e.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(m,f,g,y=-1/0,b=1/0){if(typeof g[m]<"u"){let x=Number(g[m]);isNaN(x)||(x<y?f[m]=y:x>b?f[m]=b:f[m]=x)}}function u(m,f,g,y=n){let b=g[m];typeof b=="string"&&(f[m]=b.split(y).map(x=>x.trim()))}var l={ALL:e.DiagLogLevel.ALL,VERBOSE:e.DiagLogLevel.VERBOSE,DEBUG:e.DiagLogLevel.DEBUG,INFO:e.DiagLogLevel.INFO,WARN:e.DiagLogLevel.WARN,ERROR:e.DiagLogLevel.ERROR,NONE:e.DiagLogLevel.NONE};function d(m,f,g){let y=g[m];if(typeof y=="string"){let b=l[y.toUpperCase()];b!=null&&(f[m]=b)}}function p(m){let f={};for(let g in t.DEFAULT_ENVIRONMENT){let y=g;switch(y){case"OTEL_LOG_LEVEL":d(y,f,m);break;default:if(o(y))c(y,f,m);else if(a(y))u(y,f,m);else{let b=m[y];typeof b<"u"&&b!==null&&(f[y]=String(b))}}}return f}t.parseEnvironment=p}),$M=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=void 0;var e=require("os"),r=gw();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:e.hostname()},r.DEFAULT_ENVIRONMENT,i)}t.getEnv=n}),HM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0;function e(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}t.hexToBase64=e}),BM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomIdGenerator=void 0;var e=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(e)}};t.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),zM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=void 0;var e=require("perf_hooks");t.otperformance=e.performance}),om=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.23.0"}),VM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcGrpcStatusCodeValues=t.MessagingOperationValues=t.MessagingDestinationKindValues=t.HttpFlavorValues=t.NetTransportValues=t.FaasInvokedProviderValues=t.FaasDocumentOperationValues=t.FaasTriggerValues=t.DbCassandraConsistencyLevelValues=t.DbSystemValues=t.SemanticAttributes=void 0,t.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var e;(function(d){d.OTHER_SQL="other_sql",d.MSSQL="mssql",d.MYSQL="mysql",d.ORACLE="oracle",d.DB2="db2",d.POSTGRESQL="postgresql",d.REDSHIFT="redshift",d.HIVE="hive",d.CLOUDSCAPE="cloudscape",d.HSQLDB="hsqldb",d.PROGRESS="progress",d.MAXDB="maxdb",d.HANADB="hanadb",d.INGRES="ingres",d.FIRSTSQL="firstsql",d.EDB="edb",d.CACHE="cache",d.ADABAS="adabas",d.FIREBIRD="firebird",d.DERBY="derby",d.FILEMAKER="filemaker",d.INFORMIX="informix",d.INSTANTDB="instantdb",d.INTERBASE="interbase",d.MARIADB="mariadb",d.NETEZZA="netezza",d.PERVASIVE="pervasive",d.POINTBASE="pointbase",d.SQLITE="sqlite",d.SYBASE="sybase",d.TERADATA="teradata",d.VERTICA="vertica",d.H2="h2",d.COLDFUSION="coldfusion",d.CASSANDRA="cassandra",d.HBASE="hbase",d.MONGODB="mongodb",d.REDIS="redis",d.COUCHBASE="couchbase",d.COUCHDB="couchdb",d.COSMOSDB="cosmosdb",d.DYNAMODB="dynamodb",d.NEO4J="neo4j",d.GEODE="geode",d.ELASTICSEARCH="elasticsearch",d.MEMCACHED="memcached",d.COCKROACHDB="cockroachdb"})(e=t.DbSystemValues||(t.DbSystemValues={}));var r;(function(d){d.ALL="all",d.EACH_QUORUM="each_quorum",d.QUORUM="quorum",d.LOCAL_QUORUM="local_quorum",d.ONE="one",d.TWO="two",d.THREE="three",d.LOCAL_ONE="local_one",d.ANY="any",d.SERIAL="serial",d.LOCAL_SERIAL="local_serial"})(r=t.DbCassandraConsistencyLevelValues||(t.DbCassandraConsistencyLevelValues={}));var n;(function(d){d.DATASOURCE="datasource",d.HTTP="http",d.PUBSUB="pubsub",d.TIMER="timer",d.OTHER="other"})(n=t.FaasTriggerValues||(t.FaasTriggerValues={}));var i;(function(d){d.INSERT="insert",d.EDIT="edit",d.DELETE="delete"})(i=t.FaasDocumentOperationValues||(t.FaasDocumentOperationValues={}));var o;(function(d){d.AWS="aws",d.AZURE="azure",d.GCP="gcp"})(o=t.FaasInvokedProviderValues||(t.FaasInvokedProviderValues={}));var s;(function(d){d.IP_TCP="ip_tcp",d.IP_UDP="ip_udp",d.IP="ip",d.UNIX="unix",d.PIPE="pipe",d.INPROC="inproc",d.OTHER="other"})(s=t.NetTransportValues||(t.NetTransportValues={}));var a;(function(d){d.HTTP_1_0="1.0",d.HTTP_1_1="1.1",d.HTTP_2_0="2.0",d.SPDY="SPDY",d.QUIC="QUIC"})(a=t.HttpFlavorValues||(t.HttpFlavorValues={}));var c;(function(d){d.QUEUE="queue",d.TOPIC="topic"})(c=t.MessagingDestinationKindValues||(t.MessagingDestinationKindValues={}));var u;(function(d){d.RECEIVE="receive",d.PROCESS="process"})(u=t.MessagingOperationValues||(t.MessagingOperationValues={}));var l;(function(d){d[d.OK=0]="OK",d[d.CANCELLED=1]="CANCELLED",d[d.UNKNOWN=2]="UNKNOWN",d[d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",d[d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",d[d.NOT_FOUND=5]="NOT_FOUND",d[d.ALREADY_EXISTS=6]="ALREADY_EXISTS",d[d.PERMISSION_DENIED=7]="PERMISSION_DENIED",d[d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",d[d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",d[d.ABORTED=10]="ABORTED",d[d.OUT_OF_RANGE=11]="OUT_OF_RANGE",d[d.UNIMPLEMENTED=12]="UNIMPLEMENTED",d[d.INTERNAL=13]="INTERNAL",d[d.UNAVAILABLE=14]="UNAVAILABLE",d[d.DATA_LOSS=15]="DATA_LOSS",d[d.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(l=t.RpcGrpcStatusCodeValues||(t.RpcGrpcStatusCodeValues={}))}),WM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(VM(),t)}),GM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetrySdkLanguageValues=t.OsTypeValues=t.HostArchValues=t.AwsEcsLaunchtypeValues=t.CloudPlatformValues=t.CloudProviderValues=t.ResourceAttributes=void 0,t.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var e;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(e=t.CloudProviderValues||(t.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=t.CloudPlatformValues||(t.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=t.AwsEcsLaunchtypeValues||(t.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=t.HostArchValues||(t.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=t.OsTypeValues||(t.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=t.TelemetrySdkLanguageValues||(t.TelemetrySdkLanguageValues={}))}),KM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(GM(),t)}),Oc=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(WM(),t),r(KM(),t)}),XM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_INFO=void 0;var e=om(),r=Oc();t.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:e.VERSION}}),QM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=void 0;function e(r){r.unref()}t.unrefTimer=e}),ZM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r($M(),t),r(HM(),t),r(BM(),t),r(zM(),t),r(XM(),t),r(QM(),t)}),vw=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(ZM(),t)}),YM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;var e=vw(),r=9,n=Math.pow(10,r);function i(g){let y=g/1e3,b=Math.trunc(y),x=Number((y-b).toFixed(r))*n;return[b,x]}function o(){let g=e.otperformance.timeOrigin;if(typeof g!="number"){let y=e.otperformance;g=y.timing&&y.timing.fetchStart}return g}function s(g){let y=i(o()),b=i(typeof g=="number"?g:e.otperformance.now()),x=y[0]+b[0],w=y[1]+b[1];return w>n&&(w-=n,x+=1),[x,w]}t.hrTime=s;function a(g){if(m(g))return g;if(typeof g=="number")return g<o()?s(g):i(g);if(g instanceof Date)return i(g.getTime());throw TypeError("Invalid input type")}t.timeInputToHrTime=a;function c(g,y){let b=y[0]-g[0],x=y[1]-g[1];return x<0&&(b-=1,x+=n),[b,x]}t.hrTimeDuration=c;function u(g){let y=r,b=`${"0".repeat(y)}${g[1]}Z`,x=b.substr(b.length-y-1);return new Date(g[0]*1e3).toISOString().replace("000Z",x)}t.hrTimeToTimeStamp=u;function l(g){return g[0]*n+g[1]}t.hrTimeToNanoseconds=l;function d(g){return Math.round(g[0]*1e3+g[1]/1e6)}t.hrTimeToMilliseconds=d;function p(g){return Math.round(g[0]*1e6+g[1]/1e3)}t.hrTimeToMicroseconds=p;function m(g){return Array.isArray(g)&&g.length===2&&typeof g[0]=="number"&&typeof g[1]=="number"}t.isTimeInputHrTime=m;function f(g){return m(g)||typeof g=="number"||g instanceof Date}t.isTimeInput=f}),JM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),eL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportResultCode=void 0;var e;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(e=t.ExportResultCode||(t.ExportResultCode={}))}),tL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositePropagator=void 0;var e=cr(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){e.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){e.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};t.CompositePropagator=r}),rL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;var e="[_0-9a-z-*/]",r=`[a-z]${e}{0,255}`,n=`[a-z0-9]${e}{0,240}@[a-z]${e}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(u){return i.test(u)}t.validateKey=a;function c(u){return o.test(u)&&!s.test(u)}t.validateValue=c}),yw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceState=void 0;var e=rL(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let u=this._clone();return u._internalState.has(a)&&u._internalState.delete(a),u._internalState.set(a,c),u}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,u)=>{let l=u.trim(),d=l.indexOf(o);if(d!==-1){let p=l.slice(0,d),m=l.slice(d+1,u.length);e.validateKey(p)&&e.validateValue(m)&&c.set(p,m)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};t.TraceState=s}),nL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpTraceContextPropagator=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;var e=cr(),r=lm(),n=yw();t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",u=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function l(p){let m=u.exec(p);return!m||m[1]==="00"&&m[5]?null:{traceId:m[2],spanId:m[3],traceFlags:parseInt(m[4],16)}}t.parseTraceParent=l;var d=class{inject(p,m,f){let g=e.trace.getSpanContext(p);if(!g||r.isTracingSuppressed(p)||!e.isSpanContextValid(g))return;let y=`${i}-${g.traceId}-${g.spanId}-0${Number(g.traceFlags||e.TraceFlags.NONE).toString(16)}`;f.set(m,t.TRACE_PARENT_HEADER,y),g.traceState&&f.set(m,t.TRACE_STATE_HEADER,g.traceState.serialize())}extract(p,m,f){let g=f.get(m,t.TRACE_PARENT_HEADER);if(!g)return p;let y=Array.isArray(g)?g[0]:g;if(typeof y!="string")return p;let b=l(y);if(!b)return p;b.isRemote=!0;let x=f.get(m,t.TRACE_STATE_HEADER);if(x){let w=Array.isArray(x)?x.join(","):x;b.traceState=new n.TraceState(typeof w=="string"?w:void 0)}return e.trace.setSpanContext(p,b)}fields(){return[t.TRACE_PARENT_HEADER,t.TRACE_STATE_HEADER]}};t.HttpTraceContextPropagator=d}),iL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),oL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRPCMetadata=t.deleteRPCMetadata=t.setRPCMetadata=t.RPCType=void 0;var e=cr(),r=e.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=t.RPCType||(t.RPCType={}));function i(a,c){return a.setValue(r,c)}t.setRPCMetadata=i;function o(a){return a.deleteValue(r)}t.deleteRPCMetadata=o;function s(a){return a.getValue(r)}t.getRPCMetadata=s}),bw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOffSampler=void 0;var e=cr(),r=class{shouldSample(){return{decision:e.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};t.AlwaysOffSampler=r}),_w=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOnSampler=void 0;var e=cr(),r=class{shouldSample(){return{decision:e.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};t.AlwaysOnSampler=r}),sL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentBasedSampler=void 0;var e=cr(),r=mw(),n=bw(),i=_w(),o=class{constructor(s){var a,c,u,l;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(u=s.localParentSampled)!==null&&u!==void 0?u:new i.AlwaysOnSampler,this._localParentNotSampled=(l=s.localParentNotSampled)!==null&&l!==void 0?l:new n.AlwaysOffSampler}shouldSample(s,a,c,u,l,d){let p=e.trace.getSpanContext(s);return!p||!e.isSpanContextValid(p)?this._root.shouldSample(s,a,c,u,l,d):p.isRemote?p.traceFlags&e.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,u,l,d):this._remoteParentNotSampled.shouldSample(s,a,c,u,l,d):p.traceFlags&e.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,u,l,d):this._localParentNotSampled.shouldSample(s,a,c,u,l,d)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};t.ParentBasedSampler=o}),aL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceIdRatioBasedSampler=void 0;var e=cr(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:e.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?e.SamplingDecision.RECORD_AND_SAMPLED:e.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};t.TraceIdRatioBasedSampler=r}),cL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlIgnored=t.urlMatches=void 0;function e(n,i){return typeof i=="string"?n===i:i.test(n)}t.urlMatches=e;function r(n,i){if(!i)return!1;for(let o of i)if(e(n,o))return!0;return!1}t.isUrlIgnored=r}),uL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=void 0;function e(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}t.isWrapped=e}),hi=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.baggageUtils=void 0,r(FM(),t),r(UM(),t),r(mw(),t),r(fw(),t),r(YM(),t),r(JM(),t),r(eL(),t),r(om(),t),t.baggageUtils=pw(),r(vw(),t),r(tL(),t),r(nL(),t),r(iL(),t),r(oL(),t),r(bw(),t),r(_w(),t),r(sL(),t),r(aL(),t),r(lm(),t),r(yw(),t),r(gw(),t),r(hw(),t),r(cL(),t),r(uL(),t),r(om(),t)}),lL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEventName=void 0,t.ExceptionEventName="exception"}),xw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var e=cr(),r=hi(),n=Oc(),i=lL(),o=class{constructor(s,a,c,u,l,d,p=[],m=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:e.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=u,this.parentSpanId=d,this.kind=l,this.links=p,this.startTime=r.timeInputToHrTime(m),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(e.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(e.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(e.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c>"u"&&(c=a),a=void 0),typeof c>"u"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){e.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&e.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):e.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&e.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};t.Span=o}),ww=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSamplerFromEnv=t.DEFAULT_CONFIG=void 0;var e=cr(),r=hi(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;t.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return e.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}t.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return e.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let u=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(u)?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):u<0||u>1?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):u}}),dL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var e=ww();function r(n){let i={sampler:e.buildSamplerFromEnv()},o=Object.assign({},e.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},e.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}t.mergeConfig=r}),pL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var e=cr(),r=hi(),n=xw(),i=dL(),o=class{constructor(a,c,u){this._tracerProvider=u;let l=i.mergeConfig(c);this._sampler=l.sampler,this._spanLimits=l.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=u.resource,this.instrumentationLibrary=a}startSpan(a,c={},u=e.context.active()){var l,d;if(r.isTracingSuppressed(u))return e.diag.debug("Instrumentation suppressed, returning Noop Span"),e.trace.wrapSpanContext(e.INVALID_SPAN_CONTEXT);let p=s(c,u),m=this._idGenerator.generateSpanId(),f,g,y;!p||!e.trace.isSpanContextValid(p)?f=this._idGenerator.generateTraceId():(f=p.traceId,g=p.traceState,y=p.spanId);let b=(l=c.kind)!==null&&l!==void 0?l:e.SpanKind.INTERNAL,x=(d=c.links)!==null&&d!==void 0?d:[],w=r.sanitizeAttributes(c.attributes),C=this._sampler.shouldSample(c.root?e.trace.setSpanContext(u,e.INVALID_SPAN_CONTEXT):u,f,a,b,w,x),P=C.decision===e.SamplingDecision.RECORD_AND_SAMPLED?e.TraceFlags.SAMPLED:e.TraceFlags.NONE,k={traceId:f,spanId:m,traceFlags:P,traceState:g};if(C.decision===e.SamplingDecision.NOT_RECORD)return e.diag.debug("Recording is off, propagating context in a non-recording span"),e.trace.wrapSpanContext(k);let q=new n.Span(this,u,a,k,b,y,x,c.startTime);return q.setAttributes(Object.assign(w,C.attributes)),q}startActiveSpan(a,c,u,l){let d,p,m;if(arguments.length<2)return;arguments.length===2?m=c:arguments.length===3?(d=c,m=u):(d=c,p=u,m=l);let f=p??e.context.active(),g=this.startSpan(a,d,f),y=e.trace.setSpan(f,g);return e.context.with(y,m,void 0,g)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};t.Tracer=o;function s(a,c){if(!a.root)return e.trace.getSpanContext(c)}}),fL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultServiceName=void 0;function e(){return`unknown_service:${process.argv0}`}t.defaultServiceName=e}),mL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectResources=void 0;var e=Ew(),r=cr(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async u=>{try{let l=await u.detect(a);return r.diag.debug(`${u.constructor.name} found resource.`,l),l}catch(l){return r.diag.debug(`${u.constructor.name} failed: ${l.message}`),e.Resource.empty()}}));return o(c),c.reduce((u,l)=>u.merge(l),e.Resource.empty())};t.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),hL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.envDetector=void 0;var e=cr(),r=hi(),n=Oc(),i=dm(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),u=c.OTEL_RESOURCE_ATTRIBUTES,l=c.OTEL_SERVICE_NAME;if(u)try{let d=this._parseResourceAttributes(u);Object.assign(a,d)}catch(d){e.diag.debug(`EnvDetector failed: ${d.message}`)}return l&&(a[n.ResourceAttributes.SERVICE_NAME]=l),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let u of c){let l=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(l.length!==2)continue;let[d,p]=l;if(d=d.trim(),p=p.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(d))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(p))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[d]=p}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};t.envDetector=new o}),gL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDetector=void 0;var e=cr(),r=Oc(),n=dm(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(e.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};t.processDetector=new i}),vL=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(hL(),t),r(gL(),t)}),yL=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(fL(),t),r(mL(),t),r(vL(),t)}),Cw=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(yL(),t)}),Ew=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var e=Oc(),r=hi(),n=Cw(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[e.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[e.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_NAME],[e.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};t.Resource=i,i.EMPTY=new i({})}),bL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),_L=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),dm=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ew(),t),r(Cw(),t),r(bL(),t),r(_L(),t)}),xL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSpanProcessor=void 0;var e=hi(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{e.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};t.MultiSpanProcessor=r}),Sw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpanProcessor=void 0;var e=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};t.NoopSpanProcessor=e}),wL=A((t,e)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Function]",f="[object GeneratorFunction]",g="[object Map]",y="[object Number]",b="[object Null]",x="[object Object]",w="[object Proxy]",C="[object RegExp]",P="[object Set]",k="[object String]",q="[object Undefined]",j="[object WeakMap]",Q="[object ArrayBuffer]",ne="[object DataView]",X="[object Float32Array]",H="[object Float64Array]",ae="[object Int8Array]",ee="[object Int16Array]",xe="[object Int32Array]",de="[object Uint8Array]",z="[object Uint8ClampedArray]",Y="[object Uint16Array]",te="[object Uint32Array]",pe=/[\\^$.*+?()[\]{}|]/g,ge=/^\[object .+?Constructor\]$/,De=/^(?:0|[1-9]\d*)$/,Re={};Re[X]=Re[H]=Re[ae]=Re[ee]=Re[xe]=Re[de]=Re[z]=Re[Y]=Re[te]=!0,Re[a]=Re[c]=Re[Q]=Re[l]=Re[ne]=Re[d]=Re[p]=Re[m]=Re[g]=Re[y]=Re[x]=Re[C]=Re[P]=Re[k]=Re[j]=!1;var ze=typeof global=="object"&&global&&global.Object===Object&&global,We=typeof self=="object"&&self&&self.Object===Object&&self,mt=ze||We||Function("return this")(),ot=typeof t=="object"&&t&&!t.nodeType&&t,ke=ot&&typeof e=="object"&&e&&!e.nodeType&&e,Ot=ke&&ke.exports===ot,Mt=Ot&&ze.process,qe=function(){try{var O=ke&&ke.require&&ke.require("util").types;return O||Mt&&Mt.binding&&Mt.binding("util")}catch{}}(),we=qe&&qe.isTypedArray;function $e(O,K,re){switch(re.length){case 0:return O.call(K);case 1:return O.call(K,re[0]);case 2:return O.call(K,re[0],re[1]);case 3:return O.call(K,re[0],re[1],re[2])}return O.apply(K,re)}function tt(O,K){for(var re=-1,Ne=Array(O);++re<O;)Ne[re]=K(re);return Ne}function Ir(O){return function(K){return O(K)}}function en(O,K){return O?.[K]}function ue(O,K){return function(re){return O(K(re))}}var Fr=Array.prototype,Vt=Function.prototype,$t=Object.prototype,ht=mt["__core-js_shared__"],ir=Vt.toString,Ht=$t.hasOwnProperty,qr=function(){var O=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),Ur=$t.toString,lt=ir.call(Object),Kr=RegExp("^"+ir.call(Ht).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Ot?mt.Buffer:void 0,M=mt.Symbol,oe=mt.Uint8Array,fe=Yt?Yt.allocUnsafe:void 0,ye=ue(Object.getPrototypeOf,Object),Qe=Object.create,rt=$t.propertyIsEnumerable,st=Fr.splice,Ze=M?M.toStringTag:void 0,Me=function(){try{var O=Qf(Object,"defineProperty");return O({},"",{}),O}catch{}}(),Pe=Yt?Yt.isBuffer:void 0,He=Math.max,me=Date.now,Lt=Qf(mt,"Map"),Bt=Qf(Object,"create"),Ue=function(){function O(){}return function(K){if(!Ko(K))return{};if(Qe)return Qe(K);O.prototype=K;var re=new O;return O.prototype=void 0,re}}();function yr(O){var K=-1,re=O==null?0:O.length;for(this.clear();++K<re;){var Ne=O[K];this.set(Ne[0],Ne[1])}}function T(){this.__data__=Bt?Bt(null):{},this.size=0}function J(O){var K=this.has(O)&&delete this.__data__[O];return this.size-=K?1:0,K}function Ee(O){var K=this.__data__;if(Bt){var re=K[O];return re===n?void 0:re}return Ht.call(K,O)?K[O]:void 0}function bt(O){var K=this.__data__;return Bt?K[O]!==void 0:Ht.call(K,O)}function W(O,K){var re=this.__data__;return this.size+=this.has(O)?0:1,re[O]=Bt&&K===void 0?n:K,this}yr.prototype.clear=T,yr.prototype.delete=J,yr.prototype.get=Ee,yr.prototype.has=bt,yr.prototype.set=W;function S(O){var K=-1,re=O==null?0:O.length;for(this.clear();++K<re;){var Ne=O[K];this.set(Ne[0],Ne[1])}}function L(){this.__data__=[],this.size=0}function F(O){var K=this.__data__,re=ie(K,O);if(re<0)return!1;var Ne=K.length-1;return re==Ne?K.pop():st.call(K,re,1),--this.size,!0}function I(O){var K=this.__data__,re=ie(K,O);return re<0?void 0:K[re][1]}function E(O){return ie(this.__data__,O)>-1}function Z(O,K){var re=this.__data__,Ne=ie(re,O);return Ne<0?(++this.size,re.push([O,K])):re[Ne][1]=K,this}S.prototype.clear=L,S.prototype.delete=F,S.prototype.get=I,S.prototype.has=E,S.prototype.set=Z;function se(O){var K=-1,re=O==null?0:O.length;for(this.clear();++K<re;){var Ne=O[K];this.set(Ne[0],Ne[1])}}function Ve(){this.size=0,this.__data__={hash:new yr,map:new(Lt||S),string:new yr}}function Nt(O){var K=pl(this,O).delete(O);return this.size-=K?1:0,K}function xt(O){return pl(this,O).get(O)}function Gt(O){return pl(this,O).has(O)}function Tr(O,K){var re=pl(this,O),Ne=re.size;return re.set(O,K),this.size+=re.size==Ne?0:1,this}se.prototype.clear=Ve,se.prototype.delete=Nt,se.prototype.get=xt,se.prototype.has=Gt,se.prototype.set=Tr;function or(O){var K=this.__data__=new S(O);this.size=K.size}function nt(){this.__data__=new S,this.size=0}function v(O){var K=this.__data__,re=K.delete(O);return this.size=K.size,re}function h(O){return this.__data__.get(O)}function _(O){return this.__data__.has(O)}function R(O,K){var re=this.__data__;if(re instanceof S){var Ne=re.__data__;if(!Lt||Ne.length<r-1)return Ne.push([O,K]),this.size=++re.size,this;re=this.__data__=new se(Ne)}return re.set(O,K),this.size=re.size,this}or.prototype.clear=nt,or.prototype.delete=v,or.prototype.get=h,or.prototype.has=_,or.prototype.set=R;function D(O,K){var re=Jf(O),Ne=!re&&Yf(O),Rt=!re&&!Ne&&Hx(O),Jt=!re&&!Ne&&!Rt&&zx(O),sr=re||Ne||Rt||Jt,St=sr?tt(O.length,String):[],ar=St.length;for(var Qn in O)(K||Ht.call(O,Qn))&&!(sr&&(Qn=="length"||Rt&&(Qn=="offset"||Qn=="parent")||Jt&&(Qn=="buffer"||Qn=="byteLength"||Qn=="byteOffset")||Ux(Qn,ar)))&&St.push(Qn);return St}function U(O,K,re){(re!==void 0&&!fl(O[K],re)||re===void 0&&!(K in O))&&le(O,K,re)}function V(O,K,re){var Ne=O[K];(!(Ht.call(O,K)&&fl(Ne,re))||re===void 0&&!(K in O))&&le(O,K,re)}function ie(O,K){for(var re=O.length;re--;)if(fl(O[re][0],K))return re;return-1}function le(O,K,re){K=="__proto__"&&Me?Me(O,K,{configurable:!0,enumerable:!0,value:re,writable:!0}):O[K]=re}var Le=P1();function gt(O){return O==null?O===void 0?q:b:Ze&&Ze in Object(O)?D1(O):q1(O)}function at(O){return Ec(O)&&gt(O)==a}function et(O){if(!Ko(O)||k1(O))return!1;var K=tm(O)?Kr:ge;return K.test(F1(O))}function qt(O){return Ec(O)&&Bx(O.length)&&!!Re[gt(O)]}function Xf(O){if(!Ko(O))return N1(O);var K=$x(O),re=[];for(var Ne in O)Ne=="constructor"&&(K||!Ht.call(O,Ne))||re.push(Ne);return re}function Cc(O,K,re,Ne,Rt){O!==K&&Le(K,function(Jt,sr){if(Rt||(Rt=new or),Ko(Jt))b1(O,K,sr,re,Cc,Ne,Rt);else{var St=Ne?Ne(Zf(O,sr),Jt,sr+"",O,K,Rt):void 0;St===void 0&&(St=Jt),U(O,sr,St)}},Vx)}function b1(O,K,re,Ne,Rt,Jt,sr){var St=Zf(O,re),ar=Zf(K,re),Qn=sr.get(ar);if(Qn){U(O,re,Qn);return}var Ln=Jt?Jt(St,ar,re+"",O,K,sr):void 0,Sc=Ln===void 0;if(Sc){var rm=Jf(ar),nm=!rm&&Hx(ar),Gx=!rm&&!nm&&zx(ar);Ln=ar,rm||nm||Gx?Jf(St)?Ln=St:U1(St)?Ln=S1(St):nm?(Sc=!1,Ln=w1(ar,!0)):Gx?(Sc=!1,Ln=E1(ar,!0)):Ln=[]:$1(ar)||Yf(ar)?(Ln=St,Yf(St)?Ln=H1(St):(!Ko(St)||tm(St))&&(Ln=I1(ar))):Sc=!1}Sc&&(sr.set(ar,Ln),Rt(Ln,ar,Ne,Jt,sr),sr.delete(ar)),U(O,re,Ln)}function _1(O,K){return L1(M1(O,K,Wx),O+"")}var x1=Me?function(O,K){return Me(O,"toString",{configurable:!0,enumerable:!1,value:z1(K),writable:!0})}:Wx;function w1(O,K){if(K)return O.slice();var re=O.length,Ne=fe?fe(re):new O.constructor(re);return O.copy(Ne),Ne}function C1(O){var K=new O.constructor(O.byteLength);return new oe(K).set(new oe(O)),K}function E1(O,K){var re=K?C1(O.buffer):O.buffer;return new O.constructor(re,O.byteOffset,O.length)}function S1(O,K){var re=-1,Ne=O.length;for(K||(K=Array(Ne));++re<Ne;)K[re]=O[re];return K}function T1(O,K,re,Ne){var Rt=!re;re||(re={});for(var Jt=-1,sr=K.length;++Jt<sr;){var St=K[Jt],ar=Ne?Ne(re[St],O[St],St,re,O):void 0;ar===void 0&&(ar=O[St]),Rt?le(re,St,ar):V(re,St,ar)}return re}function R1(O){return _1(function(K,re){var Ne=-1,Rt=re.length,Jt=Rt>1?re[Rt-1]:void 0,sr=Rt>2?re[2]:void 0;for(Jt=O.length>3&&typeof Jt=="function"?(Rt--,Jt):void 0,sr&&O1(re[0],re[1],sr)&&(Jt=Rt<3?void 0:Jt,Rt=1),K=Object(K);++Ne<Rt;){var St=re[Ne];St&&O(K,St,Ne,Jt)}return K})}function P1(O){return function(K,re,Ne){for(var Rt=-1,Jt=Object(K),sr=Ne(K),St=sr.length;St--;){var ar=sr[O?St:++Rt];if(re(Jt[ar],ar,Jt)===!1)break}return K}}function pl(O,K){var re=O.__data__;return A1(K)?re[typeof K=="string"?"string":"hash"]:re.map}function Qf(O,K){var re=en(O,K);return et(re)?re:void 0}function D1(O){var K=Ht.call(O,Ze),re=O[Ze];try{O[Ze]=void 0;var Ne=!0}catch{}var Rt=Ur.call(O);return Ne&&(K?O[Ze]=re:delete O[Ze]),Rt}function I1(O){return typeof O.constructor=="function"&&!$x(O)?Ue(ye(O)):{}}function Ux(O,K){var re=typeof O;return K=K??s,!!K&&(re=="number"||re!="symbol"&&De.test(O))&&O>-1&&O%1==0&&O<K}function O1(O,K,re){if(!Ko(re))return!1;var Ne=typeof K;return(Ne=="number"?em(re)&&Ux(K,re.length):Ne=="string"&&K in re)?fl(re[K],O):!1}function A1(O){var K=typeof O;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?O!=="__proto__":O===null}function k1(O){return!!qr&&qr in O}function $x(O){var K=O&&O.constructor,re=typeof K=="function"&&K.prototype||$t;return O===re}function N1(O){var K=[];if(O!=null)for(var re in Object(O))K.push(re);return K}function q1(O){return Ur.call(O)}function M1(O,K,re){return K=He(K===void 0?O.length-1:K,0),function(){for(var Ne=arguments,Rt=-1,Jt=He(Ne.length-K,0),sr=Array(Jt);++Rt<Jt;)sr[Rt]=Ne[K+Rt];Rt=-1;for(var St=Array(K+1);++Rt<K;)St[Rt]=Ne[Rt];return St[K]=re(sr),$e(O,this,St)}}function Zf(O,K){if(!(K==="constructor"&&typeof O[K]=="function")&&K!="__proto__")return O[K]}var L1=j1(x1);function j1(O){var K=0,re=0;return function(){var Ne=me(),Rt=o-(Ne-re);if(re=Ne,Rt>0){if(++K>=i)return arguments[0]}else K=0;return O.apply(void 0,arguments)}}function F1(O){if(O!=null){try{return ir.call(O)}catch{}try{return O+""}catch{}}return""}function fl(O,K){return O===K||O!==O&&K!==K}var Yf=at(function(){return arguments}())?at:function(O){return Ec(O)&&Ht.call(O,"callee")&&!rt.call(O,"callee")},Jf=Array.isArray;function em(O){return O!=null&&Bx(O.length)&&!tm(O)}function U1(O){return Ec(O)&&em(O)}var Hx=Pe||V1;function tm(O){if(!Ko(O))return!1;var K=gt(O);return K==m||K==f||K==u||K==w}function Bx(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=s}function Ko(O){var K=typeof O;return O!=null&&(K=="object"||K=="function")}function Ec(O){return O!=null&&typeof O=="object"}function $1(O){if(!Ec(O)||gt(O)!=x)return!1;var K=ye(O);if(K===null)return!0;var re=Ht.call(K,"constructor")&&K.constructor;return typeof re=="function"&&re instanceof re&&ir.call(re)==lt}var zx=we?Ir(we):qt;function H1(O){return T1(O,Vx(O))}function Vx(O){return em(O)?D(O,!0):Xf(O)}var B1=R1(function(O,K,re){Cc(O,K,re)});function z1(O){return function(){return O}}function Wx(O){return O}function V1(){return!1}e.exports=B1}),CL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessorBase=void 0;var e=cr(),r=hi(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof o?.maxExportBatchSize=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof o?.maxQueueSize=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof o?.scheduledDelayMillis=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof o?.exportTimeoutMillis=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,u=a;c<u;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};t.BatchSpanProcessorBase=n}),EL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessor=void 0;var e=CL(),r=class extends e.BatchSpanProcessorBase{onShutdown(){}};t.BatchSpanProcessor=r}),SL=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(EL(),t)}),Tw=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(SL(),t)}),TL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTracerProvider=t.ForceFlushState=void 0;var e=cr(),r=hi(),n=dm(),i=Rw(),o=ww(),s=xL(),a=Sw(),c=wL(),u=Tw(),l;(function(p){p[p.resolved=0]="resolved",p[p.timeout=1]="timeout",p[p.error=2]="error",p[p.unresolved=3]="unresolved"})(l=t.ForceFlushState||(t.ForceFlushState={}));var d=class{constructor(p={}){var m;this._registeredSpanProcessors=[],this._tracers=new Map;let f=c({},o.DEFAULT_CONFIG,p);this.resource=(m=f.resource)!==null&&m!==void 0?m:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},f,{resource:this.resource});let g=this._buildExporterFromEnv();if(g!==void 0){let y=new u.BatchSpanProcessor(g);this.activeSpanProcessor=y}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(p,m){let f=`${p}@${m||""}`;return this._tracers.has(f)||this._tracers.set(f,new i.Tracer({name:p,version:m},this._config,this)),this._tracers.get(f)}addSpanProcessor(p){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(m=>e.diag.error("Error while trying to shutdown current span processor",m)),this._registeredSpanProcessors.push(p),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(p={}){e.trace.setGlobalTracerProvider(this),p.propagator===void 0&&(p.propagator=this._buildPropagatorFromEnv()),p.contextManager&&e.context.setGlobalContextManager(p.contextManager),p.propagator&&e.propagation.setGlobalPropagator(p.propagator)}forceFlush(){let p=this._config.forceFlushTimeoutMillis,m=this._registeredSpanProcessors.map(f=>new Promise(g=>{let y,b=setTimeout(()=>{g(new Error(`Span processor did not completed within timeout period of ${p} ms`)),y=l.timeout},p);f.forceFlush().then(()=>{clearTimeout(b),y!==l.timeout&&(y=l.resolved,g(y))}).catch(x=>{clearTimeout(b),y=l.error,g(x)})}));return new Promise((f,g)=>{Promise.all(m).then(y=>{let b=y.filter(x=>x!==l.resolved);b.length>0?g(b):f()}).catch(y=>g([y]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(p){var m;return(m=d._registeredPropagators.get(p))===null||m===void 0?void 0:m()}_getSpanExporter(p){var m;return(m=d._registeredExporters.get(p))===null||m===void 0?void 0:m()}_buildPropagatorFromEnv(){let p=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),m=p.map(f=>{let g=this._getPropagator(f);return g||e.diag.warn(`Propagator "${f}" requested through environment variable is unavailable.`),g}).reduce((f,g)=>(g&&f.push(g),f),[]);if(m.length!==0)return p.length===1?m[0]:new r.CompositePropagator({propagators:m})}_buildExporterFromEnv(){let p=r.getEnv().OTEL_TRACES_EXPORTER;if(p==="none")return;let m=this._getSpanExporter(p);return m||e.diag.error(`Exporter "${p}" requested through environment variable is unavailable.`),m}};t.BasicTracerProvider=d,d._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),d._registeredExporters=new Map}),RL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSpanExporter=void 0;var e=hi(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:e.hrTimeToMicroseconds(n.startTime),duration:e.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:e.ExportResultCode.SUCCESS})}};t.ConsoleSpanExporter=r}),PL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySpanExporter=void 0;var e=hi(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:e.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:e.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};t.InMemorySpanExporter=r}),DL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),IL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpanProcessor=void 0;var e=cr(),r=hi(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};t.SimpleSpanProcessor=n}),OL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),AL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),kL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),NL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Rw=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(pL(),t),r(TL(),t),r(Tw(),t),r(RL(),t),r(PL(),t),r(DL(),t),r(IL(),t),r(OL(),t),r(Sw(),t),r(xw(),t),r(AL(),t),r(kL(),t),r(NL(),t)}),qL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.azureCoreTracing=t.AzureMonitorSymbol=void 0;var e=Or();t.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=Rw(),a=cr(),c=new s.BasicTracerProvider,u=c.getTracer("applicationinsights tracer"),l=o.setTracer;o.setTracer=function(d){var p=d.startSpan;d.startSpan=function(m,f,g){var y=p.call(this,m,f,g),b=y.end;return y.end=function(){var x=b.apply(this,arguments);return e.channel.publish("azure-coretracing",y),x},y},d[t.AzureMonitorSymbol]=!0,l.call(this,d)},a.trace.getSpan(a.context.active()),o.setTracer(u),r=!0}catch{}return o};t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}t.enable=i}),ML=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.bunyan=void 0;var e=Or(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var u=c;u||(u=o.call(this,s,!0)),e.channel.publish("bunyan",{level:s.level,result:u})}return c},i};t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("bunyan",t.bunyan)}t.enable=n}),LL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.console=void 0;var e=Or(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(f){if(!f)return!0;var g=f.toString();return e.channel.publish("console",{message:g}),!0},a.write=function(f){if(!f)return!0;var g=f.toString();return e.channel.publish("console",{message:g,stderr:!0}),!0};for(var c=new o.Console(s,a),u=["log","info","warn","error","dir","time","timeEnd","trace","assert"],l=function(f){var g=o[f];g&&(o[f]=function(){if(c[f])try{c[f].apply(c,arguments)}catch{}return g.apply(o,arguments)})},d=0,p=u;d<p.length;d++){var m=p[d];l(m)}return o};t.console={versionSpecifier:">= 4.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("console",t.console),require("console")}t.enable=i}),jL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongoCore=void 0;var e=Or(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var u=typeof arguments[1]=="function"?1:2;return typeof arguments[u]=="function"&&(arguments[u]=e.channel.bindToContext(arguments[u])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=e.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}t.enable=n}),FL=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(c){for(var u,l=1,d=arguments.length;l<d;l++){u=arguments[l];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])}return c},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongo330=t.mongo3=t.mongo2=void 0;var r=Or(),n=function(c){var u=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(d){return d()})}}}),l={};return u.on("started",function(d){l[d.requestId]||(l[d.requestId]=e(e({},d),{time:new Date}))}),u.on("succeeded",function(d){var p=l[d.requestId];p&&delete l[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}):r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),u.on("failed",function(d){var p=l[d.requestId];p&&delete l[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}):r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),c},i=function(c){var u=c.instrument(),l={},d={};return u.on("started",function(p){l[p.requestId]||(d[p.requestId]=r.channel.bindToContext(function(m){return m()}),l[p.requestId]=e(e({},p),{time:new Date}))}),u.on("succeeded",function(p){var m=l[p.requestId];m&&delete l[p.requestId],typeof p=="object"&&typeof d[p.requestId]=="function"&&(d[p.requestId](function(){return r.channel.publish("mongodb",{startedData:m,event:p,succeeded:!0})}),delete d[p.requestId])}),u.on("failed",function(p){var m=l[p.requestId];m&&delete l[p.requestId],typeof p=="object"&&typeof d[p.requestId]=="function"&&(d[p.requestId](function(){return r.channel.publish("mongodb",{startedData:m,event:p,succeeded:!1})}),delete d[p.requestId])}),c},o=function(c){var u=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var l=u.apply(this,arguments),d=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var m=typeof arguments[1]=="function"?1:2;return typeof arguments[m]=="function"&&(arguments[m]=r.channel.bindToContext(arguments[m])),d.apply(this,arguments)};var p=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),p.apply(this,arguments)},l},c},s=function(c){o(c);var u=c.instrument(),l={},d={};return u.on("started",function(p){l[p.requestId]||(d[p.requestId]=r.channel.bindToContext(function(m){return m()}),l[p.requestId]=p)}),u.on("succeeded",function(p){var m=l[p.requestId];m&&delete l[p.requestId],typeof p=="object"&&typeof d[p.requestId]=="function"&&(d[p.requestId](function(){return r.channel.publish("mongodb",{startedData:m,event:p,succeeded:!0})}),delete d[p.requestId])}),u.on("failed",function(p){var m=l[p.requestId];m&&delete l[p.requestId],typeof p=="object"&&typeof d[p.requestId]=="function"&&(d[p.requestId](function(){return r.channel.publish("mongodb",{startedData:m,event:p,succeeded:!1})}),delete d[p.requestId])}),c};t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",t.mongo2),r.channel.registerMonkeyPatch("mongodb",t.mongo3),r.channel.registerMonkeyPatch("mongodb",t.mongo330)}t.enable=a}),UL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mysql=void 0;var e=Or(),r=require("path"),n=function(o,s){var a=function(m,f){return function(g,y){var b=m[g];b&&(m[g]=function(){for(var x=arguments.length-1,w=arguments.length-1;w>=0;--w)if(typeof arguments[w]=="function"){x=w;break}else if(typeof arguments[w]<"u")break;var C=arguments[x],P={result:null,startTime:null,startDate:null};typeof C=="function"&&(y?(P.startTime=process.hrtime(),P.startDate=new Date,arguments[x]=e.channel.bindToContext(y(P,C))):arguments[x]=e.channel.bindToContext(C));var k=b.apply(this,arguments);return P.result=k,k})}},c=function(m,f){return a(m.prototype,f+".prototype")},u=["connect","changeUser","ping","statistics","end"],l=require(r.dirname(s)+"/lib/Connection");u.forEach(function(m){return c(l,"Connection")(m)}),a(l,"Connection")("createQuery",function(m,f){return function(g){var y=process.hrtime(m.startTime),b=y[0]*1e3+y[1]/1e6|0;e.channel.publish("mysql",{query:m.result,callbackArgs:arguments,err:g,duration:b,time:m.startDate}),f.apply(this,arguments)}});var d=["_enqueueCallback"],p=require(r.dirname(s)+"/lib/Pool");return d.forEach(function(m){return c(p,"Pool")(m)}),o};t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("mysql",t.mysql)}t.enable=i}),$L=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgresPool1=void 0;var e=Or();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=e.channel.bindToContext(s)),o.apply(this,arguments)},i}t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}t.enable=n}),HL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgres7=t.postgres6=void 0;var e=Or(),r=require("events");function n(s,a){var c=s.Client.prototype.query,u="__diagnosticOriginalFunc";return s.Client.prototype.query=function(l,d,p){var m={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},f=process.hrtime(),g;function y(b){b&&b[u]&&(b=b[u]);var x=e.channel.bindToContext(function(w,C){var P=process.hrtime(f);if(m.result=C&&{rowCount:C.rowCount,command:C.command},m.error=w,m.duration=Math.ceil(P[0]*1e3+P[1]/1e6),e.channel.publish("postgres",m),w){if(b)return b.apply(this,arguments);g&&g instanceof r.EventEmitter&&g.emit("error",w)}else b&&b.apply(this,arguments)});try{return Object.defineProperty(x,u,{value:b}),x}catch{return b}}try{typeof l=="string"?d instanceof Array?(m.query.preparable={text:l,args:d},p=y(p)):(m.query.text=l,p?p=y(p):d=y(d)):(typeof l.name=="string"?m.query.plan=l.name:l.values instanceof Array?m.query.preparable={text:l.text,args:l.values}:m.query.text=l.text,p?p=y(p):d?d=y(d):l.callback=y(l.callback))}catch{return c.apply(this,arguments)}return arguments[0]=l,arguments[1]=d,arguments[2]=p,arguments.length=arguments.length>3?arguments.length:3,g=c.apply(this,arguments),g},s}function i(s,a){var c=s.Client.prototype.query,u="__diagnosticOriginalFunc";return s.Client.prototype.query=function(l,d,p){var m=this,f=!!p,g={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},y=process.hrtime(),b;function x(w){w&&w[u]&&(w=w[u]);var C=e.channel.bindToContext(function(P,k){var q=process.hrtime(y);if(g.result=k&&{rowCount:k.rowCount,command:k.command},g.error=P,g.duration=Math.ceil(q[0]*1e3+q[1]/1e6),e.channel.publish("postgres",g),P){if(w)return w.apply(this,arguments);b&&b instanceof r.EventEmitter&&b.emit("error",P)}else w&&w.apply(this,arguments)});try{return Object.defineProperty(C,u,{value:w}),C}catch{return w}}try{typeof l=="string"?d instanceof Array?(g.query.preparable={text:l,args:d},f=typeof p=="function",p=f?x(p):p):(g.query.text=l,p?(f=typeof p=="function",p=f?x(p):p):(f=typeof d=="function",d=f?x(d):d)):(typeof l.name=="string"?g.query.plan=l.name:l.values instanceof Array?g.query.preparable={text:l.text,args:l.values}:g.query.text=l.text,p?(f=typeof p=="function",p=x(p)):d?(f=typeof d=="function",d=f?x(d):d):(f=typeof l.callback=="function",l.callback=f?x(l.callback):l.callback))}catch{return c.apply(this,arguments)}return arguments[0]=l,arguments[1]=d,arguments[2]=p,arguments.length=arguments.length>3?arguments.length:3,b=c.apply(this,arguments),f?b:b.then(function(w){return x()(void 0,w),new m._Promise(function(C,P){C(w)})}).catch(function(w){return x()(w,void 0),new m._Promise(function(C,P){P(w)})})},s}t.postgres6={versionSpecifier:"6.*",patch:n},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){e.channel.registerMonkeyPatch("pg",t.postgres6),e.channel.registerMonkeyPatch("pg",t.postgres7)}t.enable=o}),BL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.redis=void 0;var e=Or(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,u=process.hrtime(),l=new Date;s.callback=e.channel.bindToContext(function(d,p){var m=process.hrtime(u),f=m[0]*1e3+m[1]/1e6|0;e.channel.publish("redis",{duration:f,address:c,commandObj:s,err:d,result:p,time:l}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("redis",t.redis)}t.enable=n}),zL=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=void 0;var r=Or(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(u){var l=process.hrtime(),d={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(p,m,f){var g=process.hrtime(l);d=e(e({},d),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!p&&{rowCount:m,rows:f},query:{text:this.parametersByName.statement.value},error:p,duration:Math.ceil(g[0]*1e3+g[1]/1e6)}),r.channel.publish("tedious",d),u.call(this,p,m,f)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",t.tedious)}t.enable=i}),VL=A(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(c,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(l[p]=d[p])},a(c,u)};return function(c,u){a(c,u);function l(){this.constructor=c}c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),r=t&&t.__rest||function(a,c){var u={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&c.indexOf(l)<0&&(u[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(a);d<l.length;d++)c.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(a,l[d])&&(u[l[d]]=a[l[d]]);return u};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.winston2=t.winston3=void 0;var n=Or(),i=function(a){var c=a.Logger.prototype.log,u,l=function(d,p,m){var f;return u===a.config.npm.levels?f="npm":u===a.config.syslog.levels?f="syslog":f="unknown",n.channel.publish("winston",{level:d,message:p,meta:m,levelKind:f}),p};return a.Logger.prototype.log=function(){return u=this.levels,!this.filters||this.filters.length===0?this.filters=[l]:this.filters[this.filters.length-1]!==l&&(this.filters=this.filters.filter(function(d){return d!==l}),this.filters.push(l)),c.apply(this,arguments)},a},o=function(a){var c=function(m,f){var g;return m.config.npm.levels[f]!=null?g="npm":m.config.syslog.levels[f]!=null?g="syslog":g="unknown",g},u=function(m){e(f,m);function f(g,y){var b=m.call(this,y)||this;return b.winston=g,b}return f.prototype.log=function(g,y){var b=g.message,x=g.level,w=g.meta,C=r(g,["message","level","meta"]);x=typeof Symbol.for=="function"?g[Symbol.for("level")]:x,b=g instanceof Error?g:b;var P=c(this.winston,x);w=w||{};for(var k in C)C.hasOwnProperty(k)&&(w[k]=C[k]);n.channel.publish("winston",{message:b,level:x,levelKind:P,meta:w}),y()},f}(a.Transport);function l(){var m=arguments[0].levels||a.config.npm.levels,f;for(var g in m)m.hasOwnProperty(g)&&(f=f===void 0||m[g]>m[f]?g:f);this.add(new u(a,{level:f}))}var d=a.createLogger;a.createLogger=function(){var m=arguments[0].levels||a.config.npm.levels,f;for(var g in m)m.hasOwnProperty(g)&&(f=f===void 0||m[g]>m[f]?g:f);var y=d.apply(this,arguments);y.add(new u(a,{level:f}));var b=y.configure;return y.configure=function(){b.apply(this,arguments),l.apply(this,arguments)},y};var p=a.configure;return a.configure=function(){p.apply(this,arguments),l.apply(this,arguments)},a.add(new u(a)),a};t.winston3={versionSpecifier:"3.x",patch:o},t.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",t.winston2),n.channel.registerMonkeyPatch("winston",t.winston3)}t.enable=s}),WL=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=t.pgPool=t.pg=t.winston=t.redis=t.mysql=t.mongodb=t.mongodbCore=t.console=t.bunyan=t.azuresdk=void 0;var e=qL();t.azuresdk=e;var r=ML();t.bunyan=r;var n=LL();t.console=n;var i=jL();t.mongodbCore=i;var o=FL();t.mongodb=o;var s=UL();t.mysql=s;var a=$L();t.pgPool=a;var c=HL();t.pg=c;var u=BL();t.redis=u;var l=zL();t.tedious=l;var d=VL();t.winston=d;function p(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),u.enable(),d.enable(),e.enable(),l.enable()}t.enable=p}),pm=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContextPreservation=t.IsInitialized=void 0;var e=tw(),r=Xr();t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(t.IsInitialized){i=WL(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function u(l){if(t.IsInitialized){var d=Or();d.channel.addContextPreservation(l),d.channel.spanContextPropagator=e.AsyncScopeManager}}t.registerContextPreservation=u}),Ac=A((t,e)=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),Zn=A((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(l){for(var d,p=1,m=arguments.length;p<m;p++){d=arguments[p];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])}return l},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Xr(),c=Ac(),u=function(){function l(){}return l.getCookie=function(d,p){var m="";if(d&&d.length&&typeof p=="string")for(var f=d+"=",g=p.split(";"),y=0;y<g.length;y++){var p=g[y];if(p=l.trim(p),p&&p.indexOf(f)===0){m=p.substring(f.length,g[y].length);break}}return m},l.trim=function(d){return typeof d=="string"?d.replace(/^\s+|\s+$/g,""):""},l.int32ArrayToBase64=function(d){var p=function(b,x){return String.fromCharCode(b>>x&255)},m=function(b){return p(b,24)+p(b,16)+p(b,8)+p(b,0)},f=d.map(m).join(""),g=Buffer.from?Buffer.from(f,"binary"):new Buffer(f,"binary"),y=g.toString("base64");return y.substr(0,y.indexOf("="))},l.random32=function(){return 4294967296*Math.random()|0},l.randomu32=function(){return l.random32()+2147483648},l.w3cTraceId=function(){for(var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p="",m,f=0;f<4;f++)m=l.random32(),p+=d[m&15]+d[m>>4&15]+d[m>>8&15]+d[m>>12&15]+d[m>>16&15]+d[m>>20&15]+d[m>>24&15]+d[m>>28&15];var g=d[8+Math.random()*4|0];return p.substr(0,8)+p.substr(9,4)+"4"+p.substr(13,3)+g+p.substr(16,3)+p.substr(19,12)},l.w3cSpanId=function(){return l.w3cTraceId().substring(16)},l.isValidW3CId=function(d){return d.length===32&&d!=="00000000000000000000000000000000"},l.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},l.isError=function(d){return d instanceof Error},l.isPrimitive=function(d){var p=typeof d;return p==="string"||p==="number"||p==="boolean"},l.isDate=function(d){return Object.prototype.toString.call(d)==="[object Date]"},l.msToTimeSpan=function(d){(isNaN(d)||d<0)&&(d=0);var p=(d/1e3%60).toFixed(7).replace(/0{0,4}$/,""),m=""+Math.floor(d/(1e3*60))%60,f=""+Math.floor(d/(1e3*60*60))%24,g=Math.floor(d/(1e3*60*60*24));p=p.indexOf(".")<2?"0"+p:p,m=m.length<2?"0"+m:m,f=f.length<2?"0"+f:f;var y=g>0?g+".":"";return y+f+":"+m+":"+p},l.extractError=function(d){var p=d;return{message:d.message,code:p.code||p.id||""}},l.extractObject=function(d){return d instanceof Error?l.extractError(d):typeof d.toJSON=="function"?d.toJSON():d},l.validateStringMap=function(d){if(typeof d!="object"){a.info("Invalid properties dropped from payload");return}var p={};for(var m in d){var f="",g=d[m],y=typeof g;if(l.isPrimitive(g))f=g.toString();else if(g===null||y==="undefined")f="";else if(y==="function"){a.info("key: "+m+" was function; will not serialize");continue}else{var b=l.isArray(g)?g:l.extractObject(g);try{l.isPrimitive(b)?f=b:f=JSON.stringify(b)}catch(x){f=g.constructor.name.toString()+" (Error: "+x.message+")",a.info("key: "+m+", could not be serialized")}}p[m]=f.substring(0,l.MAX_PROPERTY_LENGTH)}return p},l.canIncludeCorrelationHeader=function(d,p){var m=d&&d.config&&d.config.correlationHeaderExcludedDomains;if(!m||m.length==0||!p)return!0;for(var f=0;f<m.length;f++){var g=new RegExp(m[f].replace(/\./g,".").replace(/\*/g,".*"));if(g.test(o.parse(p).hostname))return!1}return!0},l.getCorrelationContextTarget=function(d,p){var m=d.headers&&d.headers[c.requestContextHeader];if(m)for(var f=m.split(","),g=0;g<f.length;++g){var y=f[g].split("=");if(y.length==2&&y[0]==p)return y[1]}},l.makeRequest=function(d,p,m,f){p&&p.indexOf("//")===0&&(p="https:"+p);var g=o.parse(p),y=r(r({},m),{host:g.hostname,port:g.port,path:g.pathname}),b=void 0;if(g.protocol==="https:"&&(b=d.proxyHttpsUrl||void 0),g.protocol==="http:"&&(b=d.proxyHttpUrl||void 0),b){b.indexOf("//")===0&&(b="http:"+b);var x=o.parse(b);x.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),b=void 0):y=r(r({},y),{host:x.hostname,port:x.port||"80",path:p,headers:r(r({},y.headers),{Host:g.hostname})})}var w=g.protocol==="https:"&&!b;return w&&d.httpsAgent!==void 0?y.agent=d.httpsAgent:!w&&d.httpAgent!==void 0?y.agent=d.httpAgent:w&&(y.agent=l.tlsRestrictedAgent),w?i.request(y,f):n.request(y,f)},l.safeIncludeCorrelationHeader=function(d,p,m){var f;if(typeof m=="string")f=m;else if(m instanceof Array)f=m.join(",");else if(m&&typeof m.toString=="function")try{f=m.toString()}catch(g){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",g,m)}f?l.addCorrelationIdHeaderFromString(d,p,f):p.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+d.config.correlationId)},l.dumpObj=function(d){var p=Object.prototype.toString.call(d),m="";return p==="[object Error]"?m="{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'":m=JSON.stringify(d),p+m},l.addCorrelationIdHeaderFromString=function(d,p,m){var f=m.split(","),g=c.requestContextSourceKey+"=",y=f.some(function(b){return b.substring(0,g.length)===g});y||p.setHeader(c.requestContextHeader,m+","+c.requestContextSourceKey+"="+d.config.correlationId)},l.MAX_PROPERTY_LENGTH=8192,l.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),l}();e.exports=u}),Vs=A((t,e)=>{"use strict";var r=Zn(),n=Xr(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var u=function(){if(o.pendingLookups[c]){var l={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,l);var d=r.makeRequest(s,c,l,function(p){if(p.statusCode===200){var m="";p.setEncoding("utf-8"),p.on("data",function(f){m+=f}),p.on("end",function(){n.info(o.TAG,m);var f=o.correlationIdPrefix+m;o.completedLookups[c]=f,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(g){return g(f)}),delete o.pendingLookups[c]})}else p.statusCode>=400&&p.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(u,s.correlationIdRetryIntervalMs)});d&&(d.on("error",function(p){n.warn(o.TAG,p)}),d.end())}};setTimeout(u,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",u=o.pendingLookups[c];u&&(o.pendingLookups[c]=u.filter(function(l){return l!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var u=o.requestIdMaxLength-9;if(s.length>u)for(;u>1;--u){var l=s[u-1];if(l==="."||l==="_")break}if(u<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,u)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();e.exports=i}),vl=A((t,e)=>{"use strict";var r=Zn(),n=Vs(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),u=c.length;u>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&u!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var l=n.getRootId(a);o.isValidTraceId(l)||(this.legacyRootId=l,l=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=l,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();e.exports=i}),Pw=A((t,e)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=!!s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),u=!!a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return c&&u}else if(o.length==1)return!!i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,u=a;c<u.length;c++){var l=u[c],d=l.trim();if(d.length!==0){var p=d.split("=");if(p.length!==2||!n.validateKeyChars(p[0])||s[p[0]])return null;s[p[0]]=!0,o.push(d)}}return o},n.strict=!0,n}();e.exports=r}),fo=A((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),GL=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),Dw=A((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),KL=A((t,e)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();e.exports=r}),XL=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Dw(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);e.exports=i}),Iw=A((t,e)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),e.exports=r}),QL=A((t,e)=>{"use strict";var r=Iw(),n=function(){function i(){this.kind=r.Measurement}return i}();e.exports=n}),ZL=A((t,e)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();e.exports=r}),Ow=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),YL=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);e.exports=i}),JL=A((t,e)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();e.exports=r}),ej=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);e.exports=i}),tj=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);e.exports=i}),rj=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ow(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),nj=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),ij=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),oj=A((t,e)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),e.exports=r}),sj=A((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),Aw=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=GL(),t.Base=Dw(),t.ContextTagKeys=KL(),t.Data=XL(),t.DataPoint=QL(),t.DataPointType=Iw(),t.Domain=fo(),t.Envelope=ZL(),t.EventData=Ow(),t.ExceptionData=YL(),t.ExceptionDetails=JL(),t.MessageData=ej(),t.MetricData=tj(),t.PageViewData=rj(),t.RemoteDependencyData=nj(),t.RequestData=ij(),t.SeverityLevel=oj(),t.StackFrame=sj()}),aj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var e=Aw(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();t.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof e.EventData||i instanceof e.ExceptionData||i instanceof e.MessageData||i instanceof e.MetricData||i instanceof e.PageViewData||i instanceof e.RemoteDependencyData||i instanceof e.RequestData}t.domainSupportsProperties=n}),cj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),uj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),lj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),dj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),pj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),fj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),mj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),hj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),gj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),yj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),bj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),_j=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0;function e(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}t.telemetryTypeToBaseType=e;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}t.baseTypeToTelemetryType=r,t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=t.TelemetryType||(t.TelemetryType={}))}),xj=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(cj(),t),r(uj(),t),r(lj(),t),r(dj(),t),r(pj(),t),r(fj(),t),r(mj(),t),r(hj(),t),r(gj(),t),r(vj(),t),r(yj(),t),r(bj(),t),r(_j(),t)}),wj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Cj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Ej=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Sj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Tj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Rj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Pj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Dj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Ij=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(wj(),t),r(Cj(),t),r(Ej(),t),r(Sj(),t),r(Tj(),t),r(Rj(),t),r(Pj(),t),r(Dj(),t)}),En=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(aj(),t),r(Aw(),t),r(xj(),t),r(Ij(),t)}),kw=A((t,e)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();e.exports=r}),Nw=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var p=function(m,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},p(m,f)};return function(m,f){p(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}(),n=require("url"),i=En(),o=Zn(),s=Ac(),a=kw(),c=Vs(),u=Pw(),l=vl(),d=function(p){r(m,p);function m(f,g){var y=p.call(this)||this;return f&&(y.method=f.method,y.url=y._getAbsoluteUrl(f),y.startTime=+new Date,y.socketRemoteAddress=f.socket&&f.socket.remoteAddress,y.parseHeaders(f,g),f.connection&&(y.connectionRemoteAddress=f.connection.remoteAddress,y.legacySocketRemoteAddress=f.connection.socket&&f.connection.socket.remoteAddress)),y}return m.prototype.onError=function(f,g){this._setStatus(void 0,f),g&&(this.duration=g)},m.prototype.onResponse=function(f,g){this._setStatus(f.statusCode,void 0),g&&(this.duration=g)},m.prototype.getRequestTelemetry=function(f){var g={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(f&&f.time?g.time=f.time:this.startTime&&(g.time=new Date(this.startTime)),f){for(var y in f)g[y]||(g[y]=f[y]);if(f.properties)for(var y in f.properties)g.properties[y]=f.properties[y]}return g},m.prototype.getRequestTags=function(f){var g={};for(var y in f)g[y]=f[y];return g[m.keys.locationIp]=f[m.keys.locationIp]||this._getIp(),g[m.keys.sessionId]=f[m.keys.sessionId]||this._getId("ai_session"),g[m.keys.userId]=f[m.keys.userId]||this._getId("ai_user"),g[m.keys.userAuthUserId]=f[m.keys.userAuthUserId]||this._getId("ai_authUser"),g[m.keys.operationName]=this.getOperationName(f),g[m.keys.operationParentId]=this.getOperationParentId(f),g[m.keys.operationId]=this.getOperationId(f),g},m.prototype.getOperationId=function(f){return f[m.keys.operationId]||this.operationId},m.prototype.getOperationParentId=function(f){return f[m.keys.operationParentId]||this.parentId||this.getOperationId(f)},m.prototype.getOperationName=function(f){return f[m.keys.operationName]||this.method+" "+n.parse(this.url).pathname},m.prototype.getRequestId=function(){return this.requestId},m.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},m.prototype.getTraceparent=function(){return this.traceparent},m.prototype.getTracestate=function(){return this.tracestate},m.prototype.getLegacyRootId=function(){return this.legacyRootId},m.prototype._getAbsoluteUrl=function(f){if(!f.headers)return f.url;var g=f.connection?f.connection.encrypted:null,y=n.parse(f.url),b=y.pathname,x=y.search,w=g||f.headers["x-forwarded-proto"]=="https"?"https":"http",C=n.format({protocol:w,host:f.headers.host,pathname:b,search:x});return C},m.prototype._getIp=function(){var f=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,g=function(b){var x=f.exec(b);if(x)return x[0]},y=g(this.rawHeaders["x-forwarded-for"])||g(this.rawHeaders["x-client-ip"])||g(this.rawHeaders["x-real-ip"])||g(this.connectionRemoteAddress)||g(this.socketRemoteAddress)||g(this.legacySocketRemoteAddress);return!y&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(y="127.0.0.1"),y},m.prototype._getId=function(f){var g=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",y=m.parseId(o.getCookie(f,g));return y},m.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},m.prototype.parseHeaders=function(f,g){if(this.rawHeaders=f.headers||f.rawHeaders,this.userAgent=f.headers&&f.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(f,s.requestContextSourceKey),f.headers){var y=f.headers[s.traceStateHeader]?f.headers[s.traceStateHeader].toString():null,b=f.headers[s.traceparentHeader]?f.headers[s.traceparentHeader].toString():null,x=f.headers[s.requestIdHeader]?f.headers[s.requestIdHeader].toString():null,w=f.headers[s.parentIdHeader]?f.headers[s.parentIdHeader].toString():null,C=f.headers[s.rootIdHeader]?f.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=f.headers[s.correlationContextHeader]?f.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(b||y)?(this.traceparent=new l(b?b.toString():null),this.tracestate=b&&y&&new u(y?y.toString():null),this.setBackCompatFromThisTraceContext()):x?c.w3cEnabled?(this.traceparent=new l(null,x),this.setBackCompatFromThisTraceContext()):(this.parentId=x,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new l,this.traceparent.parentId=w,this.traceparent.legacyRootId=C||w,this.setBackCompatFromThisTraceContext()):(this.parentId=w,this.requestId=c.generateRequestId(C||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),g&&(this.requestId=g,this.operationId=c.getRootId(this.requestId))}},m.parseId=function(f){var g=f.split("|");return g.length>0?g[0]:""},m.keys=new i.ContextTagKeys,m}(a);e.exports=d}),Oj=A((t,e)=>{t=e.exports=ue;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var v=Array.prototype.slice.call(arguments,0);v.unshift("SEMVER"),console.log.apply(console,v)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var m=c++;a[m]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var f=c++;a[f]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[d]+")";var y=c++;a[y]="(?:-("+a[f]+"(?:\\."+a[f]+")*))";var b=c++;a[b]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var w=c++;a[w]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var C=c++,P="v?"+a[p]+a[y]+"?"+a[w]+"?";a[C]="^"+P+"$";var k="[v=\\s]*"+a[m]+a[b]+"?"+a[w]+"?",q=c++;a[q]="^"+k+"$";var j=c++;a[j]="((?:<|>)?=?)";var Q=c++;a[Q]=a[l]+"|x|X|\\*";var ne=c++;a[ne]=a[u]+"|x|X|\\*";var X=c++;a[X]="[v=\\s]*("+a[ne]+")(?:\\.("+a[ne]+")(?:\\.("+a[ne]+")(?:"+a[y]+")?"+a[w]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[Q]+")(?:\\.("+a[Q]+")(?:\\.("+a[Q]+")(?:"+a[b]+")?"+a[w]+"?)?)?";var ae=c++;a[ae]="^"+a[j]+"\\s*"+a[X]+"$";var ee=c++;a[ee]="^"+a[j]+"\\s*"+a[H]+"$";var xe=c++;a[xe]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var de=c++;a[de]="(?:~>?)";var z=c++;a[z]="(\\s*)"+a[de]+"\\s+",s[z]=new RegExp(a[z],"g");var Y="$1~",te=c++;a[te]="^"+a[de]+a[X]+"$";var pe=c++;a[pe]="^"+a[de]+a[H]+"$";var ge=c++;a[ge]="(?:\\^)";var De=c++;a[De]="(\\s*)"+a[ge]+"\\s+",s[De]=new RegExp(a[De],"g");var Re="$1^",ze=c++;a[ze]="^"+a[ge]+a[X]+"$";var We=c++;a[We]="^"+a[ge]+a[H]+"$";var mt=c++;a[mt]="^"+a[j]+"\\s*("+k+")$|^$";var ot=c++;a[ot]="^"+a[j]+"\\s*("+P+")$|^$";var ke=c++;a[ke]="(\\s*)"+a[j]+"\\s*("+k+"|"+a[X]+")",s[ke]=new RegExp(a[ke],"g");var Ot="$1$2$3",Mt=c++;a[Mt]="^\\s*("+a[X]+")\\s+-\\s+("+a[X]+")\\s*$";var qe=c++;a[qe]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var we=c++;for(a[we]="(<|>)?=?\\s*\\*",$e=0;$e<c;$e++)r($e,a[$e]),s[$e]||(s[$e]=new RegExp(a[$e]));var $e;t.parse=tt;function tt(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue)return v;if(typeof v!="string"||v.length>n)return null;var _=h.loose?s[q]:s[C];if(!_.test(v))return null;try{return new ue(v,h)}catch{return null}}t.valid=Ir;function Ir(v,h){var _=tt(v,h);return _?_.version:null}t.clean=en;function en(v,h){var _=tt(v.trim().replace(/^[=v]+/,""),h);return _?_.version:null}t.SemVer=ue;function ue(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue){if(v.loose===h.loose)return v;v=v.version}else if(typeof v!="string")throw new TypeError("Invalid Version: "+v);if(v.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ue))return new ue(v,h);r("SemVer",v,h),this.options=h,this.loose=!!h.loose;var _=v.trim().match(h.loose?s[q]:s[C]);if(!_)throw new TypeError("Invalid Version: "+v);if(this.raw=v,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var D=+R;if(D>=0&&D<i)return D}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(v){return r("SemVer.compare",this.version,this.options,v),v instanceof ue||(v=new ue(v,this.options)),this.compareMain(v)||this.comparePre(v)},ue.prototype.compareMain=function(v){return v instanceof ue||(v=new ue(v,this.options)),ht(this.major,v.major)||ht(this.minor,v.minor)||ht(this.patch,v.patch)},ue.prototype.comparePre=function(v){if(v instanceof ue||(v=new ue(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;var h=0;do{var _=this.prerelease[h],R=v.prerelease[h];if(r("prerelease compare",h,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_!==R)return ht(_,R)}while(++h)},ue.prototype.inc=function(v,h){switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+v)}return this.format(),this.raw=this.version,this},t.inc=Fr;function Fr(v,h,_,R){typeof _=="string"&&(R=_,_=void 0);try{return new ue(v,_).inc(h,R).version}catch{return null}}t.diff=Vt;function Vt(v,h){if(Qe(v,h))return null;var _=tt(v),R=tt(h),D="";if(_.prerelease.length||R.prerelease.length){D="pre";var U="prerelease"}for(var V in _)if((V==="major"||V==="minor"||V==="patch")&&_[V]!==R[V])return D+V;return U}t.compareIdentifiers=ht;var $t=/^[0-9]+$/;function ht(v,h){var _=$t.test(v),R=$t.test(h);return _&&R&&(v=+v,h=+h),v===h?0:_&&!R?-1:R&&!_?1:v<h?-1:1}t.rcompareIdentifiers=ir;function ir(v,h){return ht(h,v)}t.major=Ht;function Ht(v,h){return new ue(v,h).major}t.minor=qr;function qr(v,h){return new ue(v,h).minor}t.patch=Ur;function Ur(v,h){return new ue(v,h).patch}t.compare=lt;function lt(v,h,_){return new ue(v,_).compare(new ue(h,_))}t.compareLoose=Kr;function Kr(v,h){return lt(v,h,!0)}t.rcompare=Yt;function Yt(v,h,_){return lt(h,v,_)}t.sort=M;function M(v,h){return v.sort(function(_,R){return t.compare(_,R,h)})}t.rsort=oe;function oe(v,h){return v.sort(function(_,R){return t.rcompare(_,R,h)})}t.gt=fe;function fe(v,h,_){return lt(v,h,_)>0}t.lt=ye;function ye(v,h,_){return lt(v,h,_)<0}t.eq=Qe;function Qe(v,h,_){return lt(v,h,_)===0}t.neq=rt;function rt(v,h,_){return lt(v,h,_)!==0}t.gte=st;function st(v,h,_){return lt(v,h,_)>=0}t.lte=Ze;function Ze(v,h,_){return lt(v,h,_)<=0}t.cmp=Me;function Me(v,h,_,R){switch(h){case"===":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v===_;case"!==":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v!==_;case"":case"=":case"==":return Qe(v,_,R);case"!=":return rt(v,_,R);case">":return fe(v,_,R);case">=":return st(v,_,R);case"<":return ye(v,_,R);case"<=":return Ze(v,_,R);default:throw new TypeError("Invalid operator: "+h)}}t.Comparator=Pe;function Pe(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof Pe){if(v.loose===!!h.loose)return v;v=v.value}if(!(this instanceof Pe))return new Pe(v,h);r("comparator",v,h),this.options=h,this.loose=!!h.loose,this.parse(v),this.semver===He?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var He={};Pe.prototype.parse=function(v){var h=this.options.loose?s[mt]:s[ot],_=v.match(h);if(!_)throw new TypeError("Invalid comparator: "+v);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new ue(_[2],this.options.loose):this.semver=He},Pe.prototype.toString=function(){return this.value},Pe.prototype.test=function(v){return r("Comparator.test",v,this.options.loose),this.semver===He?!0:(typeof v=="string"&&(v=new ue(v,this.options)),Me(v,this.operator,this.semver,this.options))},Pe.prototype.intersects=function(v,h){if(!(v instanceof Pe))throw new TypeError("a Comparator is required");(!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1});var _;if(this.operator==="")return _=new me(v.value,h),I(this.value,_,h);if(v.operator==="")return _=new me(this.value,h),I(v.semver,_,h);var R=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),D=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),U=this.semver.version===v.semver.version,V=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),ie=Me(this.semver,"<",v.semver,h)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),le=Me(this.semver,">",v.semver,h)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return R||D||U&&V||ie||le},t.Range=me;function me(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof me)return v.loose===!!h.loose&&v.includePrerelease===!!h.includePrerelease?v:new me(v.raw,h);if(v instanceof Pe)return new me(v.value,h);if(!(this instanceof me))return new me(v,h);if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=v,this.set=v.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+v);this.format()}me.prototype.format=function(){return this.range=this.set.map(function(v){return v.join(" ").trim()}).join("||").trim(),this.range},me.prototype.toString=function(){return this.range},me.prototype.parseRange=function(v){var h=this.options.loose;v=v.trim();var _=h?s[qe]:s[Mt];v=v.replace(_,L),r("hyphen replace",v),v=v.replace(s[ke],Ot),r("comparator trim",v,s[ke]),v=v.replace(s[z],Y),v=v.replace(s[De],Re),v=v.split(/\s+/).join(" ");var R=h?s[mt]:s[ot],D=v.split(" ").map(function(U){return Bt(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(D=D.filter(function(U){return!!U.match(R)})),D=D.map(function(U){return new Pe(U,this.options)},this),D},me.prototype.intersects=function(v,h){if(!(v instanceof me))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(R){return v.set.some(function(D){return D.every(function(U){return R.intersects(U,h)})})})})},t.toComparators=Lt;function Lt(v,h){return new me(v,h).set.map(function(_){return _.map(function(R){return R.value}).join(" ").trim().split(" ")})}function Bt(v,h){return r("comp",v,h),v=J(v,h),r("caret",v),v=yr(v,h),r("tildes",v),v=bt(v,h),r("xrange",v),v=S(v,h),r("stars",v),v}function Ue(v){return!v||v.toLowerCase()==="x"||v==="*"}function yr(v,h){return v.trim().split(/\s+/).map(function(_){return T(_,h)}).join(" ")}function T(v,h){var _=h.loose?s[pe]:s[te];return v.replace(_,function(R,D,U,V,ie){r("tilde",v,R,D,U,V,ie);var le;return Ue(D)?le="":Ue(U)?le=">="+D+".0.0 <"+(+D+1)+".0.0":Ue(V)?le=">="+D+"."+U+".0 <"+D+"."+(+U+1)+".0":ie?(r("replaceTilde pr",ie),le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+(+U+1)+".0"):le=">="+D+"."+U+"."+V+" <"+D+"."+(+U+1)+".0",r("tilde return",le),le})}function J(v,h){return v.trim().split(/\s+/).map(function(_){return Ee(_,h)}).join(" ")}function Ee(v,h){r("caret",v,h);var _=h.loose?s[We]:s[ze];return v.replace(_,function(R,D,U,V,ie){r("caret",v,R,D,U,V,ie);var le;return Ue(D)?le="":Ue(U)?le=">="+D+".0.0 <"+(+D+1)+".0.0":Ue(V)?D==="0"?le=">="+D+"."+U+".0 <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+".0 <"+(+D+1)+".0.0":ie?(r("replaceCaret pr",ie),D==="0"?U==="0"?le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+U+"."+(+V+1):le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+"."+V+"-"+ie+" <"+(+D+1)+".0.0"):(r("no pr"),D==="0"?U==="0"?le=">="+D+"."+U+"."+V+" <"+D+"."+U+"."+(+V+1):le=">="+D+"."+U+"."+V+" <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+"."+V+" <"+(+D+1)+".0.0"),r("caret return",le),le})}function bt(v,h){return r("replaceXRanges",v,h),v.split(/\s+/).map(function(_){return W(_,h)}).join(" ")}function W(v,h){v=v.trim();var _=h.loose?s[ee]:s[ae];return v.replace(_,function(R,D,U,V,ie,le){r("xRange",v,R,D,U,V,ie,le);var Le=Ue(U),gt=Le||Ue(V),at=gt||Ue(ie),et=at;return D==="="&&et&&(D=""),Le?D===">"||D==="<"?R="<0.0.0":R="*":D&&et?(gt&&(V=0),ie=0,D===">"?(D=">=",gt?(U=+U+1,V=0,ie=0):(V=+V+1,ie=0)):D==="<="&&(D="<",gt?U=+U+1:V=+V+1),R=D+U+"."+V+"."+ie):gt?R=">="+U+".0.0 <"+(+U+1)+".0.0":at&&(R=">="+U+"."+V+".0 <"+U+"."+(+V+1)+".0"),r("xRange return",R),R})}function S(v,h){return r("replaceStars",v,h),v.trim().replace(s[we],"")}function L(v,h,_,R,D,U,V,ie,le,Le,gt,at,et){return Ue(_)?h="":Ue(R)?h=">="+_+".0.0":Ue(D)?h=">="+_+"."+R+".0":h=">="+h,Ue(le)?ie="":Ue(Le)?ie="<"+(+le+1)+".0.0":Ue(gt)?ie="<"+le+"."+(+Le+1)+".0":at?ie="<="+le+"."+Le+"."+gt+"-"+at:ie="<="+ie,(h+" "+ie).trim()}me.prototype.test=function(v){if(!v)return!1;typeof v=="string"&&(v=new ue(v,this.options));for(var h=0;h<this.set.length;h++)if(F(this.set[h],v,this.options))return!0;return!1};function F(v,h,_){for(var R=0;R<v.length;R++)if(!v[R].test(h))return!1;if(h.prerelease.length&&!_.includePrerelease){for(R=0;R<v.length;R++)if(r(v[R].semver),v[R].semver!==He&&v[R].semver.prerelease.length>0){var D=v[R].semver;if(D.major===h.major&&D.minor===h.minor&&D.patch===h.patch)return!0}return!1}return!0}t.satisfies=I;function I(v,h,_){try{h=new me(h,_)}catch{return!1}return h.test(v)}t.maxSatisfying=E;function E(v,h,_){var R=null,D=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||D.compare(V)===-1)&&(R=V,D=new ue(R,_))}),R}t.minSatisfying=Z;function Z(v,h,_){var R=null,D=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||D.compare(V)===1)&&(R=V,D=new ue(R,_))}),R}t.minVersion=se;function se(v,h){v=new me(v,h);var _=new ue("0.0.0");if(v.test(_)||(_=new ue("0.0.0-0"),v.test(_)))return _;_=null;for(var R=0;R<v.set.length;++R){var D=v.set[R];D.forEach(function(U){var V=new ue(U.semver.version);switch(U.operator){case">":V.prerelease.length===0?V.patch++:V.prerelease.push(0),V.raw=V.format();case"":case">=":(!_||fe(_,V))&&(_=V);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return _&&v.test(_)?_:null}t.validRange=Ve;function Ve(v,h){try{return new me(v,h).range||"*"}catch{return null}}t.ltr=Nt;function Nt(v,h,_){return Gt(v,h,"<",_)}t.gtr=xt;function xt(v,h,_){return Gt(v,h,">",_)}t.outside=Gt;function Gt(v,h,_,R){v=new ue(v,R),h=new me(h,R);var D,U,V,ie,le;switch(_){case">":D=fe,U=Ze,V=ye,ie=">",le=">=";break;case"<":D=ye,U=st,V=fe,ie="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(v,h,R))return!1;for(var Le=0;Le<h.set.length;++Le){var gt=h.set[Le],at=null,et=null;if(gt.forEach(function(qt){qt.semver===He&&(qt=new Pe(">=0.0.0")),at=at||qt,et=et||qt,D(qt.semver,at.semver,R)?at=qt:V(qt.semver,et.semver,R)&&(et=qt)}),at.operator===ie||at.operator===le||(!et.operator||et.operator===ie)&&U(v,et.semver)||et.operator===le&&V(v,et.semver))return!1}return!0}t.prerelease=Tr;function Tr(v,h){var _=tt(v,h);return _&&_.prerelease.length?_.prerelease:null}t.intersects=or;function or(v,h,_){return v=new me(v,_),h=new me(h,_),v.intersects(h)}t.coerce=nt;function nt(v){if(v instanceof ue)return v;if(typeof v!="string")return null;var h=v.match(s[xe]);return h==null?null:tt(h[1]+"."+(h[2]||"0")+"."+(h[3]||"0"))}}),fm=A((t,e)=>{"use strict";function r(l){return typeof l=="function"}var n=console.error.bind(console);function i(l,d,p){var m=!!l[d]&&l.propertyIsEnumerable(d);Object.defineProperty(l,d,{configurable:!0,enumerable:m,writable:!0,value:p})}function o(l){l&&l.logger&&(r(l.logger)?n=l.logger:n("new logger isn't a function, not replacing"))}function s(l,d,p){if(!l||!l[d]){n("no original function "+d+" to wrap");return}if(!p){n("no wrapper function"),n(new Error().stack);return}if(!r(l[d])||!r(p)){n("original object and wrapper must be functions");return}var m=l[d],f=p(m,d);return i(f,"__original",m),i(f,"__unwrap",function(){l[d]===f&&i(l,d,m)}),i(f,"__wrapped",!0),i(l,d,f),f}function a(l,d,p){if(l)Array.isArray(l)||(l=[l]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to wrap on modules");return}l.forEach(function(m){d.forEach(function(f){s(m,f,p)})})}function c(l,d){if(!l||!l[d]){n("no function to unwrap."),n(new Error().stack);return}if(!l[d].__unwrap)n("no original to unwrap to -- has "+d+" already been unwrapped?");else return l[d].__unwrap()}function u(l,d){if(l)Array.isArray(l)||(l=[l]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to unwrap on modules");return}l.forEach(function(p){d.forEach(function(m){c(p,m)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=u,e.exports=o}),mm=A((t,e)=>{"use strict";var r=fm(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(d,p,m){var f=!!d[p]&&d.propertyIsEnumerable(p);Object.defineProperty(d,p,{configurable:!0,enumerable:f,writable:!0,value:m})}function a(d,p){for(var m=p.length,f=0;f<m;f++){var g=p[f],y=d[o];if(typeof y=="function")y(g);else if(Array.isArray(y))for(var b=y.length,x=0;x<b;x++)y[x](g)}}function c(d,p){var m;return m=d._events&&d._events[p],Array.isArray(m)||(m?m=[m]:m=[]),m}function u(d,p,m){var f=c(d,p),g=f.filter(function(y){return m.indexOf(y)===-1});g.length>0&&a(d,g)}function l(d,p){if(d){var m=d;if(typeof d=="function")m=p(d);else if(Array.isArray(d)){m=[];for(var f=0;f<d.length;f++)m[f]=p(d[f])}return m}}e.exports=function(d,p,m){if(!d||!d.on||!d.addListener||!d.removeListener||!d.emit)throw new Error("can only wrap real EEs");if(!p)throw new Error("must have function to run on listener addition");if(!m)throw new Error("must have function to wrap listeners when emitting");function f(y){return function(b,x){var w=c(this,b).slice();try{var C=y.call(this,b,x);return u(this,b,w),C}finally{this.on.__wrapped||n(this,"on",f),this.addListener.__wrapped||n(this,"addListener",f)}}}function g(y){return function(b){if(!this._events||!this._events[b])return y.apply(this,arguments);var x=this._events[b];function w(C){return function(){this._events[b]=x;try{return C.apply(this,arguments)}finally{x=this._events[b],this._events[b]=l(x,m)}}}n(this,"removeListener",w);try{return this._events[b]=l(x,m),y.apply(this,arguments)}finally{i(this,"removeListener"),this._events[b]=x}}}d[o]?typeof d[o]=="function"?s(d,o,[d[o],p]):Array.isArray(d[o])&&d[o].push(p):s(d,o,p),d.__wrapped||(n(d,"addListener",f),n(d,"on",f),n(d,"emit",g),s(d,"__unwrap",function(){i(d,"addListener"),i(d,"on"),i(d,"emit"),delete d[o],delete d.__wrapped}),s(d,"__wrapped",!0))}}),Aj=A((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=mm(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,u=-1;e.exports={getNamespace:d,createNamespace:p,destroyNamespace:m,reset:f,ERROR_SYMBOL:a};function l(y){this.name=y,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}l.prototype.set=function(y,b){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[y]=b,c){let x=" ".repeat(this._indent<0?0:this._indent);g(x+"CONTEXT-SET KEY:"+y+"="+b+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return b},l.prototype.get=function(y){if(!this.active){if(c){let b=o.currentId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(`${w}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${y}=undefined currentUid:${u} asyncHooksCurrentId:${b} triggerId:${x} len:${this._set.length}`)}return}if(c){let b=o.executionAsyncId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(w+"CONTEXT-GETTING KEY:"+y+"="+this.active[y]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),g(`${w}CONTEXT-GETTING KEY: (${this.name}) ${y}=${this.active[y]} currentUid:${u} asyncHooksCurrentId:${b} triggerId:${x} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[y]},l.prototype.createContext=function(){let y=Object.create(this.active?this.active:Object.prototype);if(y._ns_name=this.name,y.id=u,c){let b=o.executionAsyncId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(`${w}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${b} triggerId:${x} len:${this._set.length} context:${r.inspect(y,{showHidden:!0,depth:2,colors:!0})}`)}return y},l.prototype.run=function(y){let b=this.createContext();this.enter(b);try{if(c){let x=o.triggerAsyncId(),w=o.executionAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);g(`${C}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${x} asyncHooksCurrentId:${w} len:${this._set.length} context:${r.inspect(b)}`)}return y(b),b}catch(x){throw x&&(x[a]=b),x}finally{if(c){let x=o.triggerAsyncId(),w=o.executionAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);g(`${C}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${x} asyncHooksCurrentId:${w} len:${this._set.length} ${r.inspect(b)}`)}this.exit(b)}},l.prototype.runAndReturn=function(y){let b;return this.run(function(x){b=y(x)}),b},l.prototype.runPromise=function(y){let b=this.createContext();this.enter(b);let x=y(b);if(!x||!x.then||!x.catch)throw new Error("fn must return a promise.");return c&&g("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(b)),x.then(w=>(c&&g("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(b)),this.exit(b),w)).catch(w=>{throw w[a]=b,c&&g("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(b)),this.exit(b),w})},l.prototype.bind=function(y,b){b||(this.active?b=this.active:b=this.createContext());let x=this;return function(){x.enter(b);try{return y.apply(this,arguments)}catch(w){throw w&&(w[a]=b),w}finally{x.exit(b)}}},l.prototype.enter=function(y){if(n.ok(y,"context must be provided for entering"),c){let b=o.executionAsyncId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(`${w}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${x} asyncHooksCurrentId:${b} len:${this._set.length} ${r.inspect(y)}`)}this._set.push(this.active),this.active=y},l.prototype.exit=function(y){if(n.ok(y,"context must be provided for exiting"),c){let x=o.executionAsyncId(),w=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);g(`${C}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${w} asyncHooksCurrentId:${x} len:${this._set.length} ${r.inspect(y)}`)}if(this.active===y){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let b=this._set.lastIndexOf(y);b<0?(c&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(y)),n.ok(b>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(y))):(n.ok(b,"can't remove top context"),this._set.splice(b,1))},l.prototype.bindEmitter=function(y){n.ok(y.on&&y.addListener&&y.emit,"can only bind real EEs");let b=this,x="context@"+this.name;function w(P){!P||(P[s]||(P[s]=Object.create(null)),P[s][x]={namespace:b,context:b.active})}function C(P){if(!(P&&P[s]))return P;let k=P,q=P[s];return Object.keys(q).forEach(function(j){let Q=q[j];k=Q.namespace.bind(k,Q.context)}),k}i(y,w,C)},l.prototype.fromException=function(y){return y[a]};function d(y){return process.namespaces[y]}function p(y){n.ok(y,"namespace must be given a name."),c&&g(`NS-CREATING NAMESPACE (${y})`);let b=new l(y);return b.id=u,o.createHook({init(x,w,C,P){if(u=o.executionAsyncId(),b.active){if(b._contexts.set(x,b.active),c){let k=" ".repeat(b._indent<0?0:b._indent);g(`${k}INIT [${w}] (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${P}`)}}else if(u===0){let k=o.triggerAsyncId(),q=b._contexts.get(k);if(q){if(b._contexts.set(x,q),c){let j=" ".repeat(b._indent<0?0:b._indent);g(`${j}INIT USING CONTEXT FROM TRIGGERID [${w}] (${y}) asyncId:${x} currentUid:${u} triggerId:${k} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${P}`)}}else if(c){let j=" ".repeat(b._indent<0?0:b._indent);g(`${j}INIT MISSING CONTEXT [${w}] (${y}) asyncId:${x} currentUid:${u} triggerId:${k} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${P}`)}}if(c&&w==="PROMISE"){g(r.inspect(P,{showHidden:!0}));let k=P.parentId,q=" ".repeat(b._indent<0?0:b._indent);g(`${q}INIT RESOURCE-PROMISE [${w}] (${y}) parentId:${k} asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${P}`)}},before(x){u=o.executionAsyncId();let w;if(w=b._contexts.get(x)||b._contexts.get(u),w){if(c){let C=o.triggerAsyncId(),P=" ".repeat(b._indent<0?0:b._indent);g(`${P}BEFORE (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(w)}`),b._indent+=2}b.enter(w)}else if(c){let C=o.triggerAsyncId(),P=" ".repeat(b._indent<0?0:b._indent);g(`${P}BEFORE MISSING CONTEXT (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(b._contexts,{showHidden:!0,depth:2,colors:!0})}`),b._indent+=2}},after(x){u=o.executionAsyncId();let w;if(w=b._contexts.get(x)||b._contexts.get(u),w){if(c){let C=o.triggerAsyncId();b._indent-=2;let P=" ".repeat(b._indent<0?0:b._indent);g(`${P}AFTER (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(w)}`)}b.exit(w)}else if(c){let C=o.triggerAsyncId();b._indent-=2;let P=" ".repeat(b._indent<0?0:b._indent);g(`${P}AFTER MISSING CONTEXT (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(w)}`)}},destroy(x){if(u=o.executionAsyncId(),c){let w=o.triggerAsyncId(),C=" ".repeat(b._indent<0?0:b._indent);g(`${C}DESTROY (${y}) currentUid:${u} asyncId:${x} triggerId:${w} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(b._contexts.get(u))}`)}b._contexts.delete(x)}}).enable(),process.namespaces[y]=b,b}function m(y){let b=d(y);n.ok(b,`can't delete nonexistent namespace! "`+y+'"'),n.ok(b.id,"don't assign to process.namespaces directly! "+r.inspect(b)),process.namespaces[y]=null}function f(){process.namespaces&&Object.keys(process.namespaces).forEach(function(y){m(y)}),process.namespaces=Object.create(null)}process.namespaces={};function g(...y){c&&process._rawDebug(`${r.format(...y)}`)}}),kj=A((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let l=0;l<arguments.length;l++)s[l]=arguments[l];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,u=--i.counter;return n.init.call(c,u,0,null,null),s[0]=function(){n.pre.call(c,u);let l=!0;try{a.apply(this,arguments),l=!1}finally{l&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,u,!0),n.destroy.call(null,u)})}n.post.call(c,u,!1),n.destroy.call(null,u)},o.apply(process,s)}}}),Nj=A((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=l;function a(d,p,m,f){return typeof d!="function"?f?c(m):u(m):function(){n.pre.call(p,m);try{return d.apply(this,arguments)}finally{n.post.call(p,m,!1),n.destroy.call(null,m)}}}function c(d){return function(p){return n.destroy.call(null,d),p}}function u(d){return function(p){throw n.destroy.call(null,d),p}}function l(d,p){if(!i.enabled)return s.call(this,d,p);let m=new r,f=--i.counter;return n.init.call(m,f,0,null,null),s.call(this,a(d,m,f,!0),a(p,m,f,!1))}}}),qj=A((t,e)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,u=null,l=!1;e.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),d(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function d(p,m,f,g,y,b,x){let w=r[f],C=r[g];r[f]=function(){if(!m.enabled)return w.apply(r,arguments);let P=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)P[ne]=arguments[ne];let k=P[0];if(typeof k!="function")throw new TypeError('"callback" argument must be a function');let q=new y,j=--m.counter,Q;return p.init.call(q,j,0,null,null),P[0]=function(){u=Q,p.pre.call(q,j);let ne=!0;try{k.apply(this,arguments),ne=!1}finally{ne&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){p.post.call(q,j,!0),b.delete(Q),p.destroy.call(null,j)})}p.post.call(q,j,!1),u=null,(x||l)&&(l=!1,b.delete(Q),p.destroy.call(null,j))},Q=w.apply(r,P),b.set(Q,j),Q},r[g]=function(P){if(u===P&&P!==null)l=!0;else if(b.has(P)){let k=b.get(P);b.delete(P),p.destroy.call(null,k)}C.apply(r,arguments)}}}),qw=A((t,e)=>{e.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),Mj=A((t,e)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:kj(),promise:Nj(),timers:qj()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let l=this.initFns=[],d=this.preFns=[],p=this.postFns=[],m=this.destroyFns=[];this.init=function(f,g,y,b){if(g===n){o.add(f);return}for(let x of l)x(f,this,g,y,b)},this.pre=function(f){if(!o.has(f))for(let g of d)g(f,this)},this.post=function(f,g){if(!o.has(f))for(let y of p)y(f,this,g)},this.destroy=function(f){if(o.has(f)){o.delete(f);return}for(let g of m)g(f)}}a.prototype.add=function(l){l.init&&this.initFns.push(l.init),l.pre&&this.preFns.push(l.pre),l.post&&this.postFns.push(l.post),l.destroy&&this.destroyFns.push(l.destroy)};function c(l,d){let p=l.indexOf(d);p!==-1&&l.splice(p,1)}a.prototype.remove=function(l){l.init&&c(this.initFns,l.init),l.pre&&c(this.preFns,l.pre),l.post&&c(this.postFns,l.post),l.destroy&&c(this.destroyFns,l.destroy)};function u(){this._state=new s,this._hooks=new a,this.version=qw().version,this.providers=r.Providers;for(let l of Object.keys(i))i[l].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}e.exports=u,u.prototype.addHooks=function(l){this._hooks.add(l)},u.prototype.removeHooks=function(l){this._hooks.remove(l)},u.prototype.enable=function(){this._state.enabled=!0,r.enable()},u.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),Mw=A((t,e)=>{e.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),Lj=A((t,e)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}e.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(u){try{c="<error: "+u+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),jj=A((t,e)=>{var r=Lj();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=Mw().version}var i=!1;n.prototype.callSite=function d(p){p||(p={}),i=!0;var m={};Error.captureStackTrace(m,d);var f=m.stack;return i=!1,f=f.slice(p.slice||0),p.extend&&(f=this.extend._modify(m,f)),p.filter&&(f=this.filter._modify(m,f)),f};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(d,p){for(var m=0,f=this._modifiers.length;m<f;m++)p=this._modifiers[m](d,p);return p},s.prototype.attach=function(d){this._modifiers.push(d)},s.prototype.deattach=function(d){var p=this._modifiers.indexOf(d);return p===-1?!1:(this._modifiers.splice(p,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(d){d?this._formater=d:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function u(d,p){if(i)return p;if(c)return r(d,p);var m=p.concat();m=o.extend._modify(d,m),m=o.filter._modify(d,m),m=m.slice(0,Error.stackTraceLimit),Object.isExtensible(d)&&Object.getOwnPropertyDescriptor(d,"callSite")===void 0&&(d.callSite={original:p,mutated:m}),c=!0;var f=o.format._formater(d,m);return c=!1,f}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(d){d===u?o.format._roolback():(o.format._backup(),o.format.replace(d))}});function l(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:l,set:function(d){Object.defineProperty(this,"callSite",{value:d,writable:!0,configurable:!0})},configurable:!0}),e.exports=o}),Lw=A((t,e)=>{if(global._stackChain)if(global._stackChain.version===Mw().version)e.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else e.exports=global._stackChain=jj()}),Fj=A((t,e)=>{"use strict";var r=Mj();if(global._asyncHook)if(global._asyncHook.version===qw().version)e.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else Lw().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),e.exports=global._asyncHook=new r}),Uj=A((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=mm(),o=Fj(),s="cls@contexts",a="error@context",c=[];for(let C in o.providers)c[o.providers[C]]=C;var u=process.env.DEBUG_CLS_HOOKED,l=-1;e.exports={getNamespace:p,createNamespace:m,destroyNamespace:f,reset:g,ERROR_SYMBOL:a};function d(C){this.name=C,this.active=null,this._set=[],this.id=null,this._contexts=new Map}d.prototype.set=function(C,P){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&y("    SETTING KEY:"+C+"="+P+" in ns:"+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[C]=P,P},d.prototype.get=function(C){if(!this.active){u&&y("    GETTING KEY:"+C+"=undefined "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0));return}return u&&y("    GETTING KEY:"+C+"="+this.active[C]+" "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[C]},d.prototype.createContext=function(){u&&y("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let C=Object.create(this.active?this.active:Object.prototype);return C._ns_name=this.name,C.id=l,u&&y("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+r.inspect(C,!0,2,!0)),C},d.prototype.run=function(C){let P=this.createContext();this.enter(P);try{return u&&y(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(P)),C(P),P}catch(k){throw k&&(k[a]=P),k}finally{u&&y(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(P)),this.exit(P)}},d.prototype.runAndReturn=function(C){var P;return this.run(function(k){P=C(k)}),P},d.prototype.runPromise=function(C){let P=this.createContext();this.enter(P);let k=C(P);if(!k||!k.then||!k.catch)throw new Error("fn must return a promise.");return u&&y(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(P)),k.then(q=>(u&&y(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(P)),this.exit(P),q)).catch(q=>{throw q[a]=P,u&&y(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(P)),this.exit(P),q})},d.prototype.bind=function(C,P){P||(this.active?P=this.active:P=this.createContext());let k=this;return function(){k.enter(P);try{return C.apply(this,arguments)}catch(q){throw q&&(q[a]=P),q}finally{k.exit(P)}}},d.prototype.enter=function(C){n.ok(C,"context must be provided for entering"),u&&y("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(C)),this._set.push(this.active),this.active=C},d.prototype.exit=function(C){if(n.ok(C,"context must be provided for exiting"),u&&y("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(C)),this.active===C){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let P=this._set.lastIndexOf(C);P<0?(u&&y("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(C)),n.ok(P>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(C))):(n.ok(P,"can't remove top context"),this._set.splice(P,1))},d.prototype.bindEmitter=function(C){n.ok(C.on&&C.addListener&&C.emit,"can only bind real EEs");let P=this,k="context@"+this.name;function q(Q){!Q||(Q[s]||(Q[s]=Object.create(null)),Q[s][k]={namespace:P,context:P.active})}function j(Q){if(!(Q&&Q[s]))return Q;let ne=Q,X=Q[s];return Object.keys(X).forEach(function(H){let ae=X[H];ne=ae.namespace.bind(ne,ae.context)}),ne}i(C,q,j)},d.prototype.fromException=function(C){return C[a]};function p(C){return process.namespaces[C]}function m(C){n.ok(C,"namespace must be given a name."),u&&y("CREATING NAMESPACE "+C);let P=new d(C);return P.id=l,o.addHooks({init(k,q,j,Q,ne){l=k,Q?(P._contexts.set(k,P._contexts.get(Q)),u&&y("PARENTID: "+C+" uid:"+k+" parent:"+Q+" provider:"+j)):P._contexts.set(l,P.active),u&&y("INIT "+C+" uid:"+k+" parent:"+Q+" provider:"+c[j]+" active:"+r.inspect(P.active,!0))},pre(k,q){l=k;let j=P._contexts.get(k);j?(u&&y(" PRE "+C+" uid:"+k+" handle:"+b(q)+" context:"+r.inspect(j)),P.enter(j)):u&&y(" PRE MISSING CONTEXT "+C+" uid:"+k+" handle:"+b(q))},post(k,q){l=k;let j=P._contexts.get(k);j?(u&&y(" POST "+C+" uid:"+k+" handle:"+b(q)+" context:"+r.inspect(j)),P.exit(j)):u&&y(" POST MISSING CONTEXT "+C+" uid:"+k+" handle:"+b(q))},destroy(k){l=k,u&&y("DESTROY "+C+" uid:"+k+" context:"+r.inspect(P._contexts.get(l))+" active:"+r.inspect(P.active,!0)),P._contexts.delete(k)}}),process.namespaces[C]=P,P}function f(C){let P=p(C);n.ok(P,`can't delete nonexistent namespace! "`+C+'"'),n.ok(P.id,"don't assign to process.namespaces directly! "+r.inspect(P)),process.namespaces[C]=null}function g(){process.namespaces&&Object.keys(process.namespaces).forEach(function(C){f(C)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function y(C){process.env.DEBUG&&process._rawDebug(C)}function b(C){if(!C)return C;if(typeof C=="function")return C.name?C.name:(C.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(C.constructor&&C.constructor.name)return C.constructor.name}if(u){x=Lw();for(w in x.filter._modifiers)x.filter.deattach(w)}var x,w}),$j=A((t,e)=>{"use strict";var r=Oj();process&&r.gte(process.versions.node,"8.0.0")?e.exports=Aj():e.exports=Uj()}),Hj=A((t,e)=>{t=e.exports=ue;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var v=Array.prototype.slice.call(arguments,0);v.unshift("SEMVER"),console.log.apply(console,v)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var m=c++;a[m]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var f=c++;a[f]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[d]+")";var y=c++;a[y]="(?:-("+a[f]+"(?:\\."+a[f]+")*))";var b=c++;a[b]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var w=c++;a[w]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var C=c++,P="v?"+a[p]+a[y]+"?"+a[w]+"?";a[C]="^"+P+"$";var k="[v=\\s]*"+a[m]+a[b]+"?"+a[w]+"?",q=c++;a[q]="^"+k+"$";var j=c++;a[j]="((?:<|>)?=?)";var Q=c++;a[Q]=a[l]+"|x|X|\\*";var ne=c++;a[ne]=a[u]+"|x|X|\\*";var X=c++;a[X]="[v=\\s]*("+a[ne]+")(?:\\.("+a[ne]+")(?:\\.("+a[ne]+")(?:"+a[y]+")?"+a[w]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[Q]+")(?:\\.("+a[Q]+")(?:\\.("+a[Q]+")(?:"+a[b]+")?"+a[w]+"?)?)?";var ae=c++;a[ae]="^"+a[j]+"\\s*"+a[X]+"$";var ee=c++;a[ee]="^"+a[j]+"\\s*"+a[H]+"$";var xe=c++;a[xe]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var de=c++;a[de]="(?:~>?)";var z=c++;a[z]="(\\s*)"+a[de]+"\\s+",s[z]=new RegExp(a[z],"g");var Y="$1~",te=c++;a[te]="^"+a[de]+a[X]+"$";var pe=c++;a[pe]="^"+a[de]+a[H]+"$";var ge=c++;a[ge]="(?:\\^)";var De=c++;a[De]="(\\s*)"+a[ge]+"\\s+",s[De]=new RegExp(a[De],"g");var Re="$1^",ze=c++;a[ze]="^"+a[ge]+a[X]+"$";var We=c++;a[We]="^"+a[ge]+a[H]+"$";var mt=c++;a[mt]="^"+a[j]+"\\s*("+k+")$|^$";var ot=c++;a[ot]="^"+a[j]+"\\s*("+P+")$|^$";var ke=c++;a[ke]="(\\s*)"+a[j]+"\\s*("+k+"|"+a[X]+")",s[ke]=new RegExp(a[ke],"g");var Ot="$1$2$3",Mt=c++;a[Mt]="^\\s*("+a[X]+")\\s+-\\s+("+a[X]+")\\s*$";var qe=c++;a[qe]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var we=c++;for(a[we]="(<|>)?=?\\s*\\*",$e=0;$e<c;$e++)r($e,a[$e]),s[$e]||(s[$e]=new RegExp(a[$e]));var $e;t.parse=tt;function tt(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue)return v;if(typeof v!="string"||v.length>n)return null;var _=h.loose?s[q]:s[C];if(!_.test(v))return null;try{return new ue(v,h)}catch{return null}}t.valid=Ir;function Ir(v,h){var _=tt(v,h);return _?_.version:null}t.clean=en;function en(v,h){var _=tt(v.trim().replace(/^[=v]+/,""),h);return _?_.version:null}t.SemVer=ue;function ue(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue){if(v.loose===h.loose)return v;v=v.version}else if(typeof v!="string")throw new TypeError("Invalid Version: "+v);if(v.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ue))return new ue(v,h);r("SemVer",v,h),this.options=h,this.loose=!!h.loose;var _=v.trim().match(h.loose?s[q]:s[C]);if(!_)throw new TypeError("Invalid Version: "+v);if(this.raw=v,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var D=+R;if(D>=0&&D<i)return D}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(v){return r("SemVer.compare",this.version,this.options,v),v instanceof ue||(v=new ue(v,this.options)),this.compareMain(v)||this.comparePre(v)},ue.prototype.compareMain=function(v){return v instanceof ue||(v=new ue(v,this.options)),ht(this.major,v.major)||ht(this.minor,v.minor)||ht(this.patch,v.patch)},ue.prototype.comparePre=function(v){if(v instanceof ue||(v=new ue(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;var h=0;do{var _=this.prerelease[h],R=v.prerelease[h];if(r("prerelease compare",h,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_!==R)return ht(_,R)}while(++h)},ue.prototype.inc=function(v,h){switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+v)}return this.format(),this.raw=this.version,this},t.inc=Fr;function Fr(v,h,_,R){typeof _=="string"&&(R=_,_=void 0);try{return new ue(v,_).inc(h,R).version}catch{return null}}t.diff=Vt;function Vt(v,h){if(Qe(v,h))return null;var _=tt(v),R=tt(h),D="";if(_.prerelease.length||R.prerelease.length){D="pre";var U="prerelease"}for(var V in _)if((V==="major"||V==="minor"||V==="patch")&&_[V]!==R[V])return D+V;return U}t.compareIdentifiers=ht;var $t=/^[0-9]+$/;function ht(v,h){var _=$t.test(v),R=$t.test(h);return _&&R&&(v=+v,h=+h),v===h?0:_&&!R?-1:R&&!_?1:v<h?-1:1}t.rcompareIdentifiers=ir;function ir(v,h){return ht(h,v)}t.major=Ht;function Ht(v,h){return new ue(v,h).major}t.minor=qr;function qr(v,h){return new ue(v,h).minor}t.patch=Ur;function Ur(v,h){return new ue(v,h).patch}t.compare=lt;function lt(v,h,_){return new ue(v,_).compare(new ue(h,_))}t.compareLoose=Kr;function Kr(v,h){return lt(v,h,!0)}t.rcompare=Yt;function Yt(v,h,_){return lt(h,v,_)}t.sort=M;function M(v,h){return v.sort(function(_,R){return t.compare(_,R,h)})}t.rsort=oe;function oe(v,h){return v.sort(function(_,R){return t.rcompare(_,R,h)})}t.gt=fe;function fe(v,h,_){return lt(v,h,_)>0}t.lt=ye;function ye(v,h,_){return lt(v,h,_)<0}t.eq=Qe;function Qe(v,h,_){return lt(v,h,_)===0}t.neq=rt;function rt(v,h,_){return lt(v,h,_)!==0}t.gte=st;function st(v,h,_){return lt(v,h,_)>=0}t.lte=Ze;function Ze(v,h,_){return lt(v,h,_)<=0}t.cmp=Me;function Me(v,h,_,R){switch(h){case"===":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v===_;case"!==":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v!==_;case"":case"=":case"==":return Qe(v,_,R);case"!=":return rt(v,_,R);case">":return fe(v,_,R);case">=":return st(v,_,R);case"<":return ye(v,_,R);case"<=":return Ze(v,_,R);default:throw new TypeError("Invalid operator: "+h)}}t.Comparator=Pe;function Pe(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof Pe){if(v.loose===!!h.loose)return v;v=v.value}if(!(this instanceof Pe))return new Pe(v,h);r("comparator",v,h),this.options=h,this.loose=!!h.loose,this.parse(v),this.semver===He?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var He={};Pe.prototype.parse=function(v){var h=this.options.loose?s[mt]:s[ot],_=v.match(h);if(!_)throw new TypeError("Invalid comparator: "+v);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new ue(_[2],this.options.loose):this.semver=He},Pe.prototype.toString=function(){return this.value},Pe.prototype.test=function(v){return r("Comparator.test",v,this.options.loose),this.semver===He?!0:(typeof v=="string"&&(v=new ue(v,this.options)),Me(v,this.operator,this.semver,this.options))},Pe.prototype.intersects=function(v,h){if(!(v instanceof Pe))throw new TypeError("a Comparator is required");(!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1});var _;if(this.operator==="")return _=new me(v.value,h),I(this.value,_,h);if(v.operator==="")return _=new me(this.value,h),I(v.semver,_,h);var R=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),D=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),U=this.semver.version===v.semver.version,V=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),ie=Me(this.semver,"<",v.semver,h)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),le=Me(this.semver,">",v.semver,h)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return R||D||U&&V||ie||le},t.Range=me;function me(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof me)return v.loose===!!h.loose&&v.includePrerelease===!!h.includePrerelease?v:new me(v.raw,h);if(v instanceof Pe)return new me(v.value,h);if(!(this instanceof me))return new me(v,h);if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=v,this.set=v.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+v);this.format()}me.prototype.format=function(){return this.range=this.set.map(function(v){return v.join(" ").trim()}).join("||").trim(),this.range},me.prototype.toString=function(){return this.range},me.prototype.parseRange=function(v){var h=this.options.loose;v=v.trim();var _=h?s[qe]:s[Mt];v=v.replace(_,L),r("hyphen replace",v),v=v.replace(s[ke],Ot),r("comparator trim",v,s[ke]),v=v.replace(s[z],Y),v=v.replace(s[De],Re),v=v.split(/\s+/).join(" ");var R=h?s[mt]:s[ot],D=v.split(" ").map(function(U){return Bt(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(D=D.filter(function(U){return!!U.match(R)})),D=D.map(function(U){return new Pe(U,this.options)},this),D},me.prototype.intersects=function(v,h){if(!(v instanceof me))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(R){return v.set.some(function(D){return D.every(function(U){return R.intersects(U,h)})})})})},t.toComparators=Lt;function Lt(v,h){return new me(v,h).set.map(function(_){return _.map(function(R){return R.value}).join(" ").trim().split(" ")})}function Bt(v,h){return r("comp",v,h),v=J(v,h),r("caret",v),v=yr(v,h),r("tildes",v),v=bt(v,h),r("xrange",v),v=S(v,h),r("stars",v),v}function Ue(v){return!v||v.toLowerCase()==="x"||v==="*"}function yr(v,h){return v.trim().split(/\s+/).map(function(_){return T(_,h)}).join(" ")}function T(v,h){var _=h.loose?s[pe]:s[te];return v.replace(_,function(R,D,U,V,ie){r("tilde",v,R,D,U,V,ie);var le;return Ue(D)?le="":Ue(U)?le=">="+D+".0.0 <"+(+D+1)+".0.0":Ue(V)?le=">="+D+"."+U+".0 <"+D+"."+(+U+1)+".0":ie?(r("replaceTilde pr",ie),le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+(+U+1)+".0"):le=">="+D+"."+U+"."+V+" <"+D+"."+(+U+1)+".0",r("tilde return",le),le})}function J(v,h){return v.trim().split(/\s+/).map(function(_){return Ee(_,h)}).join(" ")}function Ee(v,h){r("caret",v,h);var _=h.loose?s[We]:s[ze];return v.replace(_,function(R,D,U,V,ie){r("caret",v,R,D,U,V,ie);var le;return Ue(D)?le="":Ue(U)?le=">="+D+".0.0 <"+(+D+1)+".0.0":Ue(V)?D==="0"?le=">="+D+"."+U+".0 <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+".0 <"+(+D+1)+".0.0":ie?(r("replaceCaret pr",ie),D==="0"?U==="0"?le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+U+"."+(+V+1):le=">="+D+"."+U+"."+V+"-"+ie+" <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+"."+V+"-"+ie+" <"+(+D+1)+".0.0"):(r("no pr"),D==="0"?U==="0"?le=">="+D+"."+U+"."+V+" <"+D+"."+U+"."+(+V+1):le=">="+D+"."+U+"."+V+" <"+D+"."+(+U+1)+".0":le=">="+D+"."+U+"."+V+" <"+(+D+1)+".0.0"),r("caret return",le),le})}function bt(v,h){return r("replaceXRanges",v,h),v.split(/\s+/).map(function(_){return W(_,h)}).join(" ")}function W(v,h){v=v.trim();var _=h.loose?s[ee]:s[ae];return v.replace(_,function(R,D,U,V,ie,le){r("xRange",v,R,D,U,V,ie,le);var Le=Ue(U),gt=Le||Ue(V),at=gt||Ue(ie),et=at;return D==="="&&et&&(D=""),Le?D===">"||D==="<"?R="<0.0.0":R="*":D&&et?(gt&&(V=0),ie=0,D===">"?(D=">=",gt?(U=+U+1,V=0,ie=0):(V=+V+1,ie=0)):D==="<="&&(D="<",gt?U=+U+1:V=+V+1),R=D+U+"."+V+"."+ie):gt?R=">="+U+".0.0 <"+(+U+1)+".0.0":at&&(R=">="+U+"."+V+".0 <"+U+"."+(+V+1)+".0"),r("xRange return",R),R})}function S(v,h){return r("replaceStars",v,h),v.trim().replace(s[we],"")}function L(v,h,_,R,D,U,V,ie,le,Le,gt,at,et){return Ue(_)?h="":Ue(R)?h=">="+_+".0.0":Ue(D)?h=">="+_+"."+R+".0":h=">="+h,Ue(le)?ie="":Ue(Le)?ie="<"+(+le+1)+".0.0":Ue(gt)?ie="<"+le+"."+(+Le+1)+".0":at?ie="<="+le+"."+Le+"."+gt+"-"+at:ie="<="+ie,(h+" "+ie).trim()}me.prototype.test=function(v){if(!v)return!1;typeof v=="string"&&(v=new ue(v,this.options));for(var h=0;h<this.set.length;h++)if(F(this.set[h],v,this.options))return!0;return!1};function F(v,h,_){for(var R=0;R<v.length;R++)if(!v[R].test(h))return!1;if(h.prerelease.length&&!_.includePrerelease){for(R=0;R<v.length;R++)if(r(v[R].semver),v[R].semver!==He&&v[R].semver.prerelease.length>0){var D=v[R].semver;if(D.major===h.major&&D.minor===h.minor&&D.patch===h.patch)return!0}return!1}return!0}t.satisfies=I;function I(v,h,_){try{h=new me(h,_)}catch{return!1}return h.test(v)}t.maxSatisfying=E;function E(v,h,_){var R=null,D=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||D.compare(V)===-1)&&(R=V,D=new ue(R,_))}),R}t.minSatisfying=Z;function Z(v,h,_){var R=null,D=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||D.compare(V)===1)&&(R=V,D=new ue(R,_))}),R}t.minVersion=se;function se(v,h){v=new me(v,h);var _=new ue("0.0.0");if(v.test(_)||(_=new ue("0.0.0-0"),v.test(_)))return _;_=null;for(var R=0;R<v.set.length;++R){var D=v.set[R];D.forEach(function(U){var V=new ue(U.semver.version);switch(U.operator){case">":V.prerelease.length===0?V.patch++:V.prerelease.push(0),V.raw=V.format();case"":case">=":(!_||fe(_,V))&&(_=V);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return _&&v.test(_)?_:null}t.validRange=Ve;function Ve(v,h){try{return new me(v,h).range||"*"}catch{return null}}t.ltr=Nt;function Nt(v,h,_){return Gt(v,h,"<",_)}t.gtr=xt;function xt(v,h,_){return Gt(v,h,">",_)}t.outside=Gt;function Gt(v,h,_,R){v=new ue(v,R),h=new me(h,R);var D,U,V,ie,le;switch(_){case">":D=fe,U=Ze,V=ye,ie=">",le=">=";break;case"<":D=ye,U=st,V=fe,ie="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(v,h,R))return!1;for(var Le=0;Le<h.set.length;++Le){var gt=h.set[Le],at=null,et=null;if(gt.forEach(function(qt){qt.semver===He&&(qt=new Pe(">=0.0.0")),at=at||qt,et=et||qt,D(qt.semver,at.semver,R)?at=qt:V(qt.semver,et.semver,R)&&(et=qt)}),at.operator===ie||at.operator===le||(!et.operator||et.operator===ie)&&U(v,et.semver)||et.operator===le&&V(v,et.semver))return!1}return!0}t.prerelease=Tr;function Tr(v,h){var _=tt(v,h);return _&&_.prerelease.length?_.prerelease:null}t.intersects=or;function or(v,h,_){return v=new me(v,_),h=new me(h,_),v.intersects(h)}t.coerce=nt;function nt(v){if(v instanceof ue)return v;if(typeof v!="string")return null;var h=v.match(s[xe]);return h==null?null:tt(h[1]+"."+(h[2]||"0")+"."+(h[3]||"0"))}}),Bj=A((t,e)=>{var r=fm().wrap,n=1,i=2,o=4,s=8,a=[],c=0,u=!1,l=[],d,p;function m(q,j){var Q=q.length,ne=j.length,X=[];if(Q===0&&ne===0)return X;for(var H=0;H<Q;H++)X[H]=q[H];if(ne===0)return X;for(var ae=0;ae<ne;ae++){var ee=!0;for(H=0;H<Q;H++)if(q[H].uid===j[ae].uid){ee=!1;break}ee&&X.push(j[ae])}return X}process._fatalException?(f=!1,d=function(q){var j=a.length;if(f||j===0)return!1;var Q=!1;f=!0;for(var ne=0;ne<j;++ne){var X=a[ne];if(X.flags&s){var H=g&&g[X.uid];Q=X.error(H,q)||Q}}return f=!1,l.length>0&&(a=l.pop()),g=void 0,Q&&!u},p=function(q,j,Q){var ne=[];u=!0;for(var X=0;X<Q;++X){var H=j[X];if(ne[H.uid]=H.data,(H.flags&n)!==0){var ae=H.create(H.data);ae!==void 0&&(ne[H.uid]=ae)}}return u=!1,function(){g=ne,l.push(a),a=m(j,a),u=!0;for(var ee=0;ee<Q;++ee)(j[ee].flags&i)>0&&j[ee].before(this,ne[j[ee].uid]);u=!1;var xe=q.apply(this,arguments);for(u=!0,ee=0;ee<Q;++ee)(j[ee].flags&o)>0&&j[ee].after(this,ne[j[ee].uid]);return u=!1,a=l.pop(),g=void 0,xe}},r(process,"_fatalException",function(q){return function(j){return d(j)||q(j)}})):(y=!1,d=function(q){if(y)throw q;for(var j=!1,Q=a.length,ne=0;ne<Q;++ne){var X=a[ne];X.flags&s&&(j=X.error(null,q)||j)}if(!j&&u)throw q},p=function(q,j,Q){var ne=[];u=!0;for(var X=0;X<Q;++X){var H=j[X];if(ne[H.uid]=H.data,(H.flags&n)!==0){var ae=H.create(H.data);ae!==void 0&&(ne[H.uid]=ae)}}return u=!1,function(){var ee=!1,xe=!1;l.push(a),a=m(j,a),u=!0;for(var de=0;de<Q;++de)(j[de].flags&i)>0&&j[de].before(this,ne[j[de].uid]);u=!1;var z;try{z=q.apply(this,arguments)}catch(Y){ee=!0;for(var de=0;de<Q;++de)if(a[de].flags&s)try{xe=a[de].error(ne[j[de].uid],Y)||xe}catch(pe){throw y=!0,pe}if(!xe)throw process.removeListener("uncaughtException",d),process._originalNextTick(function(){process.addListener("uncaughtException",d)}),Y}finally{if(!ee||xe){for(u=!0,de=0;de<Q;++de)(j[de].flags&o)>0&&j[de].after(this,ne[j[de].uid]);u=!1}a=l.pop()}return z}},process.addListener("uncaughtException",d));var f,g,y;function b(q,j,Q){u=!0;for(var ne=0;ne<Q;++ne){var X=j[ne];X.create&&X.create(X.data)}return u=!1,function(){l.push(a),a=m(j,a);var H=q.apply(this,arguments);return a=l.pop(),H}}function x(q){var j=a.length;if(j===0)return q;for(var Q=a.slice(),ne=0;ne<j;++ne)if(Q[ne].flags>0)return p(q,Q,j);return b(q,Q,j)}function w(q,j){typeof q.create=="function"&&(this.create=q.create,this.flags|=n),typeof q.before=="function"&&(this.before=q.before,this.flags|=i),typeof q.after=="function"&&(this.after=q.after,this.flags|=o),typeof q.error=="function"&&(this.error=q.error,this.flags|=s),this.uid=++c,this.data=j===void 0?null:j}w.prototype.create=void 0,w.prototype.before=void 0,w.prototype.after=void 0,w.prototype.error=void 0,w.prototype.data=void 0,w.prototype.uid=0,w.prototype.flags=0;function C(q,j){if(typeof q!="object"||!q)throw new TypeError("callbacks argument must be an object");return q instanceof w?q:new w(q,j)}function P(q,j){var Q;q instanceof w?Q=q:Q=C(q,j);for(var ne=!1,X=0;X<a.length;X++)if(Q===a[X]){ne=!0;break}return ne||a.push(Q),Q}function k(q){for(var j=0;j<a.length;j++)if(q===a[j]){a.splice(j,1);break}}process.createAsyncListener=C,process.addAsyncListener=P,process.removeAsyncListener=k,e.exports=x}),zj=A((t,e)=>{"use strict";e.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(u){s[1](u)}return a;function c(u,l){o=this,s=[d,p];function d(m){return n(a,!1),u(m)}function p(m){return n(a,!1),l(m)}}}}}),Vj=A(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var t=fm(),e=Hj(),r=t.wrap,n=t.massWrap,i=Bj(),o=require("util"),s=e.gte(process.version,"6.0.0"),a=e.gte(process.version,"7.0.0"),c=e.gte(process.version,"8.0.0"),u=e.gte(process.version,"11.0.0"),l=require("net");a&&!l._normalizeArgs?l._normalizeArgs=function(z){if(z.length===0)return[{},null];var Y=z[0],te={};typeof Y=="object"&&Y!==null?te=Y:de(Y)?te.path=Y:(te.port=Y,z.length>1&&typeof z[1]=="string"&&(te.host=z[1]));var pe=z[z.length-1];return typeof pe!="function"?[te,null]:[te,pe]}:!a&&!l._normalizeConnectArgs&&(l._normalizeConnectArgs=function(z){var Y={};function te(ge){return(ge=Number(ge))>=0?ge:!1}typeof z[0]=="object"&&z[0]!==null?Y=z[0]:typeof z[0]=="string"&&te(z[0])===!1?Y.path=z[0]:(Y.port=z[0],typeof z[1]=="string"&&(Y.host=z[1]));var pe=z[z.length-1];return typeof pe=="function"?[Y,pe]:[Y]}),"_setUpListenHandle"in l.Server.prototype?r(l.Server.prototype,"_setUpListenHandle",d):r(l.Server.prototype,"_listen2",d);function d(z){return function(){this.on("connection",function(Y){Y._handle&&(Y._handle.onread=i(Y._handle.onread))});try{return z.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function p(z){if(z&&z._handle){var Y=z._handle;Y._originalOnread||(Y._originalOnread=Y.onread),Y.onread=i(Y._originalOnread)}}r(l.Socket.prototype,"connect",function(z){return function(){var Y;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?Y=arguments[0]:Y=a?l._normalizeArgs(arguments):l._normalizeConnectArgs(arguments),Y[1]&&(Y[1]=i(Y[1]));var te=z.apply(this,Y);return p(this),te}});var m=require("http");r(m.Agent.prototype,"addRequest",function(z){return function(Y){var te=Y.onSocket;return Y.onSocket=i(function(pe){return p(pe),te.apply(this,arguments)}),z.apply(this,arguments)}});var f=require("child_process");function g(z){Array.isArray(z.stdio)&&z.stdio.forEach(function(Y){Y&&Y._handle&&(Y._handle.onread=i(Y._handle.onread),r(Y._handle,"close",ee))}),z._handle&&(z._handle.onexit=i(z._handle.onexit))}f.ChildProcess?r(f.ChildProcess.prototype,"spawn",function(z){return function(){var Y=z.apply(this,arguments);return g(this),Y}}):n(f,["execFile","fork","spawn"],function(z){return function(){var Y=z.apply(this,arguments);return g(Y),Y}}),process._fatalException||(process._originalNextTick=process.nextTick);var y=[];process._nextDomainTick&&y.push("_nextDomainTick"),process._tickDomainCallback&&y.push("_tickDomainCallback"),n(process,y,ae),r(process,"nextTick",ee);var b=["setTimeout","setInterval"];global.setImmediate&&b.push("setImmediate");var x=require("timers"),w=global.setTimeout===x.setTimeout;n(x,b,ee),w&&n(global,b,ee);var C=require("dns");n(C,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],ae),C.resolveNaptr&&r(C,"resolveNaptr",ae);var P=require("fs");n(P,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],ae),P.lchown&&r(P,"lchown",ae),P.lchmod&&r(P,"lchmod",ae),P.ftruncate&&r(P,"ftruncate",ae);var k;try{k=require("zlib")}catch{}k&&k.Deflate&&k.Deflate.prototype&&(q=Object.getPrototypeOf(k.Deflate.prototype),q._transform?r(q,"_transform",ae):q.write&&q.flush&&q.end&&n(q,["write","flush","end"],ae));var q,j;try{j=require("crypto")}catch{}j&&(Q=["pbkdf2","randomBytes"],u||Q.push("pseudoRandomBytes"),n(j,Q,ae));var Q,ne=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";ne&&(X=process.addAsyncListener({create:function(){ne=!1}}),global.Promise.resolve(!0).then(function(){ne=!1}),process.removeAsyncListener(X));var X;ne&&H();function H(){var z=global.Promise;function Y(Re){if(!(this instanceof Y))return z(Re);if(typeof Re!="function")return new z(Re);var ze,We,mt=new z(ot);mt.__proto__=Y.prototype;try{Re.apply(ze,We)}catch(ke){We[1](ke)}return mt;function ot(ke,Ot){ze=this,We=[Mt,qe];function Mt(we){return pe(mt,!1),ke(we)}function qe(we){return pe(mt,!1),Ot(we)}}}if(o.inherits(Y,z),r(z.prototype,"then",De),z.prototype.chain&&r(z.prototype,"chain",De),s)global.Promise=zj()(z,pe);else{var te=["all","race","reject","resolve","accept","defer"];te.forEach(function(Re){typeof z[Re]=="function"&&(Y[Re]=z[Re])}),global.Promise=Y}function pe(Re,ze){(!Re.__asl_wrapper||ze)&&(Re.__asl_wrapper=i(ge))}function ge(Re,ze,We,mt){var ot;try{return ot=ze.call(Re,We),{returnVal:ot,error:!1}}catch(ke){return{errorVal:ke,error:!0}}finally{ot instanceof z?mt.__asl_wrapper=function(){var ke=ot.__asl_wrapper||ge;return ke.apply(this,arguments)}:pe(mt,!0)}}function De(Re){return function(){var ze=this,We=Re.apply(ze,Array.prototype.map.call(arguments,mt));return We.__asl_wrapper=function(ot,ke,Ot,Mt){return ze.__asl_wrapper?(ze.__asl_wrapper(ot,function(){},null,We),We.__asl_wrapper(ot,ke,Ot,Mt)):ge(ot,ke,Ot,Mt)},We;function mt(ot){return typeof ot!="function"?ot:i(function(ke){var Ot=(ze.__asl_wrapper||ge)(this,ot,ke,We);if(Ot.error)throw Ot.errorVal;return Ot.returnVal})}}}}function ae(z){var Y=function(){var te,pe=arguments.length-1;if(typeof arguments[pe]=="function"){te=Array(arguments.length);for(var ge=0;ge<arguments.length-1;ge++)te[ge]=arguments[ge];te[pe]=i(arguments[pe])}return z.apply(this,te||arguments)};switch(z.length){case 1:return function(te){return arguments.length!==1?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te))};case 2:return function(te,pe){return arguments.length!==2?Y.apply(this,arguments):(typeof pe=="function"&&(pe=i(pe)),z.call(this,te,pe))};case 3:return function(te,pe,ge){return arguments.length!==3?Y.apply(this,arguments):(typeof ge=="function"&&(ge=i(ge)),z.call(this,te,pe,ge))};case 4:return function(te,pe,ge,De){return arguments.length!==4?Y.apply(this,arguments):(typeof De=="function"&&(De=i(De)),z.call(this,te,pe,ge,De))};case 5:return function(te,pe,ge,De,Re){return arguments.length!==5?Y.apply(this,arguments):(typeof Re=="function"&&(Re=i(Re)),z.call(this,te,pe,ge,De,Re))};case 6:return function(te,pe,ge,De,Re,ze){return arguments.length!==6?Y.apply(this,arguments):(typeof ze=="function"&&(ze=i(ze)),z.call(this,te,pe,ge,De,Re,ze))};default:return Y}}function ee(z){var Y=function(){var te;if(typeof arguments[0]=="function"){te=Array(arguments.length),te[0]=i(arguments[0]);for(var pe=1;pe<arguments.length;pe++)te[pe]=arguments[pe]}return z.apply(this,te||arguments)};switch(z.length){case 1:return function(te){return arguments.length!==1?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te))};case 2:return function(te,pe){return arguments.length!==2?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,pe))};case 3:return function(te,pe,ge){return arguments.length!==3?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,pe,ge))};case 4:return function(te,pe,ge,De){return arguments.length!==4?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,pe,ge,De))};case 5:return function(te,pe,ge,De,Re){return arguments.length!==5?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,pe,ge,De,Re))};case 6:return function(te,pe,ge,De,Re,ze){return arguments.length!==6?Y.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,pe,ge,De,Re,ze))};default:return Y}}function xe(z){return(z=Number(z))>=0?z:!1}function de(z){return typeof z=="string"&&xe(z)===!1}}),Wj=A((t,e)=>{"use strict";var r=require("assert"),n=mm(),i="cls@contexts",o="error@context";process.addAsyncListener||Vj();function s(d){this.name=d,this.active=null,this._set=[],this.id=null}s.prototype.set=function(d,p){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[d]=p,p},s.prototype.get=function(d){if(this.active)return this.active[d]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(d){var p=this.createContext();this.enter(p);try{return d(p),p}catch(m){throw m&&(m[o]=p),m}finally{this.exit(p)}},s.prototype.runAndReturn=function(d){var p;return this.run(function(m){p=d(m)}),p},s.prototype.bind=function(d,p){p||(this.active?p=this.active:p=this.createContext());var m=this;return function(){m.enter(p);try{return d.apply(this,arguments)}catch(f){throw f&&(f[o]=p),f}finally{m.exit(p)}}},s.prototype.enter=function(d){r.ok(d,"context must be provided for entering"),this._set.push(this.active),this.active=d},s.prototype.exit=function(d){if(r.ok(d,"context must be provided for exiting"),this.active===d){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var p=this._set.lastIndexOf(d);r.ok(p>=0,"context not currently entered; can't exit"),r.ok(p,"can't remove top context"),this._set.splice(p,1)},s.prototype.bindEmitter=function(d){r.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");var p=this,m="context@"+this.name;function f(y){!y||(y[i]||(y[i]=Object.create(null)),y[i][m]={namespace:p,context:p.active})}function g(y){if(!(y&&y[i]))return y;var b=y,x=y[i];return Object.keys(x).forEach(function(w){var C=x[w];b=C.namespace.bind(b,C.context)}),b}n(d,f,g)},s.prototype.fromException=function(d){return d[o]};function a(d){return process.namespaces[d]}function c(d){r.ok(d,"namespace must be given a name!");var p=new s(d);return p.id=process.addAsyncListener({create:function(){return p.active},before:function(m,f){f&&p.enter(f)},after:function(m,f){f&&p.exit(f)},error:function(m){m&&p.exit(m)}}),process.namespaces[d]=p,p}function u(d){var p=a(d);r.ok(p,"can't delete nonexistent namespace!"),r.ok(p.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(p.id),process.namespaces[d]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach(function(d){u(d)}),process.namespaces=Object.create(null)}process.namespaces||l(),e.exports={getNamespace:a,createNamespace:c,destroyNamespace:u,reset:l}}),Ws=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelationContextManager=void 0;var e=Xr(),r=pm(),n=vl(),i=Pw(),o=Nw(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var u=c.session.get(c.CONTEXT_NAME);return u===void 0?null:u},c.generateContextObject=function(u,l,d,p,m,f){return l=l||u,this.enabled?{operation:{name:d,id:u,parentId:l,traceparent:m,tracestate:f},customProperties:new a(p)}:null},c.spanToContextObject=function(u,l,d){var p=new n;return p.traceId=u.traceId,p.spanId=u.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(u.traceFlags)||n.DEFAULT_TRACE_FLAG,p.parentId=l,c.generateContextObject(p.traceId,p.parentId,d,null,p)},c.runWithContext=function(u,l){var d;return c.enabled?c.session.bind(l,(d={},d[c.CONTEXT_NAME]=u,d))():l()},c.wrapEmitter=function(u){c.enabled&&c.session.bindEmitter(u)},c.wrapCallback=function(u,l){var d;return c.enabled?c.session.bind(u,l?(d={},d[c.CONTEXT_NAME]=l,d):void 0):u},c.enable=function(u){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=u,this.hasEverEnabled=!0,typeof this.cls>"u"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=$j():this.cls=Wj()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(l){return c.session.bind(l)})),this.enabled=!0}},c.startOperation=function(u,l){var d=u&&u.traceContext||null,p=u&&u.traceId?u:null,m=u&&u.headers;if(p){var f=new n("00-"+p.traceId+"-"+p.spanId+"-01"),g=new i(p.traceState?p.traceState.serialize():null),y=c.generateContextObject(p.traceId,"|"+p.traceId+"."+p.spanId+".",typeof l=="string"?l:"",void 0,f,g);return y}if(d){var f=new n(d.traceparent),g=new i(d.tracestate),b=typeof l=="object"?new o(l):null,y=c.generateContextObject(f.traceId,f.parentId,typeof l=="string"?l:b.getOperationName({}),b&&b.getCorrelationContextHeader()||void 0,f,g);return y}if(m){var f=new n(m.traceparent?m.traceparent.toString():null),g=new i(m.tracestate?m.tracestate.toString():null),b=new o(u),y=c.generateContextObject(f.traceId,f.parentId,b.getOperationName({}),b.getCorrelationContextHeader(),f,g);return y}return e.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var u=process.versions.node.split(".");return parseInt(u[0])>3||parseInt(u[0])>2&&parseInt(u[1])>2},c.shouldUseClsHooked=function(){var u=process.versions.node.split(".");return parseInt(u[0])>8||parseInt(u[0])>=8&&parseInt(u[1])>=2},c.canUseClsHooked=function(){var u=process.versions.node.split("."),l=parseInt(u[0])>8||parseInt(u[0])>=8&&parseInt(u[1])>=0,d=parseInt(u[0])<8||parseInt(u[0])<=8&&parseInt(u[1])<2,p=parseInt(u[0])>4||parseInt(u[0])>=4&&parseInt(u[1])>=7;return!(l&&d)&&p},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();t.CorrelationContextManager=s;var a=function(){function c(u){this.props=[],this.addHeaderData(u)}return c.prototype.addHeaderData=function(u){var l=u?u.split(", "):[];this.props=l.map(function(d){var p=d.split("=");return{key:p[0],value:p[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(u){return u.key+"="+u.value}).join(", ")},c.prototype.getProperty=function(u){for(var l=0;l<this.props.length;++l){var d=this.props[l];if(d.key===u)return d.value}},c.prototype.setProperty=function(u,l){if(c.bannedCharacters.test(u)||c.bannedCharacters.test(l)){e.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+u+" and value: "+l);return}for(var d=0;d<this.props.length;++d){var p=this.props[d];if(p.key===u){p.value=l;return}}this.props.push({key:u,value:l})},c.bannedCharacters=/[,=]/,c}()}),Gj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=En(),r=Or(),n=[],i=function(a){var c=a.data.message;n.forEach(function(u){c instanceof Error?u.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),u.trackTrace({message:c,severity:a.data.stderr?e.SeverityLevel.Warning:e.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(u){return u!=c}),n.length===0&&r.channel.unsubscribe("console",i))}t.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}t.dispose=s}),Kj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=En(),r=Or(),n=[],i={10:e.SeverityLevel.Verbose,20:e.SeverityLevel.Verbose,30:e.SeverityLevel.Information,40:e.SeverityLevel.Warning,50:e.SeverityLevel.Error,60:e.SeverityLevel.Critical},o=function(c){var u=c.data.result;n.forEach(function(l){var d=i[c.data.level];u instanceof Error?l.trackException({exception:u}):l.trackTrace({message:u,severity:d})})};function s(c,u){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(u)):(n=n.filter(function(l){return l!=u}),n.length===0&&r.channel.unsubscribe("bunyan",o))}t.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}t.dispose=a}),Xj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=En(),r=Or(),n=[],i={syslog:function(c){var u={emerg:e.SeverityLevel.Critical,alert:e.SeverityLevel.Critical,crit:e.SeverityLevel.Critical,error:e.SeverityLevel.Error,warning:e.SeverityLevel.Warning,notice:e.SeverityLevel.Information,info:e.SeverityLevel.Information,debug:e.SeverityLevel.Verbose};return u[c]===void 0?e.SeverityLevel.Information:u[c]},npm:function(c){var u={error:e.SeverityLevel.Error,warn:e.SeverityLevel.Warning,info:e.SeverityLevel.Information,verbose:e.SeverityLevel.Verbose,debug:e.SeverityLevel.Verbose,silly:e.SeverityLevel.Verbose};return u[c]===void 0?e.SeverityLevel.Information:u[c]},unknown:function(c){return e.SeverityLevel.Information}},o=function(c){var u=c.data.message;n.forEach(function(l){if(u instanceof Error)l.trackException({exception:u,properties:c.data.meta});else{var d=i[c.data.levelKind](c.data.level);l.trackTrace({message:u,severity:d,properties:c.data.meta})}})};function s(c,u){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(u)):(n=n.filter(function(l){return l!=u}),n.length===0&&r.channel.unsubscribe("winston",o))}t.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}t.dispose=a}),Qj=A((t,e)=>{"use strict";var r=pm(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(Gj().enable(o&&s,this._client),Kj().enable(o,this._client),Xj().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();e.exports=n}),Zj=A((t,e)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,u,l){l===void 0&&(l=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:l}),o._client.flush({isAppCrashing:!0}),c&&u&&process.listeners(u).length===1&&(console.error(l),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();e.exports=r}),mo=A(t=>{"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeatMetricName=t.DependencyTypeName=t.SpanAttribute=t.TelemetryTypeStringToQuickPulseDocumentType=t.TelemetryTypeStringToQuickPulseType=t.QuickPulseType=t.QuickPulseDocumentType=t.PerformanceToQuickPulseCounter=t.MetricId=t.PerformanceCounter=t.QuickPulseCounter=t.DEFAULT_LIVEMETRICS_HOST=t.DEFAULT_LIVEMETRICS_ENDPOINT=t.DEFAULT_BREEZE_ENDPOINT=void 0,t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=t.QuickPulseCounter||(t.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=t.PerformanceCounter||(t.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=t.MetricId||(t.MetricId={})),t.PerformanceToQuickPulseCounter=(e={},e[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,e[n.REQUEST_RATE]=r.REQUEST_RATE,e[n.REQUEST_DURATION]=r.REQUEST_DURATION,e[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,e[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,e[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,e[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,e[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,e[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,e),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability,PageViewData:t.QuickPulseType.PageView},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability,PageViewData:t.QuickPulseDocumentType.PageView},t.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},t.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},t.HeartBeatMetricName="HeartBeat"}),hm=A((t,e)=>{"use strict";var r=require("os"),n=mo(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,u=0,l=0,d=0,p=0;s&&p<s.length;p++){var m=s[p],f=this._lastCpus[p],g="% cpu("+p+") ",y=m.model,b=m.speed,x=m.times,w=f.times,C=x.user-w.user||0;a+=C;var P=x.sys-w.sys||0;c+=P;var k=x.nice-w.nice||0;u+=k;var q=x.idle-w.idle||0;l+=q;var j=x.irq-w.irq||0;d+=j}var Q=void 0;if(typeof process.cpuUsage=="function"){var ne=process.cpuUsage(),X=process.hrtime(),H=ne.user-this._lastAppCpuUsage.user+(ne.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var ae=(X[0]-this._lastHrtime[0])*1e6+(X[1]-this._lastHrtime[1])/1e3||0;Q=100*H/(ae*s.length)}this._lastAppCpuUsage=ne,this._lastHrtime=X}var ee=a+c+u+l+d||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(ee-l)/ee*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:Q||a/ee*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,u=a.totalFailedRequestCount-s.totalFailedRequestCount||0,l=a.time-s.time,d=l/1e3,p=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,l>0){var m=c/d,f=u/d;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:m}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:p}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:f})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,u=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,l=a.time-s.time,d=l/1e3,p=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,l>0){var m=c/d,f=u/d;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:m}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:f}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:p})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,u=a.time-s.time,l=u/1e3;if(u>0){var d=c/l;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:d})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();e.exports=i}),Yj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregatedMetricCounter=void 0;var e=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();t.AggregatedMetricCounter=e}),Jj=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreaggregatedMetricPropertyNames=void 0,t.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),jw=A((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(a){for(var c,u=1,l=arguments.length;u<l;u++){c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},r.apply(this,arguments)},n=mo(),i=Yj(),o=Jj(),s=function(){function a(c,u){u===void 0&&(u=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=u}return a.prototype.enable=function(c,u){var l=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=u||this._collectionInterval,this._handle=setInterval(function(){return l.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var u=a._getAggregatedCounter(c,this._exceptionCountersCollection);u.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var u=a._getAggregatedCounter(c,this._traceCountersCollection);u.totalCount++}},a.countRequest=function(c,u){if(a.isEnabled()){var l,d=a._getAggregatedCounter(u,this._requestCountersCollection);if(typeof c=="string")l=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")l=c;else return;d.intervalExecutionTime+=l,d.totalCount++}},a.countDependency=function(c,u){if(a.isEnabled()){var l=a._getAggregatedCounter(u,this._dependencyCountersCollection),d;if(typeof c=="string")d=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")d=c;else return;l.intervalExecutionTime+=d,l.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,u){for(var l=!1,d=0;d<u.length;d++){if(c===u[d].dimensions)return u[d];if(Object.keys(c).length===Object.keys(u[d].dimensions).length){for(var p in c)if(c[p]!=u[d].dimensions[p]){l=!0;break}if(!l)return u[d];l=!1}}var m=new i.AggregatedMetricCounter(c);return u.push(m),m},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var u=a._requestCountersCollection[c];u.time=+new Date;var l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime,p=(u.intervalExecutionTime-u.lastIntervalExecutionTime)/l||0;u.lastIntervalExecutionTime=u.intervalExecutionTime,d>0&&l>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:u.dimensions,value:p,count:l,aggregationInterval:d,metricType:n.MetricId.REQUESTS_DURATION}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var u=a._dependencyCountersCollection[c];u.time=+new Date;var l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime,p=(u.intervalExecutionTime-u.lastIntervalExecutionTime)/l||0;u.lastIntervalExecutionTime=u.intervalExecutionTime,d>0&&l>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:u.dimensions,value:p,count:l,aggregationInterval:d,metricType:n.MetricId.DEPENDENCIES_DURATION}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var u=a._exceptionCountersCollection[c],l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:u.dimensions,value:l,count:l,aggregationInterval:d,metricType:n.MetricId.EXCEPTIONS_COUNT}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var u=a._traceCountersCollection[c],l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:u.dimensions,value:l,count:l,aggregationInterval:d,metricType:n.MetricId.TRACES_COUNT}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackPreAggregatedMetric=function(c){var u={};for(var l in c.dimensions)u[o.PreaggregatedMetricPropertyNames[l]]=c.dimensions[l];u=r(r({},u),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var d={name:c.name,value:c.value,count:c.count,properties:u,kind:"Aggregation"};this._client.trackMetric(d)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();e.exports=s}),yl=A((t,e)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=En(),s=Xr(),a=function(){function c(u){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(u),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(u){if(u=u||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[u]){c.appVersion[u]="unknown";try{var l=JSON.parse(n.readFileSync(u,"utf8"));l&&typeof l.version=="string"&&(c.appVersion[u]=l.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.applicationVersion]=c.appVersion[u]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var u=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var l=JSON.parse(n.readFileSync(u,"utf8"));l&&typeof l.version=="string"&&(c.sdkVersion=l.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();e.exports=a}),eF=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(m[g]=f[g])},l(d,p)};return function(d,p){l(d,p);function m(){this.constructor=d}d.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),n=require("url"),i=En(),o=Zn(),s=Ac(),a=kw(),c=Vs(),u=function(l){r(d,l);function d(p,m){var f=l.call(this)||this;return m&&m.method&&p&&(f.method=m.method,f.url=d._getUrlFromRequestOptions(p,m),f.startTime=+new Date),f}return d.prototype.onError=function(p){this._setStatus(void 0,p)},d.prototype.onResponse=function(p){this._setStatus(p.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(p,s.requestContextTargetKey)},d.prototype.getDependencyTelemetry=function(p,m){var f=n.parse(this.url);f.search=void 0,f.hash=void 0;var g=this.method.toUpperCase()+" "+f.pathname,y=i.RemoteDependencyDataConstants.TYPE_HTTP,b=f.hostname;f.port&&(b+=":"+f.port),this.correlationId?(y=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(b+=" | "+this.correlationId)):y=i.RemoteDependencyDataConstants.TYPE_HTTP;var x={id:m,name:g,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:y,target:b};if(p&&p.time?x.time=p.time:this.startTime&&(x.time=new Date(this.startTime)),p){for(var w in p)x[w]||(x[w]=p[w]);if(p.properties)for(var w in p.properties)x.properties[w]=p.properties[w]}return x},d._getUrlFromRequestOptions=function(p,m){if(typeof p=="string")if(p.indexOf("http://")===0||p.indexOf("https://")===0)p=n.parse(p);else{var f=n.parse(p);f.host==="443"?p=n.parse("https://"+p):p=n.parse("http://"+p)}else{if(p&&typeof n.URL=="function"&&p instanceof n.URL)return n.format(p);var g=p;p={},g&&Object.keys(g).forEach(function(x){p[x]=g[x]})}if(p.path){var y=n.parse(p.path);p.pathname=y.pathname,p.search=y.search}if(p.host&&p.port){var b=n.parse("http://"+p.host);!b.port&&p.port&&(p.hostname=p.host,delete p.host)}return p.protocol=p.protocol||m.agent&&m.agent.protocol||m.protocol||void 0,p.hostname=p.hostname||"localhost",n.format(p)},d}(a);e.exports=u}),tF=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.spanToTelemetryContract=void 0;var r=cr(),n=mo();function i(s){var a=e({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),u=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",l=s.attributes.component?s.attributes.component.toString():"",d=l.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],p=l.toLowerCase()===n.DependencyTypeName.Grpc;if(d){var m=s.attributes[n.SpanAttribute.HttpMethod]||"GET",f=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),g=s.attributes[n.SpanAttribute.HttpHost]||f.host,y=s.attributes[n.SpanAttribute.HttpPort]||f.port||null,b=f.pathname||"/",x=m+" "+b,w=n.DependencyTypeName.Http,C=y?(g+":"+y).toString():g.toString(),P=f.toString(),k=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,q=k<400;return{id:a,name:x,dependencyTypeName:w,target:C,data:P,success:q,duration:c,url:P,resultCode:String(k),properties:i(s.attributes)}}else if(p){var m=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",j=s.attributes[n.SpanAttribute.GrpcService],Q=j?m+" "+j:s.name;return{id:a,duration:c,name:Q,target:j.toString(),data:j.toString()||Q,url:j.toString()||Q,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var ne=s.name,X=s.links&&s.links.map(function(H){return{operation_Id:H.context.traceId,id:H.context.spanId}});return{id:a,duration:c,name:ne,target:u,data:u||ne,url:u||ne,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:l||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:e(e({},i(s.attributes)),{"_MS.links":X||void 0})}}}t.spanToTelemetryContract=o}),rF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=cr(),r=Or(),n=vl(),i=tF(),o=tw(),s=[],a=function(u){var l=u.data,d=i.spanToTelemetryContract(l),p=l.spanContext(),m=new n;m.traceId=p.traceId,m.spanId=p.spanId,m.traceFlag=n.formatOpenTelemetryTraceFlags(p.traceFlags),m.parentId=l.parentSpanId?"|"+p.traceId+"."+l.parentSpanId+".":null,o.AsyncScopeManager.with(l,function(){s.forEach(function(f){l.kind===e.SpanKind.SERVER?f.trackRequest(d):(l.kind===e.SpanKind.CLIENT||l.kind===e.SpanKind.INTERNAL)&&f.trackDependency(d)})})};t.subscriber=a;function c(u,l){u?(s.length===0&&r.channel.subscribe("azure-coretracing",t.subscriber),s.push(l)):(s=s.filter(function(d){return d!=l}),s.length===0&&r.channel.unsubscribe("azure-coretracing",t.subscriber))}t.enable=c}),nF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mongodb",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mongodb",t.subscriber))}t.enable=i}),iF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",u=!o.data.err,l=a._connection||{},d=l.config||{},p=d.socketPath?d.socketPath:(d.host||"localhost")+":"+d.port;s.trackDependency({target:p,data:c,name:c,duration:o.data.duration,success:u,resultCode:u?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mysql",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mysql",t.subscriber))}t.enable=i}),oF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("redis",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("redis",t.subscriber))}t.enable=i}),sF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",u=!o.data.error,l=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:l,data:c,name:c,duration:o.data.duration,success:u,resultCode:u?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("postgres",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("postgres",t.subscriber))}t.enable=i}),kc=A((t,e)=>{"use strict";var r=t&&t.__spreadArrays||function(){for(var f=0,g=0,y=arguments.length;g<y;g++)f+=arguments[g].length;for(var b=Array(f),x=0,g=0;g<y;g++)for(var w=arguments[g],C=0,P=w.length;C<P;C++,x++)b[x]=w[C];return b},n=require("http"),i=require("https"),o=Xr(),s=Zn(),a=Ac(),c=eF(),u=Ws(),l=Vs(),d=vl(),p=pm(),m=function(){function f(g){if(f.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");f.INSTANCE=this,this._client=g}return f.prototype.enable=function(g){this._isEnabled=g,this._isEnabled&&!this._isInitialized&&this._initialize(),p.IsInitialized&&(rF().enable(!0,this._client),nF().enable(g,this._client),iF().enable(g,this._client),oF().enable(g,this._client),sF().enable(g,this._client))},f.prototype.isInitialized=function(){return this._isInitialized},f.prototype._initialize=function(){var g=this;this._isInitialized=!0;var y=n.request,b=i.request,x=function(w,C){var P=!C[f.disableCollectionRequestOption]&&!w[f.alreadyAutoCollectedFlag];C.headers&&C.headers["user-agent"]&&C.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(P=!1),w[f.alreadyAutoCollectedFlag]=!0,w&&C&&P&&(u.CorrelationContextManager.wrapEmitter(w),f.trackRequest(g._client,{options:C,request:w}))};n.request=function(w){for(var C=[],P=1;P<arguments.length;P++)C[P-1]=arguments[P];var k=y.call.apply(y,r([n,w],C));return x(k,w),k},i.request=function(w){for(var C=[],P=1;P<arguments.length;P++)C[P-1]=arguments[P];var k=b.call.apply(b,r([i,w],C));return x(k,w),k},n.get=function(w){for(var C,P=[],k=1;k<arguments.length;k++)P[k-1]=arguments[k];var q=(C=n.request).call.apply(C,r([n,w],P));return q.end(),q},i.get=function(w){for(var C,P=[],k=1;k<arguments.length;k++)P[k-1]=arguments[k];var q=(C=i.request).call.apply(C,r([i,w],P));return q.end(),q}},f.trackRequest=function(g,y){if(!y.options||!y.request||!g){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!y.options,!y.request,!g);return}var b=new c(y.options,y.request),x=u.CorrelationContextManager.getCurrentContext(),w,C;if(x&&x.operation&&x.operation.traceparent&&d.isValidTraceId(x.operation.traceparent.traceId))x.operation.traceparent.updateSpanId(),w=x.operation.traceparent.getBackCompatRequestId();else if(l.w3cEnabled){var P=new d;C=P.toString(),w=P.getBackCompatRequestId()}else w=x&&x.operation&&x.operation.parentId+f.requestNumber+++".";if(s.canIncludeCorrelationHeader(g,b.getUrl())&&y.request.getHeader&&y.request.setHeader&&g.config&&g.config.correlationId){var k=y.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(g,y.request,k)}catch(Q){o.warn("Request-Context header could not be set. Correlation of requests may be lost",Q)}if(x&&x.operation)try{if(y.request.setHeader(a.requestIdHeader,w),g.config.ignoreLegacyHeaders||(y.request.setHeader(a.parentIdHeader,x.operation.id),y.request.setHeader(a.rootIdHeader,w)),C||x.operation.traceparent)y.request.setHeader(a.traceparentHeader,C||x.operation.traceparent.toString());else if(l.w3cEnabled){var P=new d().toString();y.request.setHeader(a.traceparentHeader,P)}if(x.operation.tracestate){var q=x.operation.tracestate.toString();q&&y.request.setHeader(a.traceStateHeader,q)}var j=x.customProperties.serializeToHeader();j&&y.request.setHeader(a.correlationContextHeader,j)}catch(Q){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",Q)}}y.request.on&&(y.request.on("response",function(Q){b.onResponse(Q);var ne=b.getDependencyTelemetry(y,w);ne.contextObjects=ne.contextObjects||{},ne.contextObjects["http.RequestOptions"]=y.options,ne.contextObjects["http.ClientRequest"]=y.request,ne.contextObjects["http.ClientResponse"]=Q,g.trackDependency(ne)}),y.request.on("error",function(Q){b.onError(Q);var ne=b.getDependencyTelemetry(y,w);ne.contextObjects=ne.contextObjects||{},ne.contextObjects["http.RequestOptions"]=y.options,ne.contextObjects["http.ClientRequest"]=y.request,ne.contextObjects.Error=Q,g.trackDependency(ne)}),y.request.on("abort",function(){b.onError(new Error);var Q=b.getDependencyTelemetry(y,w);Q.contextObjects=Q.contextObjects||{},Q.contextObjects["http.RequestOptions"]=y.options,Q.contextObjects["http.ClientRequest"]=y.request,g.trackDependency(Q)}))},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1},f.disableCollectionRequestOption="disableAppInsightsAutoCollection",f.requestNumber=1,f.alreadyAutoCollectedFlag="_appInsightsAutoCollected",f}();e.exports=m}),aF=A((t,e)=>{"use strict";var r=require("os"),n=mo(),i=Zn(),o=yl(),s=kc(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",u="format=json",l="ENETUNREACH",d=function(){function p(m){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",p.INSTANCE||(p.INSTANCE=this),this._isInitialized=!1,this._client=m}return p.prototype.enable=function(m,f){var g=this;this._isEnabled=m,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),m?this._handle||(this._handle=setInterval(function(){return g.trackHeartBeat(f,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},p.prototype.isInitialized=function(){return this._isInitialized},p.isEnabled=function(){return p.INSTANCE&&p.INSTANCE._isEnabled},p.prototype.trackHeartBeat=function(m,f){var g=this,y=!1,b={},x=o.sdkVersion;b.sdk=x,b.osType=r.type(),process.env.WEBSITE_SITE_NAME?(b.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",b.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",b.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?b.azfunction_appId=process.env.WEBSITE_HOSTNAME:m&&(this._isVM===void 0?(y=!0,this._getAzureComputeMetadata(m,function(){g._isVM&&Object.keys(g._vmData).length>0&&(b.azInst_vmId=g._vmData.vmId||"",b.azInst_subscriptionId=g._vmData.subscriptionId||"",b.azInst_osType=g._vmData.osType||"",g._azInst_vmId=g._vmData.vmId||"",g._azInst_subscriptionId=g._vmData.subscriptionId||"",g._azInst_osType=g._vmData.osType||""),g._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:b}),f()})):this._isVM&&(b.azInst_vmId=this._azInst_vmId,b.azInst_subscriptionId=this._azInst_subscriptionId,b.azInst_osType=this._azInst_osType)),y||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:b}),f())},p.prototype.dispose=function(){p.INSTANCE=null,this.enable(!1),this._isInitialized=!1},p.prototype._getAzureComputeMetadata=function(m,f){var g,y=this,b=a+"?"+c+"&"+u,x=(g={method:"GET"},g[s.disableCollectionRequestOption]=!0,g.headers={Metadata:"True"},g),w=i.makeRequest(m,b,x,function(C){if(C.statusCode===200){y._isVM=!0;var P="";C.on("data",function(k){P+=k}),C.on("end",function(){y._vmData=y._isJSON(P)?JSON.parse(P):{},f()})}else f()});w&&(w.on("error",function(C){C&&C.message&&C.message.indexOf(l)>-1&&(y._isVM=!1),f()}),w.end())},p.prototype._isJSON=function(m){try{return JSON.parse(m)&&!!m}catch{return!1}},p}();e.exports=d}),Fw=A((t,e)=>{"use strict";var r=require("http"),n=require("https"),i=Xr(),o=Zn(),s=Ac(),a=Nw(),c=Ws(),u=hm(),l=function(){function d(p){if(d.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");d.INSTANCE=this,this._client=p}return d.prototype.enable=function(p){this._isEnabled=p,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},d.prototype.useAutoCorrelation=function(p,m){p&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(m):!p&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=p},d.prototype.isInitialized=function(){return this._isInitialized},d.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},d.prototype._generateCorrelationContext=function(p){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(p.getOperationId(this._client.context.tags),p.getRequestId(),p.getOperationName(this._client.context.tags),p.getCorrelationContextHeader(),p.getTraceparent(),p.getTracestate())},d.prototype._initialize=function(){var p=this;this._isInitialized=!0;var m=function(b){if(b){if(typeof b!="function")throw new Error("onRequest handler must be a function");return function(x,w){c.CorrelationContextManager.wrapEmitter(x),c.CorrelationContextManager.wrapEmitter(w);var C=x&&!x[d.alreadyAutoCollectedFlag];if(x&&C){var P=new a(x),k=p._generateCorrelationContext(P);c.CorrelationContextManager.runWithContext(k,function(){p._isEnabled&&(x[d.alreadyAutoCollectedFlag]=!0,d.trackRequest(p._client,{request:x,response:w},P)),typeof b=="function"&&b(x,w)})}else typeof b=="function"&&b(x,w)}}},f=function(b){var x=b.addListener.bind(b);b.addListener=function(w,C){switch(w){case"request":case"checkContinue":return x(w,m(C));default:return x(w,C)}},b.on=b.addListener},g=r.createServer;r.createServer=function(b,x){if(x&&typeof x=="function"){var w=g(b,m(x));return f(w),w}else{var w=g(m(b));return f(w),w}};var y=n.createServer;n.createServer=function(b,x){var w=y(b,m(x));return f(w),w}},d.trackRequestSync=function(p,m){if(!m.request||!m.response||!p){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!m.request,!m.response,!p);return}d.addResponseCorrelationIdHeader(p,m.response);var f=c.CorrelationContextManager.getCurrentContext(),g=new a(m.request,f&&f.operation.parentId);f&&(f.operation.id=g.getOperationId(p.context.tags)||f.operation.id,f.operation.name=g.getOperationName(p.context.tags)||f.operation.name,f.operation.parentId=g.getRequestId()||f.operation.parentId,f.customProperties.addHeaderData(g.getCorrelationContextHeader())),d.endRequest(p,g,m,m.duration,m.error)},d.trackRequest=function(p,m,f){if(!m.request||!m.response||!p){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!m.request,!m.response,!p);return}var g=c.CorrelationContextManager.getCurrentContext(),y=f||new a(m.request,g&&g.operation.parentId);o.canIncludeCorrelationHeader(p,y.getUrl())&&d.addResponseCorrelationIdHeader(p,m.response),g&&!f&&(g.operation.id=y.getOperationId(p.context.tags)||g.operation.id,g.operation.name=y.getOperationName(p.context.tags)||g.operation.name,g.operation.parentId=y.getOperationParentId(p.context.tags)||g.operation.parentId,g.customProperties.addHeaderData(y.getCorrelationContextHeader())),m.response.once&&m.response.once("finish",function(){d.endRequest(p,y,m,null,null)}),m.request.on&&m.request.on("error",function(b){d.endRequest(p,y,m,null,b)}),m.request.on&&m.request.on("aborted",function(){var b="The request has been aborted and the network socket has closed.";d.endRequest(p,y,m,null,b)})},d.addResponseCorrelationIdHeader=function(p,m){if(p.config&&p.config.correlationId&&m.getHeader&&m.setHeader&&!m.headersSent){var f=m.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(p,m,f)}},d.endRequest=function(p,m,f,g,y){y?m.onError(y,g):m.onResponse(f.response,g);var b=m.getRequestTelemetry(f);if(b.tagOverrides=m.getRequestTags(p.context.tags),f.tagOverrides)for(var x in f.tagOverrides)b.tagOverrides[x]=f.tagOverrides[x];var w=m.getLegacyRootId();w&&(b.properties.ai_legacyRootId=w),b.contextObjects=b.contextObjects||{},b.contextObjects["http.ServerRequest"]=f.request,b.contextObjects["http.ServerResponse"]=f.response,p.trackRequest(b)},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},d.alreadyAutoCollectedFlag="_appInsightsAutoCollected",d}();e.exports=l}),cF=A((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(l){for(var d,p=1,m=arguments.length;p<m;p++){d=arguments[p];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])}return l},r.apply(this,arguments)},n=require("os"),i=En(),o=mo(),s=Zn(),a=Xr(),c=s.w3cTraceId(),u=function(){function l(){}return l.createQuickPulseEnvelope=function(d,p,m,f){var g=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",y=f.tags&&f.keys&&f.keys.cloudRoleInstance&&f.tags[f.keys.cloudRoleInstance]||g,b=f.tags&&f.keys&&f.keys.cloudRole&&f.tags[f.keys.cloudRole]||null,x={Documents:p.length>0?p:null,InstrumentationKey:m.instrumentationKey||"",Metrics:d.length>0?d:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:f.tags[f.keys.internalSdkVersion],StreamId:c,MachineName:g,Instance:y,RoleName:b};return x},l.createQuickPulseMetric=function(d){var p;return p={Name:d.name,Value:d.value,Weight:d.count||1},p},l.telemetryEnvelopeToQuickPulseDocument=function(d){switch(d.data.baseType){case i.TelemetryTypeString.Event:return l.createQuickPulseEventDocument(d);case i.TelemetryTypeString.Exception:return l.createQuickPulseExceptionDocument(d);case i.TelemetryTypeString.Trace:return l.createQuickPulseTraceDocument(d);case i.TelemetryTypeString.Dependency:return l.createQuickPulseDependencyDocument(d);case i.TelemetryTypeString.Request:return l.createQuickPulseRequestDocument(d)}return null},l.createQuickPulseEventDocument=function(d){var p=l.createQuickPulseDocument(d),m=d.data.baseData.name,f=r(r({},p),{Name:m});return f},l.createQuickPulseTraceDocument=function(d){var p=l.createQuickPulseDocument(d),m=d.data.baseData.severityLevel||0,f=r(r({},p),{Message:d.data.baseData.message,SeverityLevel:i.SeverityLevel[m]});return f},l.createQuickPulseExceptionDocument=function(d){var p=l.createQuickPulseDocument(d),m=d.data.baseData.exceptions,f="",g="",y="";m&&m.length>0&&(m[0].parsedStack&&m[0].parsedStack.length>0?m[0].parsedStack.forEach(function(x){f+=x.assembly+`
`}):m[0].stack&&m[0].stack.length>0&&(f=m[0].stack),g=m[0].message,y=m[0].typeName);var b=r(r({},p),{Exception:f,ExceptionMessage:g,ExceptionType:y});return b},l.createQuickPulseRequestDocument=function(d){var p=l.createQuickPulseDocument(d),m=d.data.baseData,f=r(r({},p),{Name:m.name,Success:m.success,Duration:m.duration,ResponseCode:m.responseCode,OperationName:m.name});return f},l.createQuickPulseDependencyDocument=function(d){var p=l.createQuickPulseDocument(d),m=d.data.baseData,f=r(r({},p),{Name:m.name,Target:m.target,Success:m.success,Duration:m.duration,ResultCode:m.resultCode,CommandName:m.data,OperationName:p.OperationId,DependencyTypeName:m.type});return f},l.createQuickPulseDocument=function(d){var p,m,f,g;d.data.baseType?(m=o.TelemetryTypeStringToQuickPulseType[d.data.baseType],p=o.TelemetryTypeStringToQuickPulseDocumentType[d.data.baseType]):a.warn("Document type invalid; not sending live metric document",d.data.baseType),f=d.tags[l.keys.operationId],g=l.aggregateProperties(d);var y={DocumentType:p,__type:m,OperationId:f,Version:"1.0",Properties:g};return y},l.aggregateProperties=function(d){var p=[],m=d.data.baseData.measurements||{};for(var f in m)if(m.hasOwnProperty(f)){var g=m[f],y={key:f,value:g};p.push(y)}var b=d.data.baseData.properties||{};for(var f in b)if(b.hasOwnProperty(f)){var g=b[f],y={key:f,value:g};p.push(y)}return p},l.keys=new i.ContextTagKeys,l}();e.exports=u}),uF=A((t,e)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};e.exports={getTransmissionTime:r}}),lF=A((t,e)=>{"use strict";var r=t&&t.__awaiter||function(d,p,m,f){function g(y){return y instanceof m?y:new m(function(b){b(y)})}return new(m||(m=Promise))(function(y,b){function x(P){try{C(f.next(P))}catch(k){b(k)}}function w(P){try{C(f.throw(P))}catch(k){b(k)}}function C(P){P.done?y(P.value):g(P.value).then(x,w)}C((f=f.apply(d,p||[])).next())})},n=t&&t.__generator||function(d,p){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},f,g,y,b;return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(C){return function(P){return w([C,P])}}function w(C){if(f)throw new TypeError("Generator is already executing.");for(;m;)try{if(f=1,g&&(y=C[0]&2?g.return:C[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,C[1])).done)return y;switch(g=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return m.label++,{value:C[1],done:!1};case 5:m.label++,g=C[1],C=[0];continue;case 7:C=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){m=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){m.label=C[1];break}if(C[0]===6&&m.label<y[1]){m.label=y[1],y=C;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(C);break}y[2]&&m.ops.pop(),m.trys.pop();continue}C=p.call(d,m)}catch(P){C=[6,P],g=0}finally{f=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=require("https"),o=kc(),s=Xr(),a=uF(),c=Zn(),u={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},l=function(){function d(p){this._config=p,this._consecutiveErrors=0}return d.prototype.ping=function(p,m,f){var g=[{name:u.streamId,value:p.StreamId},{name:u.machineName,value:p.MachineName},{name:u.roleName,value:p.RoleName},{name:u.instanceName,value:p.Instance},{name:u.invariantVersion,value:p.InvariantVersion.toString()}];this._submitData(p,m,f,"ping",g)},d.prototype.post=function(p,m,f){return r(this,void 0,void 0,function(){return n(this,function(g){switch(g.label){case 0:return[4,this._submitData([p],m,f,"post")];case 1:return g.sent(),[2]}})})},d.prototype._submitData=function(p,m,f,g,y){return r(this,void 0,void 0,function(){var b,x,w,C,P,k=this;return n(this,function(q){return b=JSON.stringify(p),x=(C={},C[o.disableCollectionRequestOption]=!0,C.host=m&&m.length>0?m:this._config.quickPulseHost,C.method=u.method,C.path="/QuickPulseService.svc/"+g+"?ikey="+this._config.instrumentationKey,C.headers=(P={Expect:"100-continue"},P[u.time]=a.getTransmissionTime(),P["Content-Type"]="application/json",P["Content-Length"]=Buffer.byteLength(b),P),C),y&&y.length>0&&y.forEach(function(j){return x.headers[j.name]=j.value}),this._config.httpsAgent?x.agent=this._config.httpsAgent:x.agent=c.tlsRestrictedAgent,w=i.request(x,function(j){if(j.statusCode==200){var Q=j.headers[u.subscribed]==="true",ne=j.headers[u.endpointRedirect]?j.headers[u.endpointRedirect].toString():null,X=j.headers[u.pollingIntervalHint]?parseInt(j.headers[u.pollingIntervalHint].toString()):null;k._consecutiveErrors=0,f(Q,j,ne,X)}else k._onError("StatusCode:"+j.statusCode+" StatusMessage:"+j.statusMessage),f()}),w.on("error",function(j){k._onError(j),f()}),w.write(b),w.end(),[2]})})},d.prototype._onError=function(p){this._consecutiveErrors++;var m="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%d.MAX_QPS_FAILURES_BEFORE_WARN===0?(m="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(d.TAG,m,p)):s.info(d.TAG,m,p)},d.TAG="QuickPulseSender",d.MAX_QPS_FAILURES_BEFORE_WARN=25,d}();e.exports=l}),dF=A((t,e)=>{"use strict";var r=t&&t.__awaiter||function(l,d,p,m){function f(g){return g instanceof p?g:new p(function(y){y(g)})}return new(p||(p=Promise))(function(g,y){function b(C){try{w(m.next(C))}catch(P){y(P)}}function x(C){try{w(m.throw(C))}catch(P){y(P)}}function w(C){C.done?g(C.value):f(C.value).then(b,x)}w((m=m.apply(l,d||[])).next())})},n=t&&t.__generator||function(l,d){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},m,f,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(w){return function(C){return x([w,C])}}function x(w){if(m)throw new TypeError("Generator is already executing.");for(;p;)try{if(m=1,f&&(g=w[0]&2?f.return:w[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,w[1])).done)return g;switch(f=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return p.label++,{value:w[1],done:!1};case 5:p.label++,f=w[1],w=[0];continue;case 7:w=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){p=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){p.label=w[1];break}if(w[0]===6&&p.label<g[1]){p.label=g[1],g=w;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(w);break}g[2]&&p.ops.pop(),p.trys.pop();continue}w=d.call(l,p)}catch(C){w=[6,C],f=0}finally{m=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},i=Xr(),o=cF(),s=lF(),a=mo(),c=yl(),u=function(){function l(d,p){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=d,this.context=p||new c,this._sender=new s(this.config),this._isEnabled=!1}return l.prototype.addCollector=function(d){this._collectors.push(d)},l.prototype.trackMetric=function(d){this._addMetric(d)},l.prototype.addDocument=function(d){var p=o.telemetryEnvelopeToQuickPulseDocument(d);p&&this._documents.push(p)},l.prototype.enable=function(d){d&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!d&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},l.prototype.enableCollectors=function(d){this._collectors.forEach(function(p){p.enable(d)})},l.prototype._addMetric=function(d){var p=d.value,m=d.count||1,f=a.PerformanceToQuickPulseCounter[d.name];f&&(this._metrics[f]?(this._metrics[f].Value=(this._metrics[f].Value*this._metrics[f].Weight+p*m)/(this._metrics[f].Weight+m),this._metrics[f].Weight+=m):(this._metrics[f]=o.createQuickPulseMetric(d),this._metrics[f].Name=f,this._metrics[f].Weight=1))},l.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},l.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var d,p,m,f,g=this;return n(this,function(y){switch(y.label){case 0:return d=Object.keys(this._metrics).map(function(b){return g._metrics[b]}),p=o.createQuickPulseEnvelope(d,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(p)]:[3,2];case 1:return y.sent(),[3,3];case 2:this._ping(p),y.label=3;case 3:return m=this._pollingIntervalHint>0?this._pollingIntervalHint:l.PING_INTERVAL,f=this._isCollectingData?l.POST_INTERVAL:m,this._isCollectingData&&Date.now()-this._lastSuccessTime>=l.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,f=l.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=l.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(f=l.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),f),this._handle.unref(),[2]}})})},l.prototype._ping=function(d){this._sender.ping(d,this._redirectedHost,this._quickPulseDone.bind(this))},l.prototype._post=function(d){return r(this,void 0,void 0,function(){return n(this,function(p){switch(p.label){case 0:return[4,this._sender.post(d,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return p.sent(),[2]}})})},l.prototype._quickPulseDone=function(d,p,m,f){d!=null?(this._isCollectingData!==d&&(i.info("Live Metrics sending data",d),this.enableCollectors(d)),this._isCollectingData=d,m&&m.length>0&&(this._redirectedHost=m,i.info("Redirecting endpoint to: ",m)),f&&f>0&&(this._pollingIntervalHint=f),p&&p.statusCode<300&&p.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},l.MAX_POST_WAIT_TIME=2e4,l.MAX_PING_WAIT_TIME=6e4,l.FALLBACK_INTERVAL=6e4,l.PING_INTERVAL=5e3,l.POST_INTERVAL=1e3,l}();e.exports=u}),pF=A((t,e)=>{"use strict";var r=mo(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(u,l){var d=l.split(i._FIELD_KEY_VALUE_SEPARATOR);if(d.length===2){var p=d[0].toLowerCase(),m=d[1];u[p]=m}return u},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();e.exports=n}),Uw=A((t,e)=>{"use strict";var r=Vs(),n=pF(),i=Xr(),o=mo(),s=require("url"),a=function(){function c(u){var l=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var d=process.env[c.ENV_connectionString],p=n.parse(u),m=n.parse(d),f=!p.instrumentationkey&&Object.keys(p).length>0?null:u;this.instrumentationKey=p.instrumentationkey||f||m.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(p.ingestionendpoint||m.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(g){return l.correlationId=g},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=p.ingestionendpoint||m.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=p.liveendpoint||m.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(u){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=u,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(u){this._quickPulseHost=u},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var u=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!u||u=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return u},c._validateInstrumentationKey=function(u){var l="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",d=new RegExp(l);return d.test(u)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();e.exports=a}),fF=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCollectNativePerformance=void 0;var r=Uw(),n=yl(),i=Xr(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,u){var l=this;if(c===void 0&&(c={}),u===void 0&&(u=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var d=require("applicationinsights-native-metrics");s._emitter=new d,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,u),this._handle||(this._handle=setInterval(function(){return l._trackNativeMetrics()},u),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],u=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(u){var l=u.split(","),d={};if(l.length>0)for(var p=0,m=l;p<m.length;p++){var f=m[p];d[f]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:e(e({},a),d)}:{isEnabled:a,disabledMetrics:d}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var u in c){var l=c[u].metrics,d=u+" Garbage Collection Duration",p=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:d,value:l.total,count:l.count,max:l.max,min:l.min,stdDev:p,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),u=c.loopUsage;if(u.count!=0){var l="Event Loop CPU Time",d=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:l,value:u.total,count:u.count,min:u.min,max:u.max,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,u;if(!this._disabledMetrics.heap){var l=process.memoryUsage(),d=l.heapUsed,p=l.heapTotal,m=l.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:d,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:p,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:m-p,count:1,tagOverrides:(u={},u[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,u)})}},s}();t.AutoCollectNativePerformance=o}),mF=A((t,e)=>{"use strict";var r=Xr(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();e.exports=n}),hF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.azureRoleEnvironmentTelemetryProcessor=void 0;function e(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}t.azureRoleEnvironmentTelemetryProcessor=e}),gF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplingHashCode=t.samplingTelemetryProcessor=void 0;var e=En();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&e.TelemetryType.Metric===e.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}t.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}t.getSamplingHashCode=n}),vF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceMetricsTelemetryProcessor=void 0;var e=hm(),r=En();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:e.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;e.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;e.countDependency(a.duration,a.success);break}return!0}t.performanceMetricsTelemetryProcessor=n}),yF=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.preAggregatedMetricsTelemetryProcessor=void 0;var r=En(),n=jw(),i=En();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=e(e({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var u={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(u);break;case i.TelemetryTypeString.Trace:var l=s.data.baseData;l.properties=e(e({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var d={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[l.severity]};n.countTrace(d);break;case i.TelemetryTypeString.Request:var p=s.data.baseData;p.properties=e(e({},p.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:p.success,requestResultCode:p.responseCode};n.countRequest(p.duration,m);break;case i.TelemetryTypeString.Dependency:var f=s.data.baseData;f.properties=e(e({},f.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var g={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:f.success,dependencyType:f.type,dependencyTarget:f.target,dependencyResultCode:f.resultCode};n.countDependency(f.duration,g);break}return!0}t.preAggregatedMetricsTelemetryProcessor=o}),bF=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(hF(),t),r(gF(),t),r(vF(),t),r(yF(),t)}),_F=A((t,e)=>{"use strict";var r=t&&t.__awaiter||function(m,f,g,y){function b(x){return x instanceof g?x:new g(function(w){w(x)})}return new(g||(g=Promise))(function(x,w){function C(q){try{k(y.next(q))}catch(j){w(j)}}function P(q){try{k(y.throw(q))}catch(j){w(j)}}function k(q){q.done?x(q.value):b(q.value).then(C,P)}k((y=y.apply(m,f||[])).next())})},n=t&&t.__generator||function(m,f){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},y,b,x,w;return w={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function C(k){return function(q){return P([k,q])}}function P(k){if(y)throw new TypeError("Generator is already executing.");for(;g;)try{if(y=1,b&&(x=k[0]&2?b.return:k[0]?b.throw||((x=b.return)&&x.call(b),0):b.next)&&!(x=x.call(b,k[1])).done)return x;switch(b=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return g.label++,{value:k[1],done:!1};case 5:g.label++,b=k[1],k=[0];continue;case 7:k=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){g=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){g.label=k[1];break}if(k[0]===6&&g.label<x[1]){g.label=x[1],x=k;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(k);break}x[2]&&g.ops.pop(),g.trys.pop();continue}k=f.call(m,g)}catch(q){k=[6,q],b=0}finally{y=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),u=Xr(),l=kc(),d=Zn(),p=function(){function m(f,g,y){if(this._redirectedHost=null,this._config=f,this._onSuccess=g,this._onError=y,this._enableDiskRetryMode=!1,this._resendInterval=m.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=m.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),m.TEMPDIR_PREFIX+this._config.instrumentationKey),!m.OS_PROVIDES_FILE_PROTECTION)if(m.USE_ICACLS){try{m.OS_PROVIDES_FILE_PROTECTION=i.existsSync(m.ICACLS_PATH)}catch{}m.OS_PROVIDES_FILE_PROTECTION||u.warn(m.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else m.OS_PROVIDES_FILE_PROTECTION=!0}return m.prototype.setDiskRetryMode=function(f,g,y){var b=this;this._enableDiskRetryMode=m.OS_PROVIDES_FILE_PROTECTION&&f,typeof g=="number"&&g>=0&&(this._resendInterval=Math.floor(g)),typeof y=="number"&&y>=0&&(this._maxBytesOnDisk=Math.floor(y)),f&&!m.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(m.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){b._fileCleanupTask()},m.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},m.prototype.send=function(f,g){return r(this,void 0,void 0,function(){var y,b,x,w,C=this;return n(this,function(P){return f&&(y=this._redirectedHost||this._config.endpointUrl,b={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},x="",f.forEach(function(k){var q=C._stringify(k);typeof q=="string"&&(x+=q+`
`)}),x.length>0&&(x=x.substring(0,x.length-1)),w=Buffer.from?Buffer.from(x):new Buffer(x),a.gzip(w,function(k,q){var j=q;k?(u.warn(k),j=w,b.headers["Content-Length"]=w.length.toString()):(b.headers["Content-Encoding"]="gzip",b.headers["Content-Length"]=q.length.toString()),u.info(m.TAG,b),b[l.disableCollectionRequestOption]=!0;var Q=function(X){X.setEncoding("utf-8");var H="";X.on("data",function(ae){H+=ae}),X.on("end",function(){if(C._numConsecutiveFailures=0,C._enableDiskRetryMode){if(X.statusCode===200)C._resendTimer||(C._resendTimer=setTimeout(function(){C._resendTimer=null,C._sendFirstFileOnDisk()},C._resendInterval),C._resendTimer.unref());else if(C._isRetriable(X.statusCode))try{var ae=JSON.parse(H),ee=[];ae.errors.forEach(function(de){C._isRetriable(de.statusCode)&&ee.push(f[de.index])}),ee.length>0&&C._storeToDisk(ee)}catch{C._storeToDisk(f)}}if(X.statusCode===307||X.statusCode===308)if(C._numConsecutiveRedirects++,C._numConsecutiveRedirects<10){var xe=X.headers.location?X.headers.location.toString():null;xe&&(C._redirectedHost=xe,C.send(f,g))}else typeof g=="function"&&g("Error sending telemetry because of circular redirects.");else C._numConsecutiveRedirects=0,typeof g=="function"&&g(H),u.info(m.TAG,H),typeof C._onSuccess=="function"&&C._onSuccess(H)})},ne=d.makeRequest(C._config,y,b,Q);ne.on("error",function(X){if(C._numConsecutiveFailures++,!C._enableDiskRetryMode||C._numConsecutiveFailures>0&&C._numConsecutiveFailures%m.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var H="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";C._enableDiskRetryMode&&(H="Ingestion endpoint could not be reached "+C._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(m.TAG,H,d.dumpObj(X))}else{var H="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";u.info(m.TAG,H,d.dumpObj(X))}C._onErrorHelper(X),typeof g=="function"&&(X&&g(d.dumpObj(X)),g("Error sending telemetry")),C._enableDiskRetryMode&&C._storeToDisk(f)}),ne.write(j),ne.end()})),[2]})})},m.prototype.saveOnCrash=function(f){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(f))},m.prototype._isRetriable=function(f){return f===206||f===408||f===429||f===439||f===500||f===503},m.prototype._runICACLS=function(f,g){var y=c.spawn(m.ICACLS_PATH,f,{windowsHide:!0});y.on("error",function(b){return g(b)}),y.on("close",function(b,x){return g(b===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+b+")"))})},m.prototype._runICACLSSync=function(f){if(c.spawnSync){var g=c.spawnSync(m.ICACLS_PATH,f,{windowsHide:!0});if(g.error)throw g.error;if(g.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+g.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},m.prototype._getACLIdentity=function(f){if(m.ACL_IDENTITY)return f(null,m.ACL_IDENTITY);var g=c.spawn(m.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),y="";g.stdout.on("data",function(b){return y+=b}),g.on("error",function(b){return f(b,null)}),g.on("close",function(b,x){return m.ACL_IDENTITY=y&&y.trim(),f(b===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+b+")"),m.ACL_IDENTITY)})},m.prototype._getACLIdentitySync=function(){if(m.ACL_IDENTITY)return m.ACL_IDENTITY;if(c.spawnSync){var f=c.spawnSync(m.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(f.error)throw f.error;if(f.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+f.status+")");return m.ACL_IDENTITY=f.stdout&&f.stdout.toString().trim(),m.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},m.prototype._getACLArguments=function(f,g){return[f,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",g+":(OI)(CI)F","/inheritance:r"]},m.prototype._applyACLRules=function(f,g){var y=this;if(!m.USE_ICACLS)return g(null);if(m.ACLED_DIRECTORIES[f]===void 0)m.ACLED_DIRECTORIES[f]=!1,this._getACLIdentity(function(b,x){if(b)return m.ACLED_DIRECTORIES[f]=!1,g(b);y._runICACLS(y._getACLArguments(f,x),function(w){return m.ACLED_DIRECTORIES[f]=!w,g(w)})});else return g(m.ACLED_DIRECTORIES[f]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},m.prototype._applyACLRulesSync=function(f){if(m.USE_ICACLS){if(m.ACLED_DIRECTORIES[f]===void 0){this._runICACLSSync(this._getACLArguments(f,this._getACLIdentitySync())),m.ACLED_DIRECTORIES[f]=!0;return}else if(!m.ACLED_DIRECTORIES[f])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},m.prototype._confirmDirExists=function(f,g){var y=this;i.lstat(f,function(b,x){b&&b.code==="ENOENT"?i.mkdir(f,function(w){w&&w.code!=="EEXIST"?g(w):y._applyACLRules(f,g)}):!b&&x.isDirectory()?y._applyACLRules(f,g):g(b||new Error("Path existed but was not a directory"))})},m.prototype._getShallowDirectorySize=function(f,g){i.readdir(f,function(y,b){if(y)return g(y,-1);var x=null,w=0,C=0;if(b.length===0){g(null,0);return}for(var P=0;P<b.length;P++)i.stat(s.join(f,b[P]),function(k,q){C++,k?x=k:q.isFile()&&(w+=q.size),C===b.length&&(x?g(x,-1):g(x,w))})})},m.prototype._getShallowDirectorySizeSync=function(f){for(var g=i.readdirSync(f),y=0,b=0;b<g.length;b++)y+=i.statSync(s.join(f,g[b])).size;return y},m.prototype._storeToDisk=function(f){var g=this;u.info(m.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(y){if(y){u.warn(m.TAG,"Error while checking/creating directory: "+(y&&y.message)),g._onErrorHelper(y);return}g._getShallowDirectorySize(g._tempDir,function(b,x){if(b||x<0){u.warn(m.TAG,"Error while checking directory size: "+(b&&b.message)),g._onErrorHelper(b);return}else if(x>g._maxBytesOnDisk){u.warn(m.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+x);return}var w=new Date().getTime()+".ai.json",C=s.join(g._tempDir,w);u.info(m.TAG,"saving data to disk at: "+C),i.writeFile(C,g._stringify(f),{mode:384},function(P){return g._onErrorHelper(P)})})})},m.prototype._storeToDiskSync=function(f){try{u.info(m.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var g=this._getShallowDirectorySizeSync(this._tempDir);if(g>this._maxBytesOnDisk){u.info(m.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+g);return}var y=new Date().getTime()+".ai.json",b=s.join(this._tempDir,y);u.info(m.TAG,"saving data before crash to disk at: "+b),i.writeFileSync(b,f,{mode:384})}catch(x){u.warn(m.TAG,"Error while saving data to disk: "+(x&&x.message)),this._onErrorHelper(x)}},m.prototype._sendFirstFileOnDisk=function(){var f=this;i.exists(this._tempDir,function(g){g&&i.readdir(f._tempDir,function(y,b){if(y)f._onErrorHelper(y);else if(b=b.filter(function(C){return s.basename(C).indexOf(".ai.json")>-1}),b.length>0){var x=b[0],w=s.join(f._tempDir,x);i.readFile(w,function(C,P){C?f._onErrorHelper(C):i.unlink(w,function(k){if(k)f._onErrorHelper(k);else try{var q=JSON.parse(P.toString());f.send(q)}catch(j){u.warn("Failed to read persisted file",j)}})})}})})},m.prototype._onErrorHelper=function(f){typeof this._onError=="function"&&this._onError(f)},m.prototype._stringify=function(f){try{return JSON.stringify(f)}catch(g){u.warn("Failed to serialize payload",g,f)}},m.prototype._fileCleanupTask=function(){var f=this;i.exists(this._tempDir,function(g){g&&i.readdir(f._tempDir,function(y,b){y?f._onErrorHelper(y):(b=b.filter(function(x){return s.basename(x).indexOf(".ai.json")>-1}),b.length>0&&b.forEach(function(x){var w=new Date(parseInt(x.split(".ai.json")[0])),C=new Date(+new Date-m.FILE_RETEMPTION_PERIOD)>w;if(C){var P=s.join(f._tempDir,x);i.unlink(P,function(k){k&&f._onErrorHelper(k)})}}))})})},m.TAG="Sender",m.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",m.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",m.ACLED_DIRECTORIES={},m.ACL_IDENTITY=null,m.WAIT_BETWEEN_RESEND=60*1e3,m.MAX_BYTES_ON_DISK=50*1024*1024,m.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,m.CLEANUP_TIMEOUT=60*60*1e3,m.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,m.TEMPDIR_PREFIX="appInsights-node",m.OS_PROVIDES_FILE_PROTECTION=!1,m.USE_ICACLS=o.type()==="Windows_NT",m}();e.exports=p}),xF=A((t,e)=>{"use strict";var r=En(),n=Zn(),i=Ws(),o=function(){function a(){}return a.createEnvelope=function(c,u,l,d,p){var m=null;switch(u){case r.TelemetryType.Trace:m=a.createTraceData(c);break;case r.TelemetryType.Dependency:m=a.createDependencyData(c);break;case r.TelemetryType.Event:m=a.createEventData(c);break;case r.TelemetryType.Exception:m=a.createExceptionData(c);break;case r.TelemetryType.Request:m=a.createRequestData(c);break;case r.TelemetryType.Metric:m=a.createMetricData(c);break;case r.TelemetryType.Availability:m=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:m=a.createPageViewData(c);break}if(l&&r.domainSupportsProperties(m.baseData)){if(m&&m.baseData)if(!m.baseData.properties)m.baseData.properties=l;else for(var f in l)m.baseData.properties[f]||(m.baseData.properties[f]=l[f]);m.baseData.properties=n.validateStringMap(m.baseData.properties)}var g=p&&p.instrumentationKey||"",y=new r.Envelope;return y.data=m,y.iKey=g,y.name="Microsoft.ApplicationInsights."+g.replace(/-/g,"")+"."+m.baseType.substr(0,m.baseType.length-4),y.tags=this.getTags(d,c.tagOverrides),y.time=new Date().toISOString(),y.ver=1,y.sampleRate=p?p.samplingPercentage:100,u===r.TelemetryType.Metric&&(y.sampleRate=100),y},a.createTraceData=function(c){var u=new r.MessageData;u.message=c.message,u.properties=c.properties,isNaN(c.severity)?u.severityLevel=r.SeverityLevel.Information:u.severityLevel=c.severity;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),l.baseData=u,l},a.createDependencyData=function(c){var u=new r.RemoteDependencyData;typeof c.name=="string"&&(u.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),u.data=c.data,u.target=c.target,u.duration=n.msToTimeSpan(c.duration),u.success=c.success,u.type=c.dependencyTypeName,u.properties=c.properties,u.resultCode=c.resultCode?c.resultCode+"":"",c.id?u.id=c.id:u.id=n.w3cTraceId();var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),l.baseData=u,l},a.createEventData=function(c){var u=new r.EventData;u.name=c.name,u.properties=c.properties,u.measurements=c.measurements;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),l.baseData=u,l},a.createExceptionData=function(c){var u=new r.ExceptionData;u.properties=c.properties,isNaN(c.severity)?u.severityLevel=r.SeverityLevel.Error:u.severityLevel=c.severity,u.measurements=c.measurements,u.exceptions=[];var l=c.exception.stack,d=new r.ExceptionDetails;d.message=c.exception.message,d.typeName=c.exception.name,d.parsedStack=this.parseStack(l),d.hasFullStack=n.isArray(d.parsedStack)&&d.parsedStack.length>0,u.exceptions.push(d);var p=new r.Data;return p.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),p.baseData=u,p},a.createRequestData=function(c){var u=new r.RequestData;c.id?u.id=c.id:u.id=n.w3cTraceId(),u.name=c.name,u.url=c.url,u.source=c.source,u.duration=n.msToTimeSpan(c.duration),u.responseCode=c.resultCode?c.resultCode+"":"",u.success=c.success,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),l.baseData=u,l},a.createMetricData=function(c){var u=new r.MetricData;u.metrics=[];var l=new r.DataPoint;l.count=isNaN(c.count)?1:c.count,l.kind=r.DataPointType.Aggregation,l.max=isNaN(c.max)?c.value:c.max,l.min=isNaN(c.min)?c.value:c.min,l.name=c.name,l.stdDev=isNaN(c.stdDev)?0:c.stdDev,l.value=c.value,u.metrics.push(l),u.properties=c.properties;var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),d.baseData=u,d},a.createAvailabilityData=function(c){var u=new r.AvailabilityData;c.id?u.id=c.id:u.id=n.w3cTraceId(),u.name=c.name,u.duration=n.msToTimeSpan(c.duration),u.success=c.success,u.runLocation=c.runLocation,u.message=c.message,u.measurements=c.measurements,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),l.baseData=u,l},a.createPageViewData=function(c){var u=new r.PageViewData;u.name=c.name,u.duration=n.msToTimeSpan(c.duration),u.url=c.url,u.measurements=c.measurements,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),l.baseData=u,l},a.getTags=function(c,u){var l=i.CorrelationContextManager.getCurrentContext(),d={};if(c&&c.tags)for(var p in c.tags)d[p]=c.tags[p];if(u)for(var p in u)d[p]=u[p];return l&&(d[c.keys.operationId]=d[c.keys.operationId]||l.operation.id,d[c.keys.operationName]=d[c.keys.operationName]||l.operation.name,d[c.keys.operationParentId]=d[c.keys.operationParentId]||l.operation.parentId),d},a.parseStack=function(c){var u=void 0;if(typeof c=="string"){var l=c.split(`
`);u=[];for(var d=0,p=0,m=0;m<=l.length;m++){var f=l[m];if(s.regex.test(f)){var g=new s(l[m],d++);p+=g.sizeInBytes,u.push(g)}}var y=32*1024;if(p>y)for(var b=0,x=u.length-1,w=0,C=b,P=x;b<x;){var k=u[b].sizeInBytes,q=u[x].sizeInBytes;if(w+=k+q,w>y){var j=P-C+1;u.splice(C,j);break}C=b,P=x,b++,x--}}return u},a}(),s=function(){function a(c,u){this.sizeInBytes=0,this.level=u,this.method="<no_method>",this.assembly=n.trim(c);var l=c.match(a.regex);l&&l.length>=5&&(this.method=n.trim(l[2])||this.method,this.fileName=n.trim(l[4])||"<no_filename>",this.line=parseInt(l[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();e.exports=o}),wF=A((t,e)=>{"use strict";var r=require("url"),n=Uw(),i=yl(),o=En(),s=mF(),a=bF(),c=Ws(),u=_F(),l=Zn(),d=Xr(),p=xF(),m=function(){function f(g){this._telemetryProcessors=[],this._enableAzureProperties=!1;var y=new n(g);this.config=y,this.context=new i,this.commonProperties={};var b=new u(this.config);this.channel=new s(function(){return y.disableAppInsights},function(){return y.maxBatchSize},function(){return y.maxBatchIntervalMs},b)}return f.prototype.trackAvailability=function(g){this.track(g,o.TelemetryType.Availability)},f.prototype.trackPageView=function(g){this.track(g,o.TelemetryType.PageView)},f.prototype.trackTrace=function(g){this.track(g,o.TelemetryType.Trace)},f.prototype.trackMetric=function(g){this.track(g,o.TelemetryType.Metric)},f.prototype.trackException=function(g){g&&g.exception&&!l.isError(g.exception)&&(g.exception=new Error(g.exception.toString())),this.track(g,o.TelemetryType.Exception)},f.prototype.trackEvent=function(g){this.track(g,o.TelemetryType.Event)},f.prototype.trackRequest=function(g){this.track(g,o.TelemetryType.Request)},f.prototype.trackDependency=function(g){g&&!g.target&&g.data&&(g.target=r.parse(g.data).host),this.track(g,o.TelemetryType.Dependency)},f.prototype.flush=function(g){this.channel.triggerSend(g?!!g.isAppCrashing:!1,g?g.callback:void 0)},f.prototype.track=function(g,y){if(g&&o.telemetryTypeToBaseType(y)){var b=p.createEnvelope(g,y,this.commonProperties,this.context,this.config);g.time&&(b.time=g.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(b,this.context);var x=this.runTelemetryProcessors(b,g.contextObjects);x=x&&a.samplingTelemetryProcessor(b,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(b,this.context),x&&(a.performanceMetricsTelemetryProcessor(b,this.quickPulseClient),this.channel.send(b))}else d.warn("track() requires telemetry object and telemetryType to be specified.")},f.prototype.setAutoPopulateAzureProperties=function(g){this._enableAzureProperties=g},f.prototype.addTelemetryProcessor=function(g){this._telemetryProcessors.push(g)},f.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},f.prototype.runTelemetryProcessors=function(g,y){var b=!0,x=this._telemetryProcessors.length;if(x===0)return b;y=y||{},y.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var w=0;w<x;++w)try{var C=this._telemetryProcessors[w];if(C&&C.apply(null,[g,y])===!1){b=!1;break}}catch(P){b=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",P,g)}return b&&(g&&g.tags&&(g.tags=l.validateStringMap(g.tags)),g&&g.data&&g.data.baseData&&g.data.baseData.properties&&(g.data.baseData.properties=l.validateStringMap(g.data.baseData.properties))),b},f}();e.exports=m}),CF=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var c=function(u,l){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(d[m]=p[m])},c(u,l)};return function(u,l){c(u,l);function d(){this.constructor=u}u.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),n=wF(),i=Fw(),o=kc(),s=Xr(),a=function(c){r(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.trackNodeHttpRequestSync=function(l){l&&l.request&&l.response&&l.duration?i.trackRequestSync(this,l):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},u.prototype.trackNodeHttpRequest=function(l){(l.duration||l.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),l&&l.request&&l.response?i.trackRequest(this,l):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},u.prototype.trackNodeHttpDependency=function(l){l&&l.request?o.trackRequest(this,l):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},u}(n);e.exports=a}),EF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),SF=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.Configuration=t.wrapWithCorrelationContext=t.startOperation=t.getCorrelationContext=t.start=t.setup=t.liveMetricsClient=t.defaultClient=t.DistributedTracingModes=void 0;var e=Ws(),r=Qj(),n=Zj(),i=hm(),o=jw(),s=aF(),a=kc(),c=Fw(),u=Vs(),l=Xr(),d=dF(),p=fF();t.TelemetryClient=CF(),t.Contracts=En(),t.azureFunctionsTypes=EF();var m;(function(qe){qe[qe.AI=0]="AI",qe[qe.AI_AND_W3C=1]="AI_AND_W3C"})(m=t.DistributedTracingModes||(t.DistributedTracingModes={}));var f=!0,g=!1,y=!0,b=!0,x=!0,w=!1,C=!0,P=!0,k=!0,q=!0,j,Q=!1,ne=!0,X,H=void 0,ae=void 0,ee,xe,de,z,Y,te,pe,ge,De=!1,Re;function ze(qe){return t.defaultClient?l.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(qe),ee=new r(t.defaultClient),xe=new n(t.defaultClient),de=new i(t.defaultClient),z=new o(t.defaultClient),Y=new s(t.defaultClient),pe=new c(t.defaultClient),ge=new a(t.defaultClient),te||(te=new p.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(k,H,ae),Ot}t.setup=ze;function We(){return t.defaultClient?(De=!0,ee.enable(f,g),xe.enable(y),de.enable(b),z.enable(x),Y.enable(w,t.defaultClient.config),te.enable(ne,X),pe.useAutoCorrelation(q,j),pe.enable(C),ge.enable(P),t.liveMetricsClient&&Q&&t.liveMetricsClient.enable(Q)):l.warn("Start cannot be called before setup"),Ot}t.start=We;function mt(){return q?e.CorrelationContextManager.getCurrentContext():null}t.getCorrelationContext=mt;function ot(qe,we){return e.CorrelationContextManager.startOperation(qe,we)}t.startOperation=ot;function ke(qe,we){return e.CorrelationContextManager.wrapCallback(qe,we)}t.wrapWithCorrelationContext=ke;var Ot=function(){function qe(){}return qe.setDistributedTracingMode=function(we){return u.w3cEnabled=we===m.AI_AND_W3C,qe},qe.setAutoCollectConsole=function(we,$e){return $e===void 0&&($e=!1),f=we,g=$e,De&&ee.enable(we,$e),qe},qe.setAutoCollectExceptions=function(we){return y=we,De&&xe.enable(we),qe},qe.setAutoCollectPerformance=function(we,$e){$e===void 0&&($e=!0),b=we;var tt=p.AutoCollectNativePerformance.parseEnabled($e);return ne=tt.isEnabled,X=tt.disabledMetrics,De&&(de.enable(we),te.enable(tt.isEnabled,tt.disabledMetrics)),qe},qe.setAutoCollectPreAggregatedMetrics=function(we){return x=we,De&&z.enable(we),qe},qe.setAutoCollectHeartbeat=function(we){return w=we,De&&Y.enable(we,t.defaultClient.config),qe},qe.setAutoCollectRequests=function(we){return C=we,De&&pe.enable(we),qe},qe.setAutoCollectDependencies=function(we){return P=we,De&&ge.enable(we),qe},qe.setAutoDependencyCorrelation=function(we,$e){return q=we,j=$e,De&&pe.useAutoCorrelation(we,$e),qe},qe.setUseDiskRetryCaching=function(we,$e,tt){return k=we,H=$e,ae=tt,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(we,$e,tt),qe},qe.setInternalLogging=function(we,$e){return we===void 0&&(we=!1),$e===void 0&&($e=!0),l.enableDebug=we,l.disableWarnings=!$e,qe},qe.setSendLiveMetrics=function(we){return we===void 0&&(we=!1),t.defaultClient?(!t.liveMetricsClient&&we?(t.liveMetricsClient=new d(t.defaultClient.config,null),Re=new i(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(Re),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(we),Q=we,qe):(l.warn("Live metrics client cannot be setup without the default client"),qe)},qe.start=We,qe}();t.Configuration=Ot;function Mt(){u.w3cEnabled=!0,t.defaultClient=null,De=!1,ee&&ee.dispose(),xe&&xe.dispose(),de&&de.dispose(),z&&z.dispose(),Y&&Y.dispose(),te&&te.dispose(),pe&&pe.dispose(),ge&&ge.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),Q=!1,t.liveMetricsClient=void 0)}t.dispose=Mt}),$w={};nM($w,{default:()=>DF});Hw.exports=iM($w);var im=Pc(require("os")),zs=Pc(require("vscode")),Rr=Pc(require("vscode")),hl=Pc(require("vscode"));function Tc(){let t="telemetry",e="enableTelemetry";try{let r=hl.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch{return hl.env.isTelemetryEnabled!==void 0?hl.env.isTelemetryEnabled?"on":"off":hl.workspace.getConfiguration(t).get(e)?"on":"off"}}var TF=class{constructor(t,e,r,n,i){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=r,this.osShim=n,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),Rr.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(Rr.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(Rr.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(Rr.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let t=Tc();this.userOptIn=t==="on",this.errorOptIn=t==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{t.indexOf(`${r}`)===0&&(e=r)}),e}get extension(){return this._extension===void 0&&(this._extension=Rr.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let r={};for(let n in t)r[n]=e(n,t[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(Rr.env.remoteName&&this.cleanRemoteName(Rr.env.remoteName)==="other"):!0}getCommonProperties(){let t=Object.create(null);if(t["common.os"]=this.osShim.platform,t["common.nodeArch"]=this.osShim.architecture,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,Rr&&Rr.env){switch(t["common.vscodemachineid"]=Rr.env.machineId,t["common.vscodesessionid"]=Rr.env.sessionId,t["common.vscodeversion"]=Rr.version,t["common.isnewappinstall"]=Rr.env.isNewAppInstall?Rr.env.isNewAppInstall.toString():"false",t["common.product"]=Rr.env.appHost,Rr.env.uiKind){case Rr.UIKind.Web:t["common.uikind"]="web";break;case Rr.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(Rr.env.remoteName)}return t}anonymizeFilePaths(t,e){let r;if(t==null)return"";let n=[];Rr.env.appRoot!==""&&n.push(new RegExp(Rr.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let u of n)for(;(r=u.exec(t))&&r;)o.push([r.index,u.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(t))&&r;)r[0]&&!s.test(r[0])&&o.every(([u,l])=>r.index<u||r.index>=l)&&(i+=t.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<t.length&&(i+=t.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e=Object.create(null);for(let r of Object.keys(t)){let n=t[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(n.toLowerCase())?e[r]="<REDACTED: secret>":i.test(n)?e[r]="<REDACTED: email>":s.test(n)?e[r]="<REDACTED: token>":e[r]=n}return e}get telemetryLevel(){switch(Tc()){case"on":return"all";case"error":return"error";case"off":return"off"}}sendTelemetryEvent(t,e,r){if(this.userOptIn&&t!==""){e=po(po({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}sendRawTelemetryEvent(t,e,r){this.userOptIn&&t!==""&&(e=po(po({},e),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:e,measurements:r}))}sendTelemetryErrorEvent(t,e,r,n){if(this.errorOptIn&&t!==""){e=po(po({},e),this.getCommonProperties());let i=this.cloneAndChange(e,(o,s)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(s,this.firstParty):n===void 0||n.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(s,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:r})}}sendTelemetryException(t,e,r){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&t){e=po(po({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),this.telemetryAppender.logException(t,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(t=>t.dispose()))}},RF=class{constructor(t,e){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=e,this._key=t,Tc()!=="off"&&this.instantiateAppender()}logEvent(t,e){if(!this._telemetryClient){!this._isInstantiated&&Tc()==="on"&&this._eventQueue.push({eventName:t,data:e});return}this._telemetryClient.logEvent(t,e)}logException(t,e){if(!this._telemetryClient){!this._isInstantiated&&Tc()!=="off"&&this._exceptionQueue.push({exception:t,data:e});return}this._telemetryClient.logException(t,e)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:e})=>this.logEvent(t,e)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:e})=>this.logException(t,e)),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._isInstantiated=!0,this._flushQueues()}).catch(t=>{console.error(t)})}},PF=async t=>{let e;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let r=await Promise.resolve().then(()=>Pc(SF()));r.defaultClient?(e=new r.TelemetryClient(t),e.channel.setUseDiskRetryCaching(!0)):(r.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),e=r.defaultClient),zs&&zs.env&&(e.context.tags[e.context.keys.userId]=zs.env.machineId,e.context.tags[e.context.keys.sessionId]=zs.env.sessionId,e.context.tags[e.context.keys.cloudRole]=zs.env.appName,e.context.tags[e.context.keys.cloudRoleInstance]=zs.env.appName),t&&t.indexOf("AIF-")===0&&(e.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")}catch(r){return Promise.reject(`Failed to initialize app insights!
`+r.message)}return{logEvent:(r,n)=>{try{e?.trackEvent({name:r,properties:n?.properties,measurements:n?.measurements})}catch(i){throw new Error(`Failed to log event to app insights!
`+i.message)}},logException:(r,n)=>{try{e?.trackException({exception:r,properties:n?.properties,measurements:n?.measurements})}catch(i){throw new Error(`Failed to log exception to app insights!
`+i.message)}},flush:async()=>{try{e?.flush()}catch(r){throw new Error(`Failed to flush app insights!
`+r.message)}}}},DF=class extends TF{constructor(t,e,r,n){let i=new RF(r,PF);r&&r.indexOf("AIF-")===0&&(n=!0),super(t,e,i,{release:im.release(),platform:im.platform(),architecture:im.arch()},n)}}});var Yn=$(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.asPromise=br.thenable=br.typedArray=br.stringArray=br.array=br.func=br.error=br.number=br.string=br.boolean=void 0;function IF(t){return t===!0||t===!1}br.boolean=IF;function zw(t){return typeof t=="string"||t instanceof String}br.string=zw;function OF(t){return typeof t=="number"||t instanceof Number}br.number=OF;function AF(t){return t instanceof Error}br.error=AF;function Vw(t){return typeof t=="function"}br.func=Vw;function Ww(t){return Array.isArray(t)}br.array=Ww;function kF(t){return Ww(t)&&t.every(e=>zw(e))}br.stringArray=kF;function NF(t,e){return Array.isArray(t)&&t.every(e)}br.typedArray=NF;function Gw(t){return t&&Vw(t.then)}br.thenable=Gw;function qF(t){return t instanceof Promise?t:Gw(t)?new Promise((e,r)=>{t.then(n=>e(n),n=>r(n))}):Promise.resolve(t)}br.asPromise=qF});var Gs=$(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.stringArray=tn.array=tn.func=tn.error=tn.number=tn.string=tn.boolean=void 0;function MF(t){return t===!0||t===!1}tn.boolean=MF;function Kw(t){return typeof t=="string"||t instanceof String}tn.string=Kw;function LF(t){return typeof t=="number"||t instanceof Number}tn.number=LF;function jF(t){return t instanceof Error}tn.error=jF;function FF(t){return typeof t=="function"}tn.func=FF;function Xw(t){return Array.isArray(t)}tn.array=Xw;function UF(t){return Xw(t)&&t.every(e=>Kw(e))}tn.stringArray=UF});var Um=$(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.Message=Be.NotificationType9=Be.NotificationType8=Be.NotificationType7=Be.NotificationType6=Be.NotificationType5=Be.NotificationType4=Be.NotificationType3=Be.NotificationType2=Be.NotificationType1=Be.NotificationType0=Be.NotificationType=Be.RequestType9=Be.RequestType8=Be.RequestType7=Be.RequestType6=Be.RequestType5=Be.RequestType4=Be.RequestType3=Be.RequestType2=Be.RequestType1=Be.RequestType=Be.RequestType0=Be.AbstractMessageSignature=Be.ParameterStructures=Be.ResponseError=Be.ErrorCodes=void 0;var Xo=Gs(),gm;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(gm||(Be.ErrorCodes=gm={}));var vm=class t extends Error{constructor(e,r,n){super(r),this.code=Xo.number(e)?e:gm.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Be.ResponseError=vm;var Sn=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Be.ParameterStructures=Sn;Sn.auto=new Sn("auto");Sn.byPosition=new Sn("byPosition");Sn.byName=new Sn("byName");var tr=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Sn.auto}};Be.AbstractMessageSignature=tr;var ym=class extends tr{constructor(e){super(e,0)}};Be.RequestType0=ym;var bm=class extends tr{constructor(e,r=Sn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Be.RequestType=bm;var _m=class extends tr{constructor(e,r=Sn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Be.RequestType1=_m;var xm=class extends tr{constructor(e){super(e,2)}};Be.RequestType2=xm;var wm=class extends tr{constructor(e){super(e,3)}};Be.RequestType3=wm;var Cm=class extends tr{constructor(e){super(e,4)}};Be.RequestType4=Cm;var Em=class extends tr{constructor(e){super(e,5)}};Be.RequestType5=Em;var Sm=class extends tr{constructor(e){super(e,6)}};Be.RequestType6=Sm;var Tm=class extends tr{constructor(e){super(e,7)}};Be.RequestType7=Tm;var Rm=class extends tr{constructor(e){super(e,8)}};Be.RequestType8=Rm;var Pm=class extends tr{constructor(e){super(e,9)}};Be.RequestType9=Pm;var Dm=class extends tr{constructor(e,r=Sn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Be.NotificationType=Dm;var Im=class extends tr{constructor(e){super(e,0)}};Be.NotificationType0=Im;var Om=class extends tr{constructor(e,r=Sn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Be.NotificationType1=Om;var Am=class extends tr{constructor(e){super(e,2)}};Be.NotificationType2=Am;var km=class extends tr{constructor(e){super(e,3)}};Be.NotificationType3=km;var Nm=class extends tr{constructor(e){super(e,4)}};Be.NotificationType4=Nm;var qm=class extends tr{constructor(e){super(e,5)}};Be.NotificationType5=qm;var Mm=class extends tr{constructor(e){super(e,6)}};Be.NotificationType6=Mm;var Lm=class extends tr{constructor(e){super(e,7)}};Be.NotificationType7=Lm;var jm=class extends tr{constructor(e){super(e,8)}};Be.NotificationType8=jm;var Fm=class extends tr{constructor(e){super(e,9)}};Be.NotificationType9=Fm;var Qw;(function(t){function e(i){let o=i;return o&&Xo.string(o.method)&&(Xo.string(o.id)||Xo.number(o.id))}t.isRequest=e;function r(i){let o=i;return o&&Xo.string(o.method)&&i.id===void 0}t.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Xo.string(o.id)||Xo.number(o.id)||o.id===null)}t.isResponse=n})(Qw||(Be.Message=Qw={}))});var Hm=$(ho=>{"use strict";var Zw;Object.defineProperty(ho,"__esModule",{value:!0});ho.LRUCache=ho.LinkedMap=ho.Touch=void 0;var rn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(rn||(ho.Touch=rn={}));var bl=class{constructor(){this[Zw]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=rn.None){let n=this._map.get(e);if(n)return r!==rn.None&&this.touch(n,r),n.value}set(e,r,n=rn.None){let i=this._map.get(e);if(i)i.value=r,n!==rn.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case rn.None:this.addItemLast(i);break;case rn.First:this.addItemFirst(i);break;case rn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(Zw=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==rn.First&&r!==rn.Last)){if(r===rn.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===rn.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};ho.LinkedMap=bl;var $m=class extends bl{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=rn.AsNew){return super.get(e,r)}peek(e){return super.get(e,rn.None)}set(e,r){return super.set(e,r,rn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ho.LRUCache=$m});var Jw=$(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.Disposable=void 0;var Yw;(function(t){function e(r){return{dispose:r}}t.create=e})(Yw||(_l.Disposable=Yw={}))});var go=$(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});var Bm;function zm(){if(Bm===void 0)throw new Error("No runtime abstraction layer installed");return Bm}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Bm=r}t.install=e})(zm||(zm={}));Vm.default=zm});var Xs=$(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.Emitter=Ks.Event=void 0;var $F=go(),eC;(function(t){let e={dispose(){}};t.None=function(){return e}})(eC||(Ks.Event=eC={}));var Wm=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],e))}catch(a){(0,$F.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},xl=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new Wm),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ks.Emitter=xl;xl._noop=function(){}});var El=$(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.CancellationTokenSource=Qs.CancellationToken=void 0;var HF=go(),BF=Gs(),Gm=Xs(),wl;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Gm.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Gm.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||BF.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(wl||(Qs.CancellationToken=wl={}));var zF=Object.freeze(function(t,e){let r=(0,HF.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),Cl=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?zF:(this._emitter||(this._emitter=new Gm.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Km=class{get token(){return this._token||(this._token=new Cl),this._token}cancel(){this._token?this._token.cancel():this._token=wl.Cancelled}dispose(){this._token?this._token instanceof Cl&&this._token.dispose():this._token=wl.None}};Qs.CancellationTokenSource=Km});var tC=$(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.SharedArrayReceiverStrategy=Zs.SharedArraySenderStrategy=void 0;var VF=El(),Nc;(function(t){t.Continue=0,t.Cancelled=1})(Nc||(Nc={}));var Xm=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Nc.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Nc.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Zs.SharedArraySenderStrategy=Xm;var Qm=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Nc.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Zm=class{constructor(e){this.token=new Qm(e)}cancel(){}dispose(){}},Ym=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new VF.CancellationTokenSource:new Zm(r)}};Zs.SharedArrayReceiverStrategy=Ym});var eh=$(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.Semaphore=void 0;var WF=go(),Jm=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,WF.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Sl.Semaphore=Jm});var nC=$(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.ReadableStreamMessageReader=vo.AbstractMessageReader=vo.MessageReader=void 0;var rh=go(),Ys=Gs(),th=Xs(),GF=eh(),rC;(function(t){function e(r){let n=r;return n&&Ys.func(n.listen)&&Ys.func(n.dispose)&&Ys.func(n.onError)&&Ys.func(n.onClose)&&Ys.func(n.onPartialMessage)}t.is=e})(rC||(vo.MessageReader=rC={}));var Tl=class{constructor(){this.errorEmitter=new th.Emitter,this.closeEmitter=new th.Emitter,this.partialMessageEmitter=new th.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ys.string(e.message)?e.message:"unknown"}`)}};vo.AbstractMessageReader=Tl;var nh;(function(t){function e(r){let n,i,o,s=new Map,a,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)s.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,rh.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(nh||(nh={}));var ih=class extends Tl{constructor(e,r){super(),this.readable=e,this.options=nh.fromOptions(r),this.buffer=(0,rh.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new GF.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,rh.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};vo.ReadableStreamMessageReader=ih});var cC=$(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.WriteableStreamMessageWriter=yo.AbstractMessageWriter=yo.MessageWriter=void 0;var iC=go(),qc=Gs(),KF=eh(),oC=Xs(),XF="Content-Length: ",sC=`\r
`,aC;(function(t){function e(r){let n=r;return n&&qc.func(n.dispose)&&qc.func(n.onClose)&&qc.func(n.onError)&&qc.func(n.write)}t.is=e})(aC||(yo.MessageWriter=aC={}));var Rl=class{constructor(){this.errorEmitter=new oC.Emitter,this.closeEmitter=new oC.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${qc.string(e.message)?e.message:"unknown"}`)}};yo.AbstractMessageWriter=Rl;var oh;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,iC.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,iC.default)().applicationJson.encoder}}t.fromOptions=e})(oh||(oh={}));var sh=class extends Rl{constructor(e,r){super(),this.writable=e,this.options=oh.fromOptions(r),this.errorCount=0,this.writeSemaphore=new KF.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(XF,n.byteLength.toString(),sC),i.push(sC),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};yo.WriteableStreamMessageWriter=sh});var uC=$(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.AbstractMessageBuffer=void 0;var QF=13,ZF=10,YF=`\r
`,ah=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case QF:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case ZF:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=u.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(YF);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let p=l.substr(0,d),m=l.substr(d+1).trim();a.set(e?p.toLowerCase():p,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);r.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return r}};Pl.AbstractMessageBuffer=ah});var mC=$(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.createMessageConnection=dt.ConnectionOptions=dt.MessageStrategy=dt.CancellationStrategy=dt.CancellationSenderStrategy=dt.CancellationReceiverStrategy=dt.RequestCancellationReceiverStrategy=dt.IdCancellationReceiverStrategy=dt.ConnectionStrategy=dt.ConnectionError=dt.ConnectionErrors=dt.LogTraceNotification=dt.SetTraceNotification=dt.TraceFormat=dt.TraceValues=dt.Trace=dt.NullLogger=dt.ProgressType=dt.ProgressToken=void 0;var lC=go(),pr=Gs(),Ge=Um(),dC=Hm(),Mc=Xs(),ch=El(),Fc;(function(t){t.type=new Ge.NotificationType("$/cancelRequest")})(Fc||(Fc={}));var uh;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}t.is=e})(uh||(dt.ProgressToken=uh={}));var Lc;(function(t){t.type=new Ge.NotificationType("$/progress")})(Lc||(Lc={}));var lh=class{constructor(){}};dt.ProgressType=lh;var dh;(function(t){function e(r){return pr.func(r)}t.is=e})(dh||(dh={}));dt.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var jt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(jt||(dt.Trace=jt={}));var pC;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(pC||(dt.TraceValues=pC={}));(function(t){function e(n){if(!pr.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(jt||(dt.Trace=jt={}));var jn;(function(t){t.Text="text",t.JSON="json"})(jn||(dt.TraceFormat=jn={}));(function(t){function e(r){return pr.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(jn||(dt.TraceFormat=jn={}));var ph;(function(t){t.type=new Ge.NotificationType("$/setTrace")})(ph||(dt.SetTraceNotification=ph={}));var Dl;(function(t){t.type=new Ge.NotificationType("$/logTrace")})(Dl||(dt.LogTraceNotification=Dl={}));var jc;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(jc||(dt.ConnectionErrors=jc={}));var Js=class t extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};dt.ConnectionError=Js;var fh;(function(t){function e(r){let n=r;return n&&pr.func(n.cancelUndispatched)}t.is=e})(fh||(dt.ConnectionStrategy=fh={}));var Il;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&pr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||pr.func(n.dispose))}t.is=e})(Il||(dt.IdCancellationReceiverStrategy=Il={}));var mh;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&pr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||pr.func(n.dispose))}t.is=e})(mh||(dt.RequestCancellationReceiverStrategy=mh={}));var Ol;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new ch.CancellationTokenSource}});function e(r){return Il.is(r)||mh.is(r)}t.is=e})(Ol||(dt.CancellationReceiverStrategy=Ol={}));var Al;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Fc.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&pr.func(n.sendCancellation)&&pr.func(n.cleanup)}t.is=e})(Al||(dt.CancellationSenderStrategy=Al={}));var kl;(function(t){t.Message=Object.freeze({receiver:Ol.Message,sender:Al.Message});function e(r){let n=r;return n&&Ol.is(n.receiver)&&Al.is(n.sender)}t.is=e})(kl||(dt.CancellationStrategy=kl={}));var Nl;(function(t){function e(r){let n=r;return n&&pr.func(n.handleMessage)}t.is=e})(Nl||(dt.MessageStrategy=Nl={}));var fC;(function(t){function e(r){let n=r;return n&&(kl.is(n.cancellationStrategy)||fh.is(n.connectionStrategy)||Nl.is(n.messageStrategy))}t.is=e})(fC||(dt.ConnectionOptions=fC={}));var gi;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(gi||(gi={}));function JF(t,e,r,n){let i=r!==void 0?r:dt.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,p=new Map,m=new Map,f,g=new dC.LinkedMap,y=new Map,b=new Set,x=new Map,w=jt.Off,C=jn.Text,P,k=gi.New,q=new Mc.Emitter,j=new Mc.Emitter,Q=new Mc.Emitter,ne=new Mc.Emitter,X=new Mc.Emitter,H=n&&n.cancellationStrategy?n.cancellationStrategy:kl.Message;function ae(M){if(M===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+M.toString()}function ee(M){return M===null?"res-unknown-"+(++a).toString():"res-"+M.toString()}function xe(){return"not-"+(++s).toString()}function de(M,oe){Ge.Message.isRequest(oe)?M.set(ae(oe.id),oe):Ge.Message.isResponse(oe)?M.set(ee(oe.id),oe):M.set(xe(),oe)}function z(M){}function Y(){return k===gi.Listening}function te(){return k===gi.Closed}function pe(){return k===gi.Disposed}function ge(){(k===gi.New||k===gi.Listening)&&(k=gi.Closed,j.fire(void 0))}function De(M){q.fire([M,void 0,void 0])}function Re(M){q.fire(M)}t.onClose(ge),t.onError(De),e.onClose(ge),e.onError(Re);function ze(){f||g.size===0||(f=(0,lC.default)().timer.setImmediate(()=>{f=void 0,mt()}))}function We(M){Ge.Message.isRequest(M)?ke(M):Ge.Message.isNotification(M)?Mt(M):Ge.Message.isResponse(M)?Ot(M):qe(M)}function mt(){if(g.size===0)return;let M=g.shift();try{let oe=n?.messageStrategy;Nl.is(oe)?oe.handleMessage(M,We):We(M)}finally{ze()}}let ot=M=>{try{if(Ge.Message.isNotification(M)&&M.method===Fc.type.method){let oe=M.params.id,fe=ae(oe),ye=g.get(fe);if(Ge.Message.isRequest(ye)){let rt=n?.connectionStrategy,st=rt&&rt.cancelUndispatched?rt.cancelUndispatched(ye,z):void 0;if(st&&(st.error!==void 0||st.result!==void 0)){g.delete(fe),x.delete(oe),st.id=ye.id,Ir(st,M.method,Date.now()),e.write(st).catch(()=>i.error("Sending response for canceled message failed."));return}}let Qe=x.get(oe);if(Qe!==void 0){Qe.cancel(),ue(M);return}else b.add(oe)}de(g,M)}finally{ze()}};function ke(M){if(pe())return;function oe(Me,Pe,He){let me={jsonrpc:c,id:M.id};Me instanceof Ge.ResponseError?me.error=Me.toJson():me.result=Me===void 0?null:Me,Ir(me,Pe,He),e.write(me).catch(()=>i.error("Sending response failed."))}function fe(Me,Pe,He){let me={jsonrpc:c,id:M.id,error:Me.toJson()};Ir(me,Pe,He),e.write(me).catch(()=>i.error("Sending response failed."))}function ye(Me,Pe,He){Me===void 0&&(Me=null);let me={jsonrpc:c,id:M.id,result:Me};Ir(me,Pe,He),e.write(me).catch(()=>i.error("Sending response failed."))}en(M);let Qe=l.get(M.method),rt,st;Qe&&(rt=Qe.type,st=Qe.handler);let Ze=Date.now();if(st||u){let Me=M.id??String(Date.now()),Pe=Il.is(H.receiver)?H.receiver.createCancellationTokenSource(Me):H.receiver.createCancellationTokenSource(M);M.id!==null&&b.has(M.id)&&Pe.cancel(),M.id!==null&&x.set(Me,Pe);try{let He;if(st)if(M.params===void 0){if(rt!==void 0&&rt.numberOfParams!==0){fe(new Ge.ResponseError(Ge.ErrorCodes.InvalidParams,`Request ${M.method} defines ${rt.numberOfParams} params but received none.`),M.method,Ze);return}He=st(Pe.token)}else if(Array.isArray(M.params)){if(rt!==void 0&&rt.parameterStructures===Ge.ParameterStructures.byName){fe(new Ge.ResponseError(Ge.ErrorCodes.InvalidParams,`Request ${M.method} defines parameters by name but received parameters by position`),M.method,Ze);return}He=st(...M.params,Pe.token)}else{if(rt!==void 0&&rt.parameterStructures===Ge.ParameterStructures.byPosition){fe(new Ge.ResponseError(Ge.ErrorCodes.InvalidParams,`Request ${M.method} defines parameters by position but received parameters by name`),M.method,Ze);return}He=st(M.params,Pe.token)}else u&&(He=u(M.method,M.params,Pe.token));let me=He;He?me.then?me.then(Lt=>{x.delete(Me),oe(Lt,M.method,Ze)},Lt=>{x.delete(Me),Lt instanceof Ge.ResponseError?fe(Lt,M.method,Ze):Lt&&pr.string(Lt.message)?fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${M.method} failed with message: ${Lt.message}`),M.method,Ze):fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${M.method} failed unexpectedly without providing any details.`),M.method,Ze)}):(x.delete(Me),oe(He,M.method,Ze)):(x.delete(Me),ye(He,M.method,Ze))}catch(He){x.delete(Me),He instanceof Ge.ResponseError?oe(He,M.method,Ze):He&&pr.string(He.message)?fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${M.method} failed with message: ${He.message}`),M.method,Ze):fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${M.method} failed unexpectedly without providing any details.`),M.method,Ze)}}else fe(new Ge.ResponseError(Ge.ErrorCodes.MethodNotFound,`Unhandled method ${M.method}`),M.method,Ze)}function Ot(M){if(!pe())if(M.id===null)M.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(M.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=M.id,fe=y.get(oe);if(Fr(M,fe),fe!==void 0){y.delete(oe);try{if(M.error){let ye=M.error;fe.reject(new Ge.ResponseError(ye.code,ye.message,ye.data))}else if(M.result!==void 0)fe.resolve(M.result);else throw new Error("Should never happen.")}catch(ye){ye.message?i.error(`Response handler '${fe.method}' failed with message: ${ye.message}`):i.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}function Mt(M){if(pe())return;let oe,fe;if(M.method===Fc.type.method){let ye=M.params.id;b.delete(ye),ue(M);return}else{let ye=p.get(M.method);ye&&(fe=ye.handler,oe=ye.type)}if(fe||d)try{if(ue(M),fe)if(M.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==Ge.ParameterStructures.byName&&i.error(`Notification ${M.method} defines ${oe.numberOfParams} params but received none.`),fe();else if(Array.isArray(M.params)){let ye=M.params;M.method===Lc.type.method&&ye.length===2&&uh.is(ye[0])?fe({token:ye[0],value:ye[1]}):(oe!==void 0&&(oe.parameterStructures===Ge.ParameterStructures.byName&&i.error(`Notification ${M.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==M.params.length&&i.error(`Notification ${M.method} defines ${oe.numberOfParams} params but received ${ye.length} arguments`)),fe(...ye))}else oe!==void 0&&oe.parameterStructures===Ge.ParameterStructures.byPosition&&i.error(`Notification ${M.method} defines parameters by position but received parameters by name`),fe(M.params);else d&&d(M.method,M.params)}catch(ye){ye.message?i.error(`Notification handler '${M.method}' failed with message: ${ye.message}`):i.error(`Notification handler '${M.method}' failed unexpectedly.`)}else Q.fire(M)}function qe(M){if(!M){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(M,null,4)}`);let oe=M;if(pr.string(oe.id)||pr.number(oe.id)){let fe=oe.id,ye=y.get(fe);ye&&ye.reject(new Error("The received response has neither a result nor an error property."))}}function we(M){if(M!=null)switch(w){case jt.Verbose:return JSON.stringify(M,null,4);case jt.Compact:return JSON.stringify(M);default:return}}function $e(M){if(!(w===jt.Off||!P))if(C===jn.Text){let oe;(w===jt.Verbose||w===jt.Compact)&&M.params&&(oe=`Params: ${we(M.params)}

`),P.log(`Sending request '${M.method} - (${M.id})'.`,oe)}else Vt("send-request",M)}function tt(M){if(!(w===jt.Off||!P))if(C===jn.Text){let oe;(w===jt.Verbose||w===jt.Compact)&&(M.params?oe=`Params: ${we(M.params)}

`:oe=`No parameters provided.

`),P.log(`Sending notification '${M.method}'.`,oe)}else Vt("send-notification",M)}function Ir(M,oe,fe){if(!(w===jt.Off||!P))if(C===jn.Text){let ye;(w===jt.Verbose||w===jt.Compact)&&(M.error&&M.error.data?ye=`Error data: ${we(M.error.data)}

`:M.result?ye=`Result: ${we(M.result)}

`:M.error===void 0&&(ye=`No result returned.

`)),P.log(`Sending response '${oe} - (${M.id})'. Processing request took ${Date.now()-fe}ms`,ye)}else Vt("send-response",M)}function en(M){if(!(w===jt.Off||!P))if(C===jn.Text){let oe;(w===jt.Verbose||w===jt.Compact)&&M.params&&(oe=`Params: ${we(M.params)}

`),P.log(`Received request '${M.method} - (${M.id})'.`,oe)}else Vt("receive-request",M)}function ue(M){if(!(w===jt.Off||!P||M.method===Dl.type.method))if(C===jn.Text){let oe;(w===jt.Verbose||w===jt.Compact)&&(M.params?oe=`Params: ${we(M.params)}

`:oe=`No parameters provided.

`),P.log(`Received notification '${M.method}'.`,oe)}else Vt("receive-notification",M)}function Fr(M,oe){if(!(w===jt.Off||!P))if(C===jn.Text){let fe;if((w===jt.Verbose||w===jt.Compact)&&(M.error&&M.error.data?fe=`Error data: ${we(M.error.data)}

`:M.result?fe=`Result: ${we(M.result)}

`:M.error===void 0&&(fe=`No result returned.

`)),oe){let ye=M.error?` Request failed: ${M.error.message} (${M.error.code}).`:"";P.log(`Received response '${oe.method} - (${M.id})' in ${Date.now()-oe.timerStart}ms.${ye}`,fe)}else P.log(`Received response ${M.id} without active response promise.`,fe)}else Vt("receive-response",M)}function Vt(M,oe){if(!P||w===jt.Off)return;let fe={isLSPMessage:!0,type:M,message:oe,timestamp:Date.now()};P.log(fe)}function $t(){if(te())throw new Js(jc.Closed,"Connection is closed.");if(pe())throw new Js(jc.Disposed,"Connection is disposed.")}function ht(){if(Y())throw new Js(jc.AlreadyListening,"Connection is already listening")}function ir(){if(!Y())throw new Error("Call listen() first.")}function Ht(M){return M===void 0?null:M}function qr(M){if(M!==null)return M}function Ur(M){return M!=null&&!Array.isArray(M)&&typeof M=="object"}function lt(M,oe){switch(M){case Ge.ParameterStructures.auto:return Ur(oe)?qr(oe):[Ht(oe)];case Ge.ParameterStructures.byName:if(!Ur(oe))throw new Error("Received parameters by name but param is not an object literal.");return qr(oe);case Ge.ParameterStructures.byPosition:return[Ht(oe)];default:throw new Error(`Unknown parameter structure ${M.toString()}`)}}function Kr(M,oe){let fe,ye=M.numberOfParams;switch(ye){case 0:fe=void 0;break;case 1:fe=lt(M.parameterStructures,oe[0]);break;default:fe=[];for(let Qe=0;Qe<oe.length&&Qe<ye;Qe++)fe.push(Ht(oe[Qe]));if(oe.length<ye)for(let Qe=oe.length;Qe<ye;Qe++)fe.push(null);break}return fe}let Yt={sendNotification:(M,...oe)=>{$t();let fe,ye;if(pr.string(M)){fe=M;let rt=oe[0],st=0,Ze=Ge.ParameterStructures.auto;Ge.ParameterStructures.is(rt)&&(st=1,Ze=rt);let Me=oe.length,Pe=Me-st;switch(Pe){case 0:ye=void 0;break;case 1:ye=lt(Ze,oe[st]);break;default:if(Ze===Ge.ParameterStructures.byName)throw new Error(`Received ${Pe} parameters for 'by Name' notification parameter structure.`);ye=oe.slice(st,Me).map(He=>Ht(He));break}}else{let rt=oe;fe=M.method,ye=Kr(M,rt)}let Qe={jsonrpc:c,method:fe,params:ye};return tt(Qe),e.write(Qe).catch(rt=>{throw i.error("Sending notification failed."),rt})},onNotification:(M,oe)=>{$t();let fe;return pr.func(M)?d=M:oe&&(pr.string(M)?(fe=M,p.set(M,{type:void 0,handler:oe})):(fe=M.method,p.set(M.method,{type:M,handler:oe}))),{dispose:()=>{fe!==void 0?p.delete(fe):d=void 0}}},onProgress:(M,oe,fe)=>{if(m.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return m.set(oe,fe),{dispose:()=>{m.delete(oe)}}},sendProgress:(M,oe,fe)=>Yt.sendNotification(Lc.type,{token:oe,value:fe}),onUnhandledProgress:ne.event,sendRequest:(M,...oe)=>{$t(),ir();let fe,ye,Qe;if(pr.string(M)){fe=M;let Me=oe[0],Pe=oe[oe.length-1],He=0,me=Ge.ParameterStructures.auto;Ge.ParameterStructures.is(Me)&&(He=1,me=Me);let Lt=oe.length;ch.CancellationToken.is(Pe)&&(Lt=Lt-1,Qe=Pe);let Bt=Lt-He;switch(Bt){case 0:ye=void 0;break;case 1:ye=lt(me,oe[He]);break;default:if(me===Ge.ParameterStructures.byName)throw new Error(`Received ${Bt} parameters for 'by Name' request parameter structure.`);ye=oe.slice(He,Lt).map(Ue=>Ht(Ue));break}}else{let Me=oe;fe=M.method,ye=Kr(M,Me);let Pe=M.numberOfParams;Qe=ch.CancellationToken.is(Me[Pe])?Me[Pe]:void 0}let rt=o++,st;Qe&&(st=Qe.onCancellationRequested(()=>{let Me=H.sender.sendCancellation(Yt,rt);return Me===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${rt}`),Promise.resolve()):Me.catch(()=>{i.log(`Sending cancellation messages for id ${rt} failed`)})}));let Ze={jsonrpc:c,id:rt,method:fe,params:ye};return $e(Ze),typeof H.sender.enableCancellation=="function"&&H.sender.enableCancellation(Ze),new Promise(async(Me,Pe)=>{let He=Bt=>{Me(Bt),H.sender.cleanup(rt),st?.dispose()},me=Bt=>{Pe(Bt),H.sender.cleanup(rt),st?.dispose()},Lt={method:fe,timerStart:Date.now(),resolve:He,reject:me};try{await e.write(Ze),y.set(rt,Lt)}catch(Bt){throw i.error("Sending request failed."),Lt.reject(new Ge.ResponseError(Ge.ErrorCodes.MessageWriteError,Bt.message?Bt.message:"Unknown reason")),Bt}})},onRequest:(M,oe)=>{$t();let fe=null;return dh.is(M)?(fe=void 0,u=M):pr.string(M)?(fe=null,oe!==void 0&&(fe=M,l.set(M,{handler:oe,type:void 0}))):oe!==void 0&&(fe=M.method,l.set(M.method,{type:M,handler:oe})),{dispose:()=>{fe!==null&&(fe!==void 0?l.delete(fe):u=void 0)}}},hasPendingResponse:()=>y.size>0,trace:async(M,oe,fe)=>{let ye=!1,Qe=jn.Text;fe!==void 0&&(pr.boolean(fe)?ye=fe:(ye=fe.sendNotification||!1,Qe=fe.traceFormat||jn.Text)),w=M,C=Qe,w===jt.Off?P=void 0:P=oe,ye&&!te()&&!pe()&&await Yt.sendNotification(ph.type,{value:jt.toString(M)})},onError:q.event,onClose:j.event,onUnhandledNotification:Q.event,onDispose:X.event,end:()=>{e.end()},dispose:()=>{if(pe())return;k=gi.Disposed,X.fire(void 0);let M=new Ge.ResponseError(Ge.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of y.values())oe.reject(M);y=new Map,x=new Map,b=new Set,g=new dC.LinkedMap,pr.func(e.dispose)&&e.dispose(),pr.func(t.dispose)&&t.dispose()},listen:()=>{$t(),ht(),k=gi.Listening,t.listen(ot)},inspect:()=>{(0,lC.default)().console.log("inspect")}};return Yt.onNotification(Dl.type,M=>{if(w===jt.Off||!P)return;let oe=w===jt.Verbose||w===jt.Compact;P.log(M.message,oe?M.verbose:void 0)}),Yt.onNotification(Lc.type,M=>{let oe=m.get(M.token);oe?oe(M.value):ne.fire(M)}),Yt}dt.createMessageConnection=JF});var ql=$(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.ProgressType=ce.ProgressToken=ce.createMessageConnection=ce.NullLogger=ce.ConnectionOptions=ce.ConnectionStrategy=ce.AbstractMessageBuffer=ce.WriteableStreamMessageWriter=ce.AbstractMessageWriter=ce.MessageWriter=ce.ReadableStreamMessageReader=ce.AbstractMessageReader=ce.MessageReader=ce.SharedArrayReceiverStrategy=ce.SharedArraySenderStrategy=ce.CancellationToken=ce.CancellationTokenSource=ce.Emitter=ce.Event=ce.Disposable=ce.LRUCache=ce.Touch=ce.LinkedMap=ce.ParameterStructures=ce.NotificationType9=ce.NotificationType8=ce.NotificationType7=ce.NotificationType6=ce.NotificationType5=ce.NotificationType4=ce.NotificationType3=ce.NotificationType2=ce.NotificationType1=ce.NotificationType0=ce.NotificationType=ce.ErrorCodes=ce.ResponseError=ce.RequestType9=ce.RequestType8=ce.RequestType7=ce.RequestType6=ce.RequestType5=ce.RequestType4=ce.RequestType3=ce.RequestType2=ce.RequestType1=ce.RequestType0=ce.RequestType=ce.Message=ce.RAL=void 0;ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=void 0;var er=Um();Object.defineProperty(ce,"Message",{enumerable:!0,get:function(){return er.Message}});Object.defineProperty(ce,"RequestType",{enumerable:!0,get:function(){return er.RequestType}});Object.defineProperty(ce,"RequestType0",{enumerable:!0,get:function(){return er.RequestType0}});Object.defineProperty(ce,"RequestType1",{enumerable:!0,get:function(){return er.RequestType1}});Object.defineProperty(ce,"RequestType2",{enumerable:!0,get:function(){return er.RequestType2}});Object.defineProperty(ce,"RequestType3",{enumerable:!0,get:function(){return er.RequestType3}});Object.defineProperty(ce,"RequestType4",{enumerable:!0,get:function(){return er.RequestType4}});Object.defineProperty(ce,"RequestType5",{enumerable:!0,get:function(){return er.RequestType5}});Object.defineProperty(ce,"RequestType6",{enumerable:!0,get:function(){return er.RequestType6}});Object.defineProperty(ce,"RequestType7",{enumerable:!0,get:function(){return er.RequestType7}});Object.defineProperty(ce,"RequestType8",{enumerable:!0,get:function(){return er.RequestType8}});Object.defineProperty(ce,"RequestType9",{enumerable:!0,get:function(){return er.RequestType9}});Object.defineProperty(ce,"ResponseError",{enumerable:!0,get:function(){return er.ResponseError}});Object.defineProperty(ce,"ErrorCodes",{enumerable:!0,get:function(){return er.ErrorCodes}});Object.defineProperty(ce,"NotificationType",{enumerable:!0,get:function(){return er.NotificationType}});Object.defineProperty(ce,"NotificationType0",{enumerable:!0,get:function(){return er.NotificationType0}});Object.defineProperty(ce,"NotificationType1",{enumerable:!0,get:function(){return er.NotificationType1}});Object.defineProperty(ce,"NotificationType2",{enumerable:!0,get:function(){return er.NotificationType2}});Object.defineProperty(ce,"NotificationType3",{enumerable:!0,get:function(){return er.NotificationType3}});Object.defineProperty(ce,"NotificationType4",{enumerable:!0,get:function(){return er.NotificationType4}});Object.defineProperty(ce,"NotificationType5",{enumerable:!0,get:function(){return er.NotificationType5}});Object.defineProperty(ce,"NotificationType6",{enumerable:!0,get:function(){return er.NotificationType6}});Object.defineProperty(ce,"NotificationType7",{enumerable:!0,get:function(){return er.NotificationType7}});Object.defineProperty(ce,"NotificationType8",{enumerable:!0,get:function(){return er.NotificationType8}});Object.defineProperty(ce,"NotificationType9",{enumerable:!0,get:function(){return er.NotificationType9}});Object.defineProperty(ce,"ParameterStructures",{enumerable:!0,get:function(){return er.ParameterStructures}});var hh=Hm();Object.defineProperty(ce,"LinkedMap",{enumerable:!0,get:function(){return hh.LinkedMap}});Object.defineProperty(ce,"LRUCache",{enumerable:!0,get:function(){return hh.LRUCache}});Object.defineProperty(ce,"Touch",{enumerable:!0,get:function(){return hh.Touch}});var eU=Jw();Object.defineProperty(ce,"Disposable",{enumerable:!0,get:function(){return eU.Disposable}});var hC=Xs();Object.defineProperty(ce,"Event",{enumerable:!0,get:function(){return hC.Event}});Object.defineProperty(ce,"Emitter",{enumerable:!0,get:function(){return hC.Emitter}});var gC=El();Object.defineProperty(ce,"CancellationTokenSource",{enumerable:!0,get:function(){return gC.CancellationTokenSource}});Object.defineProperty(ce,"CancellationToken",{enumerable:!0,get:function(){return gC.CancellationToken}});var vC=tC();Object.defineProperty(ce,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return vC.SharedArraySenderStrategy}});Object.defineProperty(ce,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return vC.SharedArrayReceiverStrategy}});var gh=nC();Object.defineProperty(ce,"MessageReader",{enumerable:!0,get:function(){return gh.MessageReader}});Object.defineProperty(ce,"AbstractMessageReader",{enumerable:!0,get:function(){return gh.AbstractMessageReader}});Object.defineProperty(ce,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return gh.ReadableStreamMessageReader}});var vh=cC();Object.defineProperty(ce,"MessageWriter",{enumerable:!0,get:function(){return vh.MessageWriter}});Object.defineProperty(ce,"AbstractMessageWriter",{enumerable:!0,get:function(){return vh.AbstractMessageWriter}});Object.defineProperty(ce,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return vh.WriteableStreamMessageWriter}});var tU=uC();Object.defineProperty(ce,"AbstractMessageBuffer",{enumerable:!0,get:function(){return tU.AbstractMessageBuffer}});var Qr=mC();Object.defineProperty(ce,"ConnectionStrategy",{enumerable:!0,get:function(){return Qr.ConnectionStrategy}});Object.defineProperty(ce,"ConnectionOptions",{enumerable:!0,get:function(){return Qr.ConnectionOptions}});Object.defineProperty(ce,"NullLogger",{enumerable:!0,get:function(){return Qr.NullLogger}});Object.defineProperty(ce,"createMessageConnection",{enumerable:!0,get:function(){return Qr.createMessageConnection}});Object.defineProperty(ce,"ProgressToken",{enumerable:!0,get:function(){return Qr.ProgressToken}});Object.defineProperty(ce,"ProgressType",{enumerable:!0,get:function(){return Qr.ProgressType}});Object.defineProperty(ce,"Trace",{enumerable:!0,get:function(){return Qr.Trace}});Object.defineProperty(ce,"TraceValues",{enumerable:!0,get:function(){return Qr.TraceValues}});Object.defineProperty(ce,"TraceFormat",{enumerable:!0,get:function(){return Qr.TraceFormat}});Object.defineProperty(ce,"SetTraceNotification",{enumerable:!0,get:function(){return Qr.SetTraceNotification}});Object.defineProperty(ce,"LogTraceNotification",{enumerable:!0,get:function(){return Qr.LogTraceNotification}});Object.defineProperty(ce,"ConnectionErrors",{enumerable:!0,get:function(){return Qr.ConnectionErrors}});Object.defineProperty(ce,"ConnectionError",{enumerable:!0,get:function(){return Qr.ConnectionError}});Object.defineProperty(ce,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qr.CancellationReceiverStrategy}});Object.defineProperty(ce,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qr.CancellationSenderStrategy}});Object.defineProperty(ce,"CancellationStrategy",{enumerable:!0,get:function(){return Qr.CancellationStrategy}});Object.defineProperty(ce,"MessageStrategy",{enumerable:!0,get:function(){return Qr.MessageStrategy}});var rU=go();ce.RAL=rU.default});var _C=$(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var yC=require("util"),zi=ql(),Ml=class t extends zi.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new yC.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};Ml.emptyBuffer=Buffer.allocUnsafe(0);var yh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),zi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),zi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),zi.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),zi.Disposable.create(()=>this.stream.off("data",e))}},bh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),zi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),zi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),zi.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,r,o):this.stream.write(e,o)})}end(){this.stream.end()}},bC=Object.freeze({messageBuffer:Object.freeze({create:t=>new Ml(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new yC.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new yh(t),asWritableStream:t=>new bh(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:()=>clearImmediate(r)}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:()=>clearInterval(n)}}})});function _h(){return bC}(function(t){function e(){zi.RAL.install(bC)}t.install=e})(_h||(_h={}));xh.default=_h});var Yo=$(Tt=>{"use strict";var nU=Tt&&Tt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iU=Tt&&Tt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nU(e,t,r)};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createMessageConnection=Tt.createServerSocketTransport=Tt.createClientSocketTransport=Tt.createServerPipeTransport=Tt.createClientPipeTransport=Tt.generateRandomPipeName=Tt.StreamMessageWriter=Tt.StreamMessageReader=Tt.SocketMessageWriter=Tt.SocketMessageReader=Tt.PortMessageWriter=Tt.PortMessageReader=Tt.IPCMessageWriter=Tt.IPCMessageReader=void 0;var ea=_C();ea.default.install();var xC=require("path"),oU=require("os"),sU=require("crypto"),Fl=require("net"),Fn=ql();iU(ql(),Tt);var wh=class extends Fn.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Fn.Disposable.create(()=>this.process.off("message",e))}};Tt.IPCMessageReader=wh;var Ch=class extends Fn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Tt.IPCMessageWriter=Ch;var Eh=class extends Fn.AbstractMessageReader{constructor(e){super(),this.onData=new Fn.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Tt.PortMessageReader=Eh;var Sh=class extends Fn.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Tt.PortMessageWriter=Sh;var Qo=class extends Fn.ReadableStreamMessageReader{constructor(e,r="utf-8"){super((0,ea.default)().stream.asReadableStream(e),r)}};Tt.SocketMessageReader=Qo;var Zo=class extends Fn.WriteableStreamMessageWriter{constructor(e,r){super((0,ea.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Tt.SocketMessageWriter=Zo;var Ll=class extends Fn.ReadableStreamMessageReader{constructor(e,r){super((0,ea.default)().stream.asReadableStream(e),r)}};Tt.StreamMessageReader=Ll;var jl=class extends Fn.WriteableStreamMessageWriter{constructor(e,r){super((0,ea.default)().stream.asWritableStream(e),r)}};Tt.StreamMessageWriter=jl;var wC=process.env.XDG_RUNTIME_DIR,aU=new Map([["linux",107],["darwin",103]]);function cU(){let t=(0,sU.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;wC?e=xC.join(wC,`vscode-ipc-${t}.sock`):e=xC.join(oU.tmpdir(),`vscode-${t}.sock`);let r=aU.get(process.platform);return r!==void 0&&e.length>r&&(0,ea.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}Tt.generateRandomPipeName=cU;function uU(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,Fl.createServer)(a=>{s.close(),r([new Qo(a,e),new Zo(a,e)])});s.on("error",o),s.listen(t,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Tt.createClientPipeTransport=uU;function lU(t,e="utf-8"){let r=(0,Fl.createConnection)(t);return[new Qo(r,e),new Zo(r,e)]}Tt.createServerPipeTransport=lU;function dU(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,Fl.createServer)(a=>{s.close(),r([new Qo(a,e),new Zo(a,e)])});s.on("error",o),s.listen(t,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Tt.createClientSocketTransport=dU;function pU(t,e="utf-8"){let r=(0,Fl.createConnection)(t,"127.0.0.1");return[new Qo(r,e),new Zo(r,e)]}Tt.createServerSocketTransport=pU;function fU(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function mU(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function hU(t,e,r,n){r||(r=Fn.NullLogger);let i=fU(t)?new Ll(t):t,o=mU(e)?new jl(e):e;return Fn.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Fn.createMessageConnection)(i,o,r,n)}Tt.createMessageConnection=hU});var Th=$((Q5,CC)=>{"use strict";CC.exports=Yo()});var $l=$((EC,Ul)=>{(function(t){if(typeof Ul=="object"&&typeof Ul.exports=="object"){var e=t(require,EC);e!==void 0&&(Ul.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(S){function L(F){return typeof F=="string"}S.is=L})(r||(e.DocumentUri=r={}));var n;(function(S){function L(F){return typeof F=="string"}S.is=L})(n||(e.URI=n={}));var i;(function(S){S.MIN_VALUE=-2147483648,S.MAX_VALUE=2147483647;function L(F){return typeof F=="number"&&S.MIN_VALUE<=F&&F<=S.MAX_VALUE}S.is=L})(i||(e.integer=i={}));var o;(function(S){S.MIN_VALUE=0,S.MAX_VALUE=2147483647;function L(F){return typeof F=="number"&&S.MIN_VALUE<=F&&F<=S.MAX_VALUE}S.is=L})(o||(e.uinteger=o={}));var s;(function(S){function L(I,E){return I===Number.MAX_VALUE&&(I=o.MAX_VALUE),E===Number.MAX_VALUE&&(E=o.MAX_VALUE),{line:I,character:E}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&W.uinteger(E.line)&&W.uinteger(E.character)}S.is=F})(s||(e.Position=s={}));var a;(function(S){function L(I,E,Z,se){if(W.uinteger(I)&&W.uinteger(E)&&W.uinteger(Z)&&W.uinteger(se))return{start:s.create(I,E),end:s.create(Z,se)};if(s.is(I)&&s.is(E))return{start:I,end:E};throw new Error("Range#create called with invalid arguments[".concat(I,", ").concat(E,", ").concat(Z,", ").concat(se,"]"))}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&s.is(E.start)&&s.is(E.end)}S.is=F})(a||(e.Range=a={}));var c;(function(S){function L(I,E){return{uri:I,range:E}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&a.is(E.range)&&(W.string(E.uri)||W.undefined(E.uri))}S.is=F})(c||(e.Location=c={}));var u;(function(S){function L(I,E,Z,se){return{targetUri:I,targetRange:E,targetSelectionRange:Z,originSelectionRange:se}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&a.is(E.targetRange)&&W.string(E.targetUri)&&a.is(E.targetSelectionRange)&&(a.is(E.originSelectionRange)||W.undefined(E.originSelectionRange))}S.is=F})(u||(e.LocationLink=u={}));var l;(function(S){function L(I,E,Z,se){return{red:I,green:E,blue:Z,alpha:se}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&W.numberRange(E.red,0,1)&&W.numberRange(E.green,0,1)&&W.numberRange(E.blue,0,1)&&W.numberRange(E.alpha,0,1)}S.is=F})(l||(e.Color=l={}));var d;(function(S){function L(I,E){return{range:I,color:E}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&a.is(E.range)&&l.is(E.color)}S.is=F})(d||(e.ColorInformation=d={}));var p;(function(S){function L(I,E,Z){return{label:I,textEdit:E,additionalTextEdits:Z}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&W.string(E.label)&&(W.undefined(E.textEdit)||P.is(E))&&(W.undefined(E.additionalTextEdits)||W.typedArray(E.additionalTextEdits,P.is))}S.is=F})(p||(e.ColorPresentation=p={}));var m;(function(S){S.Comment="comment",S.Imports="imports",S.Region="region"})(m||(e.FoldingRangeKind=m={}));var f;(function(S){function L(I,E,Z,se,Ve,Nt){var xt={startLine:I,endLine:E};return W.defined(Z)&&(xt.startCharacter=Z),W.defined(se)&&(xt.endCharacter=se),W.defined(Ve)&&(xt.kind=Ve),W.defined(Nt)&&(xt.collapsedText=Nt),xt}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&W.uinteger(E.startLine)&&W.uinteger(E.startLine)&&(W.undefined(E.startCharacter)||W.uinteger(E.startCharacter))&&(W.undefined(E.endCharacter)||W.uinteger(E.endCharacter))&&(W.undefined(E.kind)||W.string(E.kind))}S.is=F})(f||(e.FoldingRange=f={}));var g;(function(S){function L(I,E){return{location:I,message:E}}S.create=L;function F(I){var E=I;return W.defined(E)&&c.is(E.location)&&W.string(E.message)}S.is=F})(g||(e.DiagnosticRelatedInformation=g={}));var y;(function(S){S.Error=1,S.Warning=2,S.Information=3,S.Hint=4})(y||(e.DiagnosticSeverity=y={}));var b;(function(S){S.Unnecessary=1,S.Deprecated=2})(b||(e.DiagnosticTag=b={}));var x;(function(S){function L(F){var I=F;return W.objectLiteral(I)&&W.string(I.href)}S.is=L})(x||(e.CodeDescription=x={}));var w;(function(S){function L(I,E,Z,se,Ve,Nt){var xt={range:I,message:E};return W.defined(Z)&&(xt.severity=Z),W.defined(se)&&(xt.code=se),W.defined(Ve)&&(xt.source=Ve),W.defined(Nt)&&(xt.relatedInformation=Nt),xt}S.create=L;function F(I){var E,Z=I;return W.defined(Z)&&a.is(Z.range)&&W.string(Z.message)&&(W.number(Z.severity)||W.undefined(Z.severity))&&(W.integer(Z.code)||W.string(Z.code)||W.undefined(Z.code))&&(W.undefined(Z.codeDescription)||W.string((E=Z.codeDescription)===null||E===void 0?void 0:E.href))&&(W.string(Z.source)||W.undefined(Z.source))&&(W.undefined(Z.relatedInformation)||W.typedArray(Z.relatedInformation,g.is))}S.is=F})(w||(e.Diagnostic=w={}));var C;(function(S){function L(I,E){for(var Z=[],se=2;se<arguments.length;se++)Z[se-2]=arguments[se];var Ve={title:I,command:E};return W.defined(Z)&&Z.length>0&&(Ve.arguments=Z),Ve}S.create=L;function F(I){var E=I;return W.defined(E)&&W.string(E.title)&&W.string(E.command)}S.is=F})(C||(e.Command=C={}));var P;(function(S){function L(Z,se){return{range:Z,newText:se}}S.replace=L;function F(Z,se){return{range:{start:Z,end:Z},newText:se}}S.insert=F;function I(Z){return{range:Z,newText:""}}S.del=I;function E(Z){var se=Z;return W.objectLiteral(se)&&W.string(se.newText)&&a.is(se.range)}S.is=E})(P||(e.TextEdit=P={}));var k;(function(S){function L(I,E,Z){var se={label:I};return E!==void 0&&(se.needsConfirmation=E),Z!==void 0&&(se.description=Z),se}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&W.string(E.label)&&(W.boolean(E.needsConfirmation)||E.needsConfirmation===void 0)&&(W.string(E.description)||E.description===void 0)}S.is=F})(k||(e.ChangeAnnotation=k={}));var q;(function(S){function L(F){var I=F;return W.string(I)}S.is=L})(q||(e.ChangeAnnotationIdentifier=q={}));var j;(function(S){function L(Z,se,Ve){return{range:Z,newText:se,annotationId:Ve}}S.replace=L;function F(Z,se,Ve){return{range:{start:Z,end:Z},newText:se,annotationId:Ve}}S.insert=F;function I(Z,se){return{range:Z,newText:"",annotationId:se}}S.del=I;function E(Z){var se=Z;return P.is(se)&&(k.is(se.annotationId)||q.is(se.annotationId))}S.is=E})(j||(e.AnnotatedTextEdit=j={}));var Q;(function(S){function L(I,E){return{textDocument:I,edits:E}}S.create=L;function F(I){var E=I;return W.defined(E)&&te.is(E.textDocument)&&Array.isArray(E.edits)}S.is=F})(Q||(e.TextDocumentEdit=Q={}));var ne;(function(S){function L(I,E,Z){var se={kind:"create",uri:I};return E!==void 0&&(E.overwrite!==void 0||E.ignoreIfExists!==void 0)&&(se.options=E),Z!==void 0&&(se.annotationId=Z),se}S.create=L;function F(I){var E=I;return E&&E.kind==="create"&&W.string(E.uri)&&(E.options===void 0||(E.options.overwrite===void 0||W.boolean(E.options.overwrite))&&(E.options.ignoreIfExists===void 0||W.boolean(E.options.ignoreIfExists)))&&(E.annotationId===void 0||q.is(E.annotationId))}S.is=F})(ne||(e.CreateFile=ne={}));var X;(function(S){function L(I,E,Z,se){var Ve={kind:"rename",oldUri:I,newUri:E};return Z!==void 0&&(Z.overwrite!==void 0||Z.ignoreIfExists!==void 0)&&(Ve.options=Z),se!==void 0&&(Ve.annotationId=se),Ve}S.create=L;function F(I){var E=I;return E&&E.kind==="rename"&&W.string(E.oldUri)&&W.string(E.newUri)&&(E.options===void 0||(E.options.overwrite===void 0||W.boolean(E.options.overwrite))&&(E.options.ignoreIfExists===void 0||W.boolean(E.options.ignoreIfExists)))&&(E.annotationId===void 0||q.is(E.annotationId))}S.is=F})(X||(e.RenameFile=X={}));var H;(function(S){function L(I,E,Z){var se={kind:"delete",uri:I};return E!==void 0&&(E.recursive!==void 0||E.ignoreIfNotExists!==void 0)&&(se.options=E),Z!==void 0&&(se.annotationId=Z),se}S.create=L;function F(I){var E=I;return E&&E.kind==="delete"&&W.string(E.uri)&&(E.options===void 0||(E.options.recursive===void 0||W.boolean(E.options.recursive))&&(E.options.ignoreIfNotExists===void 0||W.boolean(E.options.ignoreIfNotExists)))&&(E.annotationId===void 0||q.is(E.annotationId))}S.is=F})(H||(e.DeleteFile=H={}));var ae;(function(S){function L(F){var I=F;return I&&(I.changes!==void 0||I.documentChanges!==void 0)&&(I.documentChanges===void 0||I.documentChanges.every(function(E){return W.string(E.kind)?ne.is(E)||X.is(E)||H.is(E):Q.is(E)}))}S.is=L})(ae||(e.WorkspaceEdit=ae={}));var ee=function(){function S(L,F){this.edits=L,this.changeAnnotations=F}return S.prototype.insert=function(L,F,I){var E,Z;if(I===void 0?E=P.insert(L,F):q.is(I)?(Z=I,E=j.insert(L,F,I)):(this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(I),E=j.insert(L,F,Z)),this.edits.push(E),Z!==void 0)return Z},S.prototype.replace=function(L,F,I){var E,Z;if(I===void 0?E=P.replace(L,F):q.is(I)?(Z=I,E=j.replace(L,F,I)):(this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(I),E=j.replace(L,F,Z)),this.edits.push(E),Z!==void 0)return Z},S.prototype.delete=function(L,F){var I,E;if(F===void 0?I=P.del(L):q.is(F)?(E=F,I=j.del(L,F)):(this.assertChangeAnnotations(this.changeAnnotations),E=this.changeAnnotations.manage(F),I=j.del(L,E)),this.edits.push(I),E!==void 0)return E},S.prototype.add=function(L){this.edits.push(L)},S.prototype.all=function(){return this.edits},S.prototype.clear=function(){this.edits.splice(0,this.edits.length)},S.prototype.assertChangeAnnotations=function(L){if(L===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},S}(),xe=function(){function S(L){this._annotations=L===void 0?Object.create(null):L,this._counter=0,this._size=0}return S.prototype.all=function(){return this._annotations},Object.defineProperty(S.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),S.prototype.manage=function(L,F){var I;if(q.is(L)?I=L:(I=this.nextId(),F=L),this._annotations[I]!==void 0)throw new Error("Id ".concat(I," is already in use."));if(F===void 0)throw new Error("No annotation provided for id ".concat(I));return this._annotations[I]=F,this._size++,I},S.prototype.nextId=function(){return this._counter++,this._counter.toString()},S}(),de=function(){function S(L){var F=this;this._textEditChanges=Object.create(null),L!==void 0?(this._workspaceEdit=L,L.documentChanges?(this._changeAnnotations=new xe(L.changeAnnotations),L.changeAnnotations=this._changeAnnotations.all(),L.documentChanges.forEach(function(I){if(Q.is(I)){var E=new ee(I.edits,F._changeAnnotations);F._textEditChanges[I.textDocument.uri]=E}})):L.changes&&Object.keys(L.changes).forEach(function(I){var E=new ee(L.changes[I]);F._textEditChanges[I]=E})):this._workspaceEdit={}}return Object.defineProperty(S.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),S.prototype.getTextEditChange=function(L){if(te.is(L)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F={uri:L.uri,version:L.version},I=this._textEditChanges[F.uri];if(!I){var E=[],Z={textDocument:F,edits:E};this._workspaceEdit.documentChanges.push(Z),I=new ee(E,this._changeAnnotations),this._textEditChanges[F.uri]=I}return I}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var I=this._textEditChanges[L];if(!I){var E=[];this._workspaceEdit.changes[L]=E,I=new ee(E),this._textEditChanges[L]=I}return I}},S.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new xe,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},S.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},S.prototype.createFile=function(L,F,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E;k.is(F)||q.is(F)?E=F:I=F;var Z,se;if(E===void 0?Z=ne.create(L,I):(se=q.is(E)?E:this._changeAnnotations.manage(E),Z=ne.create(L,I,se)),this._workspaceEdit.documentChanges.push(Z),se!==void 0)return se},S.prototype.renameFile=function(L,F,I,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Z;k.is(I)||q.is(I)?Z=I:E=I;var se,Ve;if(Z===void 0?se=X.create(L,F,E):(Ve=q.is(Z)?Z:this._changeAnnotations.manage(Z),se=X.create(L,F,E,Ve)),this._workspaceEdit.documentChanges.push(se),Ve!==void 0)return Ve},S.prototype.deleteFile=function(L,F,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E;k.is(F)||q.is(F)?E=F:I=F;var Z,se;if(E===void 0?Z=H.create(L,I):(se=q.is(E)?E:this._changeAnnotations.manage(E),Z=H.create(L,I,se)),this._workspaceEdit.documentChanges.push(Z),se!==void 0)return se},S}();e.WorkspaceChange=de;var z;(function(S){function L(I){return{uri:I}}S.create=L;function F(I){var E=I;return W.defined(E)&&W.string(E.uri)}S.is=F})(z||(e.TextDocumentIdentifier=z={}));var Y;(function(S){function L(I,E){return{uri:I,version:E}}S.create=L;function F(I){var E=I;return W.defined(E)&&W.string(E.uri)&&W.integer(E.version)}S.is=F})(Y||(e.VersionedTextDocumentIdentifier=Y={}));var te;(function(S){function L(I,E){return{uri:I,version:E}}S.create=L;function F(I){var E=I;return W.defined(E)&&W.string(E.uri)&&(E.version===null||W.integer(E.version))}S.is=F})(te||(e.OptionalVersionedTextDocumentIdentifier=te={}));var pe;(function(S){function L(I,E,Z,se){return{uri:I,languageId:E,version:Z,text:se}}S.create=L;function F(I){var E=I;return W.defined(E)&&W.string(E.uri)&&W.string(E.languageId)&&W.integer(E.version)&&W.string(E.text)}S.is=F})(pe||(e.TextDocumentItem=pe={}));var ge;(function(S){S.PlainText="plaintext",S.Markdown="markdown";function L(F){var I=F;return I===S.PlainText||I===S.Markdown}S.is=L})(ge||(e.MarkupKind=ge={}));var De;(function(S){function L(F){var I=F;return W.objectLiteral(F)&&ge.is(I.kind)&&W.string(I.value)}S.is=L})(De||(e.MarkupContent=De={}));var Re;(function(S){S.Text=1,S.Method=2,S.Function=3,S.Constructor=4,S.Field=5,S.Variable=6,S.Class=7,S.Interface=8,S.Module=9,S.Property=10,S.Unit=11,S.Value=12,S.Enum=13,S.Keyword=14,S.Snippet=15,S.Color=16,S.File=17,S.Reference=18,S.Folder=19,S.EnumMember=20,S.Constant=21,S.Struct=22,S.Event=23,S.Operator=24,S.TypeParameter=25})(Re||(e.CompletionItemKind=Re={}));var ze;(function(S){S.PlainText=1,S.Snippet=2})(ze||(e.InsertTextFormat=ze={}));var We;(function(S){S.Deprecated=1})(We||(e.CompletionItemTag=We={}));var mt;(function(S){function L(I,E,Z){return{newText:I,insert:E,replace:Z}}S.create=L;function F(I){var E=I;return E&&W.string(E.newText)&&a.is(E.insert)&&a.is(E.replace)}S.is=F})(mt||(e.InsertReplaceEdit=mt={}));var ot;(function(S){S.asIs=1,S.adjustIndentation=2})(ot||(e.InsertTextMode=ot={}));var ke;(function(S){function L(F){var I=F;return I&&(W.string(I.detail)||I.detail===void 0)&&(W.string(I.description)||I.description===void 0)}S.is=L})(ke||(e.CompletionItemLabelDetails=ke={}));var Ot;(function(S){function L(F){return{label:F}}S.create=L})(Ot||(e.CompletionItem=Ot={}));var Mt;(function(S){function L(F,I){return{items:F||[],isIncomplete:!!I}}S.create=L})(Mt||(e.CompletionList=Mt={}));var qe;(function(S){function L(I){return I.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}S.fromPlainText=L;function F(I){var E=I;return W.string(E)||W.objectLiteral(E)&&W.string(E.language)&&W.string(E.value)}S.is=F})(qe||(e.MarkedString=qe={}));var we;(function(S){function L(F){var I=F;return!!I&&W.objectLiteral(I)&&(De.is(I.contents)||qe.is(I.contents)||W.typedArray(I.contents,qe.is))&&(F.range===void 0||a.is(F.range))}S.is=L})(we||(e.Hover=we={}));var $e;(function(S){function L(F,I){return I?{label:F,documentation:I}:{label:F}}S.create=L})($e||(e.ParameterInformation=$e={}));var tt;(function(S){function L(F,I){for(var E=[],Z=2;Z<arguments.length;Z++)E[Z-2]=arguments[Z];var se={label:F};return W.defined(I)&&(se.documentation=I),W.defined(E)?se.parameters=E:se.parameters=[],se}S.create=L})(tt||(e.SignatureInformation=tt={}));var Ir;(function(S){S.Text=1,S.Read=2,S.Write=3})(Ir||(e.DocumentHighlightKind=Ir={}));var en;(function(S){function L(F,I){var E={range:F};return W.number(I)&&(E.kind=I),E}S.create=L})(en||(e.DocumentHighlight=en={}));var ue;(function(S){S.File=1,S.Module=2,S.Namespace=3,S.Package=4,S.Class=5,S.Method=6,S.Property=7,S.Field=8,S.Constructor=9,S.Enum=10,S.Interface=11,S.Function=12,S.Variable=13,S.Constant=14,S.String=15,S.Number=16,S.Boolean=17,S.Array=18,S.Object=19,S.Key=20,S.Null=21,S.EnumMember=22,S.Struct=23,S.Event=24,S.Operator=25,S.TypeParameter=26})(ue||(e.SymbolKind=ue={}));var Fr;(function(S){S.Deprecated=1})(Fr||(e.SymbolTag=Fr={}));var Vt;(function(S){function L(F,I,E,Z,se){var Ve={name:F,kind:I,location:{uri:Z,range:E}};return se&&(Ve.containerName=se),Ve}S.create=L})(Vt||(e.SymbolInformation=Vt={}));var $t;(function(S){function L(F,I,E,Z){return Z!==void 0?{name:F,kind:I,location:{uri:E,range:Z}}:{name:F,kind:I,location:{uri:E}}}S.create=L})($t||(e.WorkspaceSymbol=$t={}));var ht;(function(S){function L(I,E,Z,se,Ve,Nt){var xt={name:I,detail:E,kind:Z,range:se,selectionRange:Ve};return Nt!==void 0&&(xt.children=Nt),xt}S.create=L;function F(I){var E=I;return E&&W.string(E.name)&&W.number(E.kind)&&a.is(E.range)&&a.is(E.selectionRange)&&(E.detail===void 0||W.string(E.detail))&&(E.deprecated===void 0||W.boolean(E.deprecated))&&(E.children===void 0||Array.isArray(E.children))&&(E.tags===void 0||Array.isArray(E.tags))}S.is=F})(ht||(e.DocumentSymbol=ht={}));var ir;(function(S){S.Empty="",S.QuickFix="quickfix",S.Refactor="refactor",S.RefactorExtract="refactor.extract",S.RefactorInline="refactor.inline",S.RefactorRewrite="refactor.rewrite",S.Source="source",S.SourceOrganizeImports="source.organizeImports",S.SourceFixAll="source.fixAll"})(ir||(e.CodeActionKind=ir={}));var Ht;(function(S){S.Invoked=1,S.Automatic=2})(Ht||(e.CodeActionTriggerKind=Ht={}));var qr;(function(S){function L(I,E,Z){var se={diagnostics:I};return E!=null&&(se.only=E),Z!=null&&(se.triggerKind=Z),se}S.create=L;function F(I){var E=I;return W.defined(E)&&W.typedArray(E.diagnostics,w.is)&&(E.only===void 0||W.typedArray(E.only,W.string))&&(E.triggerKind===void 0||E.triggerKind===Ht.Invoked||E.triggerKind===Ht.Automatic)}S.is=F})(qr||(e.CodeActionContext=qr={}));var Ur;(function(S){function L(I,E,Z){var se={title:I},Ve=!0;return typeof E=="string"?(Ve=!1,se.kind=E):C.is(E)?se.command=E:se.edit=E,Ve&&Z!==void 0&&(se.kind=Z),se}S.create=L;function F(I){var E=I;return E&&W.string(E.title)&&(E.diagnostics===void 0||W.typedArray(E.diagnostics,w.is))&&(E.kind===void 0||W.string(E.kind))&&(E.edit!==void 0||E.command!==void 0)&&(E.command===void 0||C.is(E.command))&&(E.isPreferred===void 0||W.boolean(E.isPreferred))&&(E.edit===void 0||ae.is(E.edit))}S.is=F})(Ur||(e.CodeAction=Ur={}));var lt;(function(S){function L(I,E){var Z={range:I};return W.defined(E)&&(Z.data=E),Z}S.create=L;function F(I){var E=I;return W.defined(E)&&a.is(E.range)&&(W.undefined(E.command)||C.is(E.command))}S.is=F})(lt||(e.CodeLens=lt={}));var Kr;(function(S){function L(I,E){return{tabSize:I,insertSpaces:E}}S.create=L;function F(I){var E=I;return W.defined(E)&&W.uinteger(E.tabSize)&&W.boolean(E.insertSpaces)}S.is=F})(Kr||(e.FormattingOptions=Kr={}));var Yt;(function(S){function L(I,E,Z){return{range:I,target:E,data:Z}}S.create=L;function F(I){var E=I;return W.defined(E)&&a.is(E.range)&&(W.undefined(E.target)||W.string(E.target))}S.is=F})(Yt||(e.DocumentLink=Yt={}));var M;(function(S){function L(I,E){return{range:I,parent:E}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&a.is(E.range)&&(E.parent===void 0||S.is(E.parent))}S.is=F})(M||(e.SelectionRange=M={}));var oe;(function(S){S.namespace="namespace",S.type="type",S.class="class",S.enum="enum",S.interface="interface",S.struct="struct",S.typeParameter="typeParameter",S.parameter="parameter",S.variable="variable",S.property="property",S.enumMember="enumMember",S.event="event",S.function="function",S.method="method",S.macro="macro",S.keyword="keyword",S.modifier="modifier",S.comment="comment",S.string="string",S.number="number",S.regexp="regexp",S.operator="operator",S.decorator="decorator"})(oe||(e.SemanticTokenTypes=oe={}));var fe;(function(S){S.declaration="declaration",S.definition="definition",S.readonly="readonly",S.static="static",S.deprecated="deprecated",S.abstract="abstract",S.async="async",S.modification="modification",S.documentation="documentation",S.defaultLibrary="defaultLibrary"})(fe||(e.SemanticTokenModifiers=fe={}));var ye;(function(S){function L(F){var I=F;return W.objectLiteral(I)&&(I.resultId===void 0||typeof I.resultId=="string")&&Array.isArray(I.data)&&(I.data.length===0||typeof I.data[0]=="number")}S.is=L})(ye||(e.SemanticTokens=ye={}));var Qe;(function(S){function L(I,E){return{range:I,text:E}}S.create=L;function F(I){var E=I;return E!=null&&a.is(E.range)&&W.string(E.text)}S.is=F})(Qe||(e.InlineValueText=Qe={}));var rt;(function(S){function L(I,E,Z){return{range:I,variableName:E,caseSensitiveLookup:Z}}S.create=L;function F(I){var E=I;return E!=null&&a.is(E.range)&&W.boolean(E.caseSensitiveLookup)&&(W.string(E.variableName)||E.variableName===void 0)}S.is=F})(rt||(e.InlineValueVariableLookup=rt={}));var st;(function(S){function L(I,E){return{range:I,expression:E}}S.create=L;function F(I){var E=I;return E!=null&&a.is(E.range)&&(W.string(E.expression)||E.expression===void 0)}S.is=F})(st||(e.InlineValueEvaluatableExpression=st={}));var Ze;(function(S){function L(I,E){return{frameId:I,stoppedLocation:E}}S.create=L;function F(I){var E=I;return W.defined(E)&&a.is(I.stoppedLocation)}S.is=F})(Ze||(e.InlineValueContext=Ze={}));var Me;(function(S){S.Type=1,S.Parameter=2;function L(F){return F===1||F===2}S.is=L})(Me||(e.InlayHintKind=Me={}));var Pe;(function(S){function L(I){return{value:I}}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&(E.tooltip===void 0||W.string(E.tooltip)||De.is(E.tooltip))&&(E.location===void 0||c.is(E.location))&&(E.command===void 0||C.is(E.command))}S.is=F})(Pe||(e.InlayHintLabelPart=Pe={}));var He;(function(S){function L(I,E,Z){var se={position:I,label:E};return Z!==void 0&&(se.kind=Z),se}S.create=L;function F(I){var E=I;return W.objectLiteral(E)&&s.is(E.position)&&(W.string(E.label)||W.typedArray(E.label,Pe.is))&&(E.kind===void 0||Me.is(E.kind))&&E.textEdits===void 0||W.typedArray(E.textEdits,P.is)&&(E.tooltip===void 0||W.string(E.tooltip)||De.is(E.tooltip))&&(E.paddingLeft===void 0||W.boolean(E.paddingLeft))&&(E.paddingRight===void 0||W.boolean(E.paddingRight))}S.is=F})(He||(e.InlayHint=He={}));var me;(function(S){function L(F){return{kind:"snippet",value:F}}S.createSnippet=L})(me||(e.StringValue=me={}));var Lt;(function(S){function L(F,I,E,Z){return{insertText:F,filterText:I,range:E,command:Z}}S.create=L})(Lt||(e.InlineCompletionItem=Lt={}));var Bt;(function(S){function L(F){return{items:F}}S.create=L})(Bt||(e.InlineCompletionList=Bt={}));var Ue;(function(S){S.Invoked=0,S.Automatic=1})(Ue||(e.InlineCompletionTriggerKind=Ue={}));var yr;(function(S){function L(F,I){return{range:F,text:I}}S.create=L})(yr||(e.SelectedCompletionInfo=yr={}));var T;(function(S){function L(F,I){return{triggerKind:F,selectedCompletionInfo:I}}S.create=L})(T||(e.InlineCompletionContext=T={}));var J;(function(S){function L(F){var I=F;return W.objectLiteral(I)&&n.is(I.uri)&&W.string(I.name)}S.is=L})(J||(e.WorkspaceFolder=J={})),e.EOL=[`
`,`\r
`,"\r"];var Ee;(function(S){function L(Z,se,Ve,Nt){return new bt(Z,se,Ve,Nt)}S.create=L;function F(Z){var se=Z;return!!(W.defined(se)&&W.string(se.uri)&&(W.undefined(se.languageId)||W.string(se.languageId))&&W.uinteger(se.lineCount)&&W.func(se.getText)&&W.func(se.positionAt)&&W.func(se.offsetAt))}S.is=F;function I(Z,se){for(var Ve=Z.getText(),Nt=E(se,function(v,h){var _=v.range.start.line-h.range.start.line;return _===0?v.range.start.character-h.range.start.character:_}),xt=Ve.length,Gt=Nt.length-1;Gt>=0;Gt--){var Tr=Nt[Gt],or=Z.offsetAt(Tr.range.start),nt=Z.offsetAt(Tr.range.end);if(nt<=xt)Ve=Ve.substring(0,or)+Tr.newText+Ve.substring(nt,Ve.length);else throw new Error("Overlapping edit");xt=or}return Ve}S.applyEdits=I;function E(Z,se){if(Z.length<=1)return Z;var Ve=Z.length/2|0,Nt=Z.slice(0,Ve),xt=Z.slice(Ve);E(Nt,se),E(xt,se);for(var Gt=0,Tr=0,or=0;Gt<Nt.length&&Tr<xt.length;){var nt=se(Nt[Gt],xt[Tr]);nt<=0?Z[or++]=Nt[Gt++]:Z[or++]=xt[Tr++]}for(;Gt<Nt.length;)Z[or++]=Nt[Gt++];for(;Tr<xt.length;)Z[or++]=xt[Tr++];return Z}})(Ee||(e.TextDocument=Ee={}));var bt=function(){function S(L,F,I,E){this._uri=L,this._languageId=F,this._version=I,this._content=E,this._lineOffsets=void 0}return Object.defineProperty(S.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),S.prototype.getText=function(L){if(L){var F=this.offsetAt(L.start),I=this.offsetAt(L.end);return this._content.substring(F,I)}return this._content},S.prototype.update=function(L,F){this._content=L.text,this._version=F,this._lineOffsets=void 0},S.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var L=[],F=this._content,I=!0,E=0;E<F.length;E++){I&&(L.push(E),I=!1);var Z=F.charAt(E);I=Z==="\r"||Z===`
`,Z==="\r"&&E+1<F.length&&F.charAt(E+1)===`
`&&E++}I&&F.length>0&&L.push(F.length),this._lineOffsets=L}return this._lineOffsets},S.prototype.positionAt=function(L){L=Math.max(Math.min(L,this._content.length),0);var F=this.getLineOffsets(),I=0,E=F.length;if(E===0)return s.create(0,L);for(;I<E;){var Z=Math.floor((I+E)/2);F[Z]>L?E=Z:I=Z+1}var se=I-1;return s.create(se,L-F[se])},S.prototype.offsetAt=function(L){var F=this.getLineOffsets();if(L.line>=F.length)return this._content.length;if(L.line<0)return 0;var I=F[L.line],E=L.line+1<F.length?F[L.line+1]:this._content.length;return Math.max(Math.min(I+L.character,E),I)},Object.defineProperty(S.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),S}(),W;(function(S){var L=Object.prototype.toString;function F(nt){return typeof nt<"u"}S.defined=F;function I(nt){return typeof nt>"u"}S.undefined=I;function E(nt){return nt===!0||nt===!1}S.boolean=E;function Z(nt){return L.call(nt)==="[object String]"}S.string=Z;function se(nt){return L.call(nt)==="[object Number]"}S.number=se;function Ve(nt,v,h){return L.call(nt)==="[object Number]"&&v<=nt&&nt<=h}S.numberRange=Ve;function Nt(nt){return L.call(nt)==="[object Number]"&&-2147483648<=nt&&nt<=2147483647}S.integer=Nt;function xt(nt){return L.call(nt)==="[object Number]"&&0<=nt&&nt<=2147483647}S.uinteger=xt;function Gt(nt){return L.call(nt)==="[object Function]"}S.func=Gt;function Tr(nt){return nt!==null&&typeof nt=="object"}S.objectLiteral=Tr;function or(nt,v){return Array.isArray(nt)&&nt.every(v)}S.typedArray=or})(W||(W={}))})});var ur=$(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ProtocolNotificationType=Tn.ProtocolNotificationType0=Tn.ProtocolRequestType=Tn.ProtocolRequestType0=Tn.RegistrationType=Tn.MessageDirection=void 0;var ta=Yo(),SC;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(SC||(Tn.MessageDirection=SC={}));var Rh=class{constructor(e){this.method=e}};Tn.RegistrationType=Rh;var Ph=class extends ta.RequestType0{constructor(e){super(e)}};Tn.ProtocolRequestType0=Ph;var Dh=class extends ta.RequestType{constructor(e){super(e,ta.ParameterStructures.byName)}};Tn.ProtocolRequestType=Dh;var Ih=class extends ta.NotificationType0{constructor(e){super(e)}};Tn.ProtocolNotificationType0=Ih;var Oh=class extends ta.NotificationType{constructor(e){super(e,ta.ParameterStructures.byName)}};Tn.ProtocolNotificationType=Oh});var Hl=$(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.objectLiteral=Ar.typedArray=Ar.stringArray=Ar.array=Ar.func=Ar.error=Ar.number=Ar.string=Ar.boolean=void 0;function gU(t){return t===!0||t===!1}Ar.boolean=gU;function TC(t){return typeof t=="string"||t instanceof String}Ar.string=TC;function vU(t){return typeof t=="number"||t instanceof Number}Ar.number=vU;function yU(t){return t instanceof Error}Ar.error=yU;function bU(t){return typeof t=="function"}Ar.func=bU;function RC(t){return Array.isArray(t)}Ar.array=RC;function _U(t){return RC(t)&&t.every(e=>TC(e))}Ar.stringArray=_U;function xU(t,e){return Array.isArray(t)&&t.every(e)}Ar.typedArray=xU;function wU(t){return t!==null&&typeof t=="object"}Ar.objectLiteral=wU});var IC=$(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.ImplementationRequest=void 0;var PC=ur(),DC;(function(t){t.method="textDocument/implementation",t.messageDirection=PC.MessageDirection.clientToServer,t.type=new PC.ProtocolRequestType(t.method)})(DC||(Bl.ImplementationRequest=DC={}))});var kC=$(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.TypeDefinitionRequest=void 0;var OC=ur(),AC;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=OC.MessageDirection.clientToServer,t.type=new OC.ProtocolRequestType(t.method)})(AC||(zl.TypeDefinitionRequest=AC={}))});var MC=$(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.DidChangeWorkspaceFoldersNotification=ra.WorkspaceFoldersRequest=void 0;var Vl=ur(),NC;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Vl.MessageDirection.serverToClient,t.type=new Vl.ProtocolRequestType0(t.method)})(NC||(ra.WorkspaceFoldersRequest=NC={}));var qC;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Vl.MessageDirection.clientToServer,t.type=new Vl.ProtocolNotificationType(t.method)})(qC||(ra.DidChangeWorkspaceFoldersNotification=qC={}))});var FC=$(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.ConfigurationRequest=void 0;var LC=ur(),jC;(function(t){t.method="workspace/configuration",t.messageDirection=LC.MessageDirection.serverToClient,t.type=new LC.ProtocolRequestType(t.method)})(jC||(Wl.ConfigurationRequest=jC={}))});var HC=$(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.ColorPresentationRequest=na.DocumentColorRequest=void 0;var Gl=ur(),UC;(function(t){t.method="textDocument/documentColor",t.messageDirection=Gl.MessageDirection.clientToServer,t.type=new Gl.ProtocolRequestType(t.method)})(UC||(na.DocumentColorRequest=UC={}));var $C;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Gl.MessageDirection.clientToServer,t.type=new Gl.ProtocolRequestType(t.method)})($C||(na.ColorPresentationRequest=$C={}))});var VC=$(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.FoldingRangeRefreshRequest=ia.FoldingRangeRequest=void 0;var Kl=ur(),BC;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Kl.MessageDirection.clientToServer,t.type=new Kl.ProtocolRequestType(t.method)})(BC||(ia.FoldingRangeRequest=BC={}));var zC;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Kl.MessageDirection.serverToClient,t.type=new Kl.ProtocolRequestType0(t.method)})(zC||(ia.FoldingRangeRefreshRequest=zC={}))});var KC=$(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.DeclarationRequest=void 0;var WC=ur(),GC;(function(t){t.method="textDocument/declaration",t.messageDirection=WC.MessageDirection.clientToServer,t.type=new WC.ProtocolRequestType(t.method)})(GC||(Xl.DeclarationRequest=GC={}))});var ZC=$(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.SelectionRangeRequest=void 0;var XC=ur(),QC;(function(t){t.method="textDocument/selectionRange",t.messageDirection=XC.MessageDirection.clientToServer,t.type=new XC.ProtocolRequestType(t.method)})(QC||(Ql.SelectionRangeRequest=QC={}))});var tE=$(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.WorkDoneProgressCancelNotification=bo.WorkDoneProgressCreateRequest=bo.WorkDoneProgress=void 0;var CU=Yo(),Zl=ur(),YC;(function(t){t.type=new CU.ProgressType;function e(r){return r===t.type}t.is=e})(YC||(bo.WorkDoneProgress=YC={}));var JC;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Zl.MessageDirection.serverToClient,t.type=new Zl.ProtocolRequestType(t.method)})(JC||(bo.WorkDoneProgressCreateRequest=JC={}));var eE;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Zl.MessageDirection.clientToServer,t.type=new Zl.ProtocolNotificationType(t.method)})(eE||(bo.WorkDoneProgressCancelNotification=eE={}))});var oE=$(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.CallHierarchyOutgoingCallsRequest=_o.CallHierarchyIncomingCallsRequest=_o.CallHierarchyPrepareRequest=void 0;var oa=ur(),rE;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolRequestType(t.method)})(rE||(_o.CallHierarchyPrepareRequest=rE={}));var nE;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolRequestType(t.method)})(nE||(_o.CallHierarchyIncomingCallsRequest=nE={}));var iE;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolRequestType(t.method)})(iE||(_o.CallHierarchyOutgoingCallsRequest=iE={}))});var dE=$(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.SemanticTokensRefreshRequest=Rn.SemanticTokensRangeRequest=Rn.SemanticTokensDeltaRequest=Rn.SemanticTokensRequest=Rn.SemanticTokensRegistrationType=Rn.TokenFormat=void 0;var Vi=ur(),sE;(function(t){t.Relative="relative"})(sE||(Rn.TokenFormat=sE={}));var Uc;(function(t){t.method="textDocument/semanticTokens",t.type=new Vi.RegistrationType(t.method)})(Uc||(Rn.SemanticTokensRegistrationType=Uc={}));var aE;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Vi.MessageDirection.clientToServer,t.type=new Vi.ProtocolRequestType(t.method),t.registrationMethod=Uc.method})(aE||(Rn.SemanticTokensRequest=aE={}));var cE;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Vi.MessageDirection.clientToServer,t.type=new Vi.ProtocolRequestType(t.method),t.registrationMethod=Uc.method})(cE||(Rn.SemanticTokensDeltaRequest=cE={}));var uE;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Vi.MessageDirection.clientToServer,t.type=new Vi.ProtocolRequestType(t.method),t.registrationMethod=Uc.method})(uE||(Rn.SemanticTokensRangeRequest=uE={}));var lE;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Vi.MessageDirection.serverToClient,t.type=new Vi.ProtocolRequestType0(t.method)})(lE||(Rn.SemanticTokensRefreshRequest=lE={}))});var mE=$(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ShowDocumentRequest=void 0;var pE=ur(),fE;(function(t){t.method="window/showDocument",t.messageDirection=pE.MessageDirection.serverToClient,t.type=new pE.ProtocolRequestType(t.method)})(fE||(Yl.ShowDocumentRequest=fE={}))});var vE=$(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.LinkedEditingRangeRequest=void 0;var hE=ur(),gE;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=hE.MessageDirection.clientToServer,t.type=new hE.ProtocolRequestType(t.method)})(gE||(Jl.LinkedEditingRangeRequest=gE={}))});var SE=$(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.WillDeleteFilesRequest=nn.DidDeleteFilesNotification=nn.DidRenameFilesNotification=nn.WillRenameFilesRequest=nn.DidCreateFilesNotification=nn.WillCreateFilesRequest=nn.FileOperationPatternKind=void 0;var Jn=ur(),yE;(function(t){t.file="file",t.folder="folder"})(yE||(nn.FileOperationPatternKind=yE={}));var bE;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolRequestType(t.method)})(bE||(nn.WillCreateFilesRequest=bE={}));var _E;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolNotificationType(t.method)})(_E||(nn.DidCreateFilesNotification=_E={}));var xE;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolRequestType(t.method)})(xE||(nn.WillRenameFilesRequest=xE={}));var wE;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolNotificationType(t.method)})(wE||(nn.DidRenameFilesNotification=wE={}));var CE;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolNotificationType(t.method)})(CE||(nn.DidDeleteFilesNotification=CE={}));var EE;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Jn.MessageDirection.clientToServer,t.type=new Jn.ProtocolRequestType(t.method)})(EE||(nn.WillDeleteFilesRequest=EE={}))});var IE=$(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.MonikerRequest=xo.MonikerKind=xo.UniquenessLevel=void 0;var TE=ur(),RE;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(RE||(xo.UniquenessLevel=RE={}));var PE;(function(t){t.$import="import",t.$export="export",t.local="local"})(PE||(xo.MonikerKind=PE={}));var DE;(function(t){t.method="textDocument/moniker",t.messageDirection=TE.MessageDirection.clientToServer,t.type=new TE.ProtocolRequestType(t.method)})(DE||(xo.MonikerRequest=DE={}))});var NE=$(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.TypeHierarchySubtypesRequest=wo.TypeHierarchySupertypesRequest=wo.TypeHierarchyPrepareRequest=void 0;var sa=ur(),OE;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=sa.MessageDirection.clientToServer,t.type=new sa.ProtocolRequestType(t.method)})(OE||(wo.TypeHierarchyPrepareRequest=OE={}));var AE;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=sa.MessageDirection.clientToServer,t.type=new sa.ProtocolRequestType(t.method)})(AE||(wo.TypeHierarchySupertypesRequest=AE={}));var kE;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=sa.MessageDirection.clientToServer,t.type=new sa.ProtocolRequestType(t.method)})(kE||(wo.TypeHierarchySubtypesRequest=kE={}))});var LE=$(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.InlineValueRefreshRequest=aa.InlineValueRequest=void 0;var ed=ur(),qE;(function(t){t.method="textDocument/inlineValue",t.messageDirection=ed.MessageDirection.clientToServer,t.type=new ed.ProtocolRequestType(t.method)})(qE||(aa.InlineValueRequest=qE={}));var ME;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=ed.MessageDirection.serverToClient,t.type=new ed.ProtocolRequestType0(t.method)})(ME||(aa.InlineValueRefreshRequest=ME={}))});var $E=$(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.InlayHintRefreshRequest=Co.InlayHintResolveRequest=Co.InlayHintRequest=void 0;var ca=ur(),jE;(function(t){t.method="textDocument/inlayHint",t.messageDirection=ca.MessageDirection.clientToServer,t.type=new ca.ProtocolRequestType(t.method)})(jE||(Co.InlayHintRequest=jE={}));var FE;(function(t){t.method="inlayHint/resolve",t.messageDirection=ca.MessageDirection.clientToServer,t.type=new ca.ProtocolRequestType(t.method)})(FE||(Co.InlayHintResolveRequest=FE={}));var UE;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=ca.MessageDirection.serverToClient,t.type=new ca.ProtocolRequestType0(t.method)})(UE||(Co.InlayHintRefreshRequest=UE={}))});var KE=$(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.DiagnosticRefreshRequest=ei.WorkspaceDiagnosticRequest=ei.DocumentDiagnosticRequest=ei.DocumentDiagnosticReportKind=ei.DiagnosticServerCancellationData=void 0;var GE=Yo(),EU=Hl(),ua=ur(),HE;(function(t){function e(r){let n=r;return n&&EU.boolean(n.retriggerRequest)}t.is=e})(HE||(ei.DiagnosticServerCancellationData=HE={}));var BE;(function(t){t.Full="full",t.Unchanged="unchanged"})(BE||(ei.DocumentDiagnosticReportKind=BE={}));var zE;(function(t){t.method="textDocument/diagnostic",t.messageDirection=ua.MessageDirection.clientToServer,t.type=new ua.ProtocolRequestType(t.method),t.partialResult=new GE.ProgressType})(zE||(ei.DocumentDiagnosticRequest=zE={}));var VE;(function(t){t.method="workspace/diagnostic",t.messageDirection=ua.MessageDirection.clientToServer,t.type=new ua.ProtocolRequestType(t.method),t.partialResult=new GE.ProgressType})(VE||(ei.WorkspaceDiagnosticRequest=VE={}));var WE;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=ua.MessageDirection.serverToClient,t.type=new ua.ProtocolRequestType0(t.method)})(WE||(ei.DiagnosticRefreshRequest=WE={}))});var tS=$(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.DidCloseNotebookDocumentNotification=_r.DidSaveNotebookDocumentNotification=_r.DidChangeNotebookDocumentNotification=_r.NotebookCellArrayChange=_r.DidOpenNotebookDocumentNotification=_r.NotebookDocumentSyncRegistrationType=_r.NotebookDocument=_r.NotebookCell=_r.ExecutionSummary=_r.NotebookCellKind=void 0;var $c=$l(),vi=Hl(),Oi=ur(),Ah;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}t.is=e})(Ah||(_r.NotebookCellKind=Ah={}));var kh;(function(t){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function r(i){let o=i;return vi.objectLiteral(o)&&$c.uinteger.is(o.executionOrder)&&(o.success===void 0||vi.boolean(o.success))}t.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=n})(kh||(_r.ExecutionSummary=kh={}));var td;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function r(o){let s=o;return vi.objectLiteral(s)&&Ah.is(s.kind)&&$c.DocumentUri.is(s.document)&&(s.metadata===void 0||vi.objectLiteral(s.metadata))}t.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!kh.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}t.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(vi.objectLiteral(o)&&vi.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let p=u[d];if(!i(o[p],s[p]))return!1}}return!0}})(td||(_r.NotebookCell=td={}));var XE;(function(t){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}t.create=e;function r(n){let i=n;return vi.objectLiteral(i)&&vi.string(i.uri)&&$c.integer.is(i.version)&&vi.typedArray(i.cells,td.is)}t.is=r})(XE||(_r.NotebookDocument=XE={}));var la;(function(t){t.method="notebookDocument/sync",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.RegistrationType(t.method)})(la||(_r.NotebookDocumentSyncRegistrationType=la={}));var QE;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolNotificationType(t.method),t.registrationMethod=la.method})(QE||(_r.DidOpenNotebookDocumentNotification=QE={}));var ZE;(function(t){function e(n){let i=n;return vi.objectLiteral(i)&&$c.uinteger.is(i.start)&&$c.uinteger.is(i.deleteCount)&&(i.cells===void 0||vi.typedArray(i.cells,td.is))}t.is=e;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=r})(ZE||(_r.NotebookCellArrayChange=ZE={}));var YE;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolNotificationType(t.method),t.registrationMethod=la.method})(YE||(_r.DidChangeNotebookDocumentNotification=YE={}));var JE;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolNotificationType(t.method),t.registrationMethod=la.method})(JE||(_r.DidSaveNotebookDocumentNotification=JE={}));var eS;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Oi.MessageDirection.clientToServer,t.type=new Oi.ProtocolNotificationType(t.method),t.registrationMethod=la.method})(eS||(_r.DidCloseNotebookDocumentNotification=eS={}))});var iS=$(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.InlineCompletionRequest=void 0;var rS=ur(),nS;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=rS.MessageDirection.clientToServer,t.type=new rS.ProtocolRequestType(t.method)})(nS||(rd.InlineCompletionRequest=nS={}))});var vT=$(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.WorkspaceSymbolRequest=N.CodeActionResolveRequest=N.CodeActionRequest=N.DocumentSymbolRequest=N.DocumentHighlightRequest=N.ReferencesRequest=N.DefinitionRequest=N.SignatureHelpRequest=N.SignatureHelpTriggerKind=N.HoverRequest=N.CompletionResolveRequest=N.CompletionRequest=N.CompletionTriggerKind=N.PublishDiagnosticsNotification=N.WatchKind=N.RelativePattern=N.FileChangeType=N.DidChangeWatchedFilesNotification=N.WillSaveTextDocumentWaitUntilRequest=N.WillSaveTextDocumentNotification=N.TextDocumentSaveReason=N.DidSaveTextDocumentNotification=N.DidCloseTextDocumentNotification=N.DidChangeTextDocumentNotification=N.TextDocumentContentChangeEvent=N.DidOpenTextDocumentNotification=N.TextDocumentSyncKind=N.TelemetryEventNotification=N.LogMessageNotification=N.ShowMessageRequest=N.ShowMessageNotification=N.MessageType=N.DidChangeConfigurationNotification=N.ExitNotification=N.ShutdownRequest=N.InitializedNotification=N.InitializeErrorCodes=N.InitializeRequest=N.WorkDoneProgressOptions=N.TextDocumentRegistrationOptions=N.StaticRegistrationOptions=N.PositionEncodingKind=N.FailureHandlingKind=N.ResourceOperationKind=N.UnregistrationRequest=N.RegistrationRequest=N.DocumentSelector=N.NotebookCellTextDocumentFilter=N.NotebookDocumentFilter=N.TextDocumentFilter=void 0;N.MonikerRequest=N.MonikerKind=N.UniquenessLevel=N.WillDeleteFilesRequest=N.DidDeleteFilesNotification=N.WillRenameFilesRequest=N.DidRenameFilesNotification=N.WillCreateFilesRequest=N.DidCreateFilesNotification=N.FileOperationPatternKind=N.LinkedEditingRangeRequest=N.ShowDocumentRequest=N.SemanticTokensRegistrationType=N.SemanticTokensRefreshRequest=N.SemanticTokensRangeRequest=N.SemanticTokensDeltaRequest=N.SemanticTokensRequest=N.TokenFormat=N.CallHierarchyPrepareRequest=N.CallHierarchyOutgoingCallsRequest=N.CallHierarchyIncomingCallsRequest=N.WorkDoneProgressCancelNotification=N.WorkDoneProgressCreateRequest=N.WorkDoneProgress=N.SelectionRangeRequest=N.DeclarationRequest=N.FoldingRangeRefreshRequest=N.FoldingRangeRequest=N.ColorPresentationRequest=N.DocumentColorRequest=N.ConfigurationRequest=N.DidChangeWorkspaceFoldersNotification=N.WorkspaceFoldersRequest=N.TypeDefinitionRequest=N.ImplementationRequest=N.ApplyWorkspaceEditRequest=N.ExecuteCommandRequest=N.PrepareRenameRequest=N.RenameRequest=N.PrepareSupportDefaultBehavior=N.DocumentOnTypeFormattingRequest=N.DocumentRangesFormattingRequest=N.DocumentRangeFormattingRequest=N.DocumentFormattingRequest=N.DocumentLinkResolveRequest=N.DocumentLinkRequest=N.CodeLensRefreshRequest=N.CodeLensResolveRequest=N.CodeLensRequest=N.WorkspaceSymbolResolveRequest=void 0;N.InlineCompletionRequest=N.DidCloseNotebookDocumentNotification=N.DidSaveNotebookDocumentNotification=N.DidChangeNotebookDocumentNotification=N.NotebookCellArrayChange=N.DidOpenNotebookDocumentNotification=N.NotebookDocumentSyncRegistrationType=N.NotebookDocument=N.NotebookCell=N.ExecutionSummary=N.NotebookCellKind=N.DiagnosticRefreshRequest=N.WorkspaceDiagnosticRequest=N.DocumentDiagnosticRequest=N.DocumentDiagnosticReportKind=N.DiagnosticServerCancellationData=N.InlayHintRefreshRequest=N.InlayHintResolveRequest=N.InlayHintRequest=N.InlineValueRefreshRequest=N.InlineValueRequest=N.TypeHierarchySupertypesRequest=N.TypeHierarchySubtypesRequest=N.TypeHierarchyPrepareRequest=void 0;var _e=ur(),oS=$l(),$r=Hl(),SU=IC();Object.defineProperty(N,"ImplementationRequest",{enumerable:!0,get:function(){return SU.ImplementationRequest}});var TU=kC();Object.defineProperty(N,"TypeDefinitionRequest",{enumerable:!0,get:function(){return TU.TypeDefinitionRequest}});var fT=MC();Object.defineProperty(N,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return fT.WorkspaceFoldersRequest}});Object.defineProperty(N,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return fT.DidChangeWorkspaceFoldersNotification}});var RU=FC();Object.defineProperty(N,"ConfigurationRequest",{enumerable:!0,get:function(){return RU.ConfigurationRequest}});var mT=HC();Object.defineProperty(N,"DocumentColorRequest",{enumerable:!0,get:function(){return mT.DocumentColorRequest}});Object.defineProperty(N,"ColorPresentationRequest",{enumerable:!0,get:function(){return mT.ColorPresentationRequest}});var hT=VC();Object.defineProperty(N,"FoldingRangeRequest",{enumerable:!0,get:function(){return hT.FoldingRangeRequest}});Object.defineProperty(N,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return hT.FoldingRangeRefreshRequest}});var PU=KC();Object.defineProperty(N,"DeclarationRequest",{enumerable:!0,get:function(){return PU.DeclarationRequest}});var DU=ZC();Object.defineProperty(N,"SelectionRangeRequest",{enumerable:!0,get:function(){return DU.SelectionRangeRequest}});var jh=tE();Object.defineProperty(N,"WorkDoneProgress",{enumerable:!0,get:function(){return jh.WorkDoneProgress}});Object.defineProperty(N,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return jh.WorkDoneProgressCreateRequest}});Object.defineProperty(N,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return jh.WorkDoneProgressCancelNotification}});var Fh=oE();Object.defineProperty(N,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Fh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(N,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Fh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(N,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Fh.CallHierarchyPrepareRequest}});var da=dE();Object.defineProperty(N,"TokenFormat",{enumerable:!0,get:function(){return da.TokenFormat}});Object.defineProperty(N,"SemanticTokensRequest",{enumerable:!0,get:function(){return da.SemanticTokensRequest}});Object.defineProperty(N,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return da.SemanticTokensDeltaRequest}});Object.defineProperty(N,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return da.SemanticTokensRangeRequest}});Object.defineProperty(N,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return da.SemanticTokensRefreshRequest}});Object.defineProperty(N,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return da.SemanticTokensRegistrationType}});var IU=mE();Object.defineProperty(N,"ShowDocumentRequest",{enumerable:!0,get:function(){return IU.ShowDocumentRequest}});var OU=vE();Object.defineProperty(N,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return OU.LinkedEditingRangeRequest}});var Jo=SE();Object.defineProperty(N,"FileOperationPatternKind",{enumerable:!0,get:function(){return Jo.FileOperationPatternKind}});Object.defineProperty(N,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Jo.DidCreateFilesNotification}});Object.defineProperty(N,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Jo.WillCreateFilesRequest}});Object.defineProperty(N,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Jo.DidRenameFilesNotification}});Object.defineProperty(N,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Jo.WillRenameFilesRequest}});Object.defineProperty(N,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Jo.DidDeleteFilesNotification}});Object.defineProperty(N,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Jo.WillDeleteFilesRequest}});var Uh=IE();Object.defineProperty(N,"UniquenessLevel",{enumerable:!0,get:function(){return Uh.UniquenessLevel}});Object.defineProperty(N,"MonikerKind",{enumerable:!0,get:function(){return Uh.MonikerKind}});Object.defineProperty(N,"MonikerRequest",{enumerable:!0,get:function(){return Uh.MonikerRequest}});var $h=NE();Object.defineProperty(N,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return $h.TypeHierarchyPrepareRequest}});Object.defineProperty(N,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return $h.TypeHierarchySubtypesRequest}});Object.defineProperty(N,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return $h.TypeHierarchySupertypesRequest}});var gT=LE();Object.defineProperty(N,"InlineValueRequest",{enumerable:!0,get:function(){return gT.InlineValueRequest}});Object.defineProperty(N,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return gT.InlineValueRefreshRequest}});var Hh=$E();Object.defineProperty(N,"InlayHintRequest",{enumerable:!0,get:function(){return Hh.InlayHintRequest}});Object.defineProperty(N,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Hh.InlayHintResolveRequest}});Object.defineProperty(N,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Hh.InlayHintRefreshRequest}});var Hc=KE();Object.defineProperty(N,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Hc.DiagnosticServerCancellationData}});Object.defineProperty(N,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Hc.DocumentDiagnosticReportKind}});Object.defineProperty(N,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Hc.DocumentDiagnosticRequest}});Object.defineProperty(N,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Hc.WorkspaceDiagnosticRequest}});Object.defineProperty(N,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Hc.DiagnosticRefreshRequest}});var Ai=tS();Object.defineProperty(N,"NotebookCellKind",{enumerable:!0,get:function(){return Ai.NotebookCellKind}});Object.defineProperty(N,"ExecutionSummary",{enumerable:!0,get:function(){return Ai.ExecutionSummary}});Object.defineProperty(N,"NotebookCell",{enumerable:!0,get:function(){return Ai.NotebookCell}});Object.defineProperty(N,"NotebookDocument",{enumerable:!0,get:function(){return Ai.NotebookDocument}});Object.defineProperty(N,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ai.NotebookDocumentSyncRegistrationType}});Object.defineProperty(N,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ai.DidOpenNotebookDocumentNotification}});Object.defineProperty(N,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ai.NotebookCellArrayChange}});Object.defineProperty(N,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ai.DidChangeNotebookDocumentNotification}});Object.defineProperty(N,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ai.DidSaveNotebookDocumentNotification}});Object.defineProperty(N,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ai.DidCloseNotebookDocumentNotification}});var AU=iS();Object.defineProperty(N,"InlineCompletionRequest",{enumerable:!0,get:function(){return AU.InlineCompletionRequest}});var Nh;(function(t){function e(r){let n=r;return $r.string(n)||$r.string(n.language)||$r.string(n.scheme)||$r.string(n.pattern)}t.is=e})(Nh||(N.TextDocumentFilter=Nh={}));var qh;(function(t){function e(r){let n=r;return $r.objectLiteral(n)&&($r.string(n.notebookType)||$r.string(n.scheme)||$r.string(n.pattern))}t.is=e})(qh||(N.NotebookDocumentFilter=qh={}));var Mh;(function(t){function e(r){let n=r;return $r.objectLiteral(n)&&($r.string(n.notebook)||qh.is(n.notebook))&&(n.language===void 0||$r.string(n.language))}t.is=e})(Mh||(N.NotebookCellTextDocumentFilter=Mh={}));var Lh;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!$r.string(n)&&!Nh.is(n)&&!Mh.is(n))return!1;return!0}t.is=e})(Lh||(N.DocumentSelector=Lh={}));var sS;(function(t){t.method="client/registerCapability",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolRequestType(t.method)})(sS||(N.RegistrationRequest=sS={}));var aS;(function(t){t.method="client/unregisterCapability",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolRequestType(t.method)})(aS||(N.UnregistrationRequest=aS={}));var cS;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(cS||(N.ResourceOperationKind=cS={}));var uS;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(uS||(N.FailureHandlingKind=uS={}));var lS;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(lS||(N.PositionEncodingKind=lS={}));var dS;(function(t){function e(r){let n=r;return n&&$r.string(n.id)&&n.id.length>0}t.hasId=e})(dS||(N.StaticRegistrationOptions=dS={}));var pS;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||Lh.is(n.documentSelector))}t.is=e})(pS||(N.TextDocumentRegistrationOptions=pS={}));var fS;(function(t){function e(n){let i=n;return $r.objectLiteral(i)&&(i.workDoneProgress===void 0||$r.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&$r.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(fS||(N.WorkDoneProgressOptions=fS={}));var mS;(function(t){t.method="initialize",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(mS||(N.InitializeRequest=mS={}));var hS;(function(t){t.unknownProtocolVersion=1})(hS||(N.InitializeErrorCodes=hS={}));var gS;(function(t){t.method="initialized",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(gS||(N.InitializedNotification=gS={}));var vS;(function(t){t.method="shutdown",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType0(t.method)})(vS||(N.ShutdownRequest=vS={}));var yS;(function(t){t.method="exit",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType0(t.method)})(yS||(N.ExitNotification=yS={}));var bS;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(bS||(N.DidChangeConfigurationNotification=bS={}));var _S;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(_S||(N.MessageType=_S={}));var xS;(function(t){t.method="window/showMessage",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolNotificationType(t.method)})(xS||(N.ShowMessageNotification=xS={}));var wS;(function(t){t.method="window/showMessageRequest",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolRequestType(t.method)})(wS||(N.ShowMessageRequest=wS={}));var CS;(function(t){t.method="window/logMessage",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolNotificationType(t.method)})(CS||(N.LogMessageNotification=CS={}));var ES;(function(t){t.method="telemetry/event",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolNotificationType(t.method)})(ES||(N.TelemetryEventNotification=ES={}));var SS;(function(t){t.None=0,t.Full=1,t.Incremental=2})(SS||(N.TextDocumentSyncKind=SS={}));var TS;(function(t){t.method="textDocument/didOpen",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(TS||(N.DidOpenTextDocumentNotification=TS={}));var RS;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(RS||(N.TextDocumentContentChangeEvent=RS={}));var PS;(function(t){t.method="textDocument/didChange",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(PS||(N.DidChangeTextDocumentNotification=PS={}));var DS;(function(t){t.method="textDocument/didClose",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(DS||(N.DidCloseTextDocumentNotification=DS={}));var IS;(function(t){t.method="textDocument/didSave",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(IS||(N.DidSaveTextDocumentNotification=IS={}));var OS;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(OS||(N.TextDocumentSaveReason=OS={}));var AS;(function(t){t.method="textDocument/willSave",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(AS||(N.WillSaveTextDocumentNotification=AS={}));var kS;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(kS||(N.WillSaveTextDocumentWaitUntilRequest=kS={}));var NS;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolNotificationType(t.method)})(NS||(N.DidChangeWatchedFilesNotification=NS={}));var qS;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(qS||(N.FileChangeType=qS={}));var MS;(function(t){function e(r){let n=r;return $r.objectLiteral(n)&&(oS.URI.is(n.baseUri)||oS.WorkspaceFolder.is(n.baseUri))&&$r.string(n.pattern)}t.is=e})(MS||(N.RelativePattern=MS={}));var LS;(function(t){t.Create=1,t.Change=2,t.Delete=4})(LS||(N.WatchKind=LS={}));var jS;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolNotificationType(t.method)})(jS||(N.PublishDiagnosticsNotification=jS={}));var FS;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(FS||(N.CompletionTriggerKind=FS={}));var US;(function(t){t.method="textDocument/completion",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(US||(N.CompletionRequest=US={}));var $S;(function(t){t.method="completionItem/resolve",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})($S||(N.CompletionResolveRequest=$S={}));var HS;(function(t){t.method="textDocument/hover",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(HS||(N.HoverRequest=HS={}));var BS;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(BS||(N.SignatureHelpTriggerKind=BS={}));var zS;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(zS||(N.SignatureHelpRequest=zS={}));var VS;(function(t){t.method="textDocument/definition",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(VS||(N.DefinitionRequest=VS={}));var WS;(function(t){t.method="textDocument/references",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(WS||(N.ReferencesRequest=WS={}));var GS;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(GS||(N.DocumentHighlightRequest=GS={}));var KS;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(KS||(N.DocumentSymbolRequest=KS={}));var XS;(function(t){t.method="textDocument/codeAction",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(XS||(N.CodeActionRequest=XS={}));var QS;(function(t){t.method="codeAction/resolve",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(QS||(N.CodeActionResolveRequest=QS={}));var ZS;(function(t){t.method="workspace/symbol",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(ZS||(N.WorkspaceSymbolRequest=ZS={}));var YS;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(YS||(N.WorkspaceSymbolResolveRequest=YS={}));var JS;(function(t){t.method="textDocument/codeLens",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(JS||(N.CodeLensRequest=JS={}));var eT;(function(t){t.method="codeLens/resolve",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(eT||(N.CodeLensResolveRequest=eT={}));var tT;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolRequestType0(t.method)})(tT||(N.CodeLensRefreshRequest=tT={}));var rT;(function(t){t.method="textDocument/documentLink",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(rT||(N.DocumentLinkRequest=rT={}));var nT;(function(t){t.method="documentLink/resolve",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(nT||(N.DocumentLinkResolveRequest=nT={}));var iT;(function(t){t.method="textDocument/formatting",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(iT||(N.DocumentFormattingRequest=iT={}));var oT;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(oT||(N.DocumentRangeFormattingRequest=oT={}));var sT;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(sT||(N.DocumentRangesFormattingRequest=sT={}));var aT;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(aT||(N.DocumentOnTypeFormattingRequest=aT={}));var cT;(function(t){t.Identifier=1})(cT||(N.PrepareSupportDefaultBehavior=cT={}));var uT;(function(t){t.method="textDocument/rename",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(uT||(N.RenameRequest=uT={}));var lT;(function(t){t.method="textDocument/prepareRename",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(lT||(N.PrepareRenameRequest=lT={}));var dT;(function(t){t.method="workspace/executeCommand",t.messageDirection=_e.MessageDirection.clientToServer,t.type=new _e.ProtocolRequestType(t.method)})(dT||(N.ExecuteCommandRequest=dT={}));var pT;(function(t){t.method="workspace/applyEdit",t.messageDirection=_e.MessageDirection.serverToClient,t.type=new _e.ProtocolRequestType("workspace/applyEdit")})(pT||(N.ApplyWorkspaceEditRequest=pT={}))});var bT=$(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.createProtocolConnection=void 0;var yT=Yo();function kU(t,e,r,n){return yT.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,yT.createMessageConnection)(t,e,r,n)}nd.createProtocolConnection=kU});var xT=$(Pn=>{"use strict";var NU=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),id=Pn&&Pn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&NU(e,t,r)};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.LSPErrorCodes=Pn.createProtocolConnection=void 0;id(Yo(),Pn);id($l(),Pn);id(ur(),Pn);id(vT(),Pn);var qU=bT();Object.defineProperty(Pn,"createProtocolConnection",{enumerable:!0,get:function(){return qU.createProtocolConnection}});var _T;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(_T||(Pn.LSPErrorCodes=_T={}))});var it=$(ki=>{"use strict";var MU=ki&&ki.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wT=ki&&ki.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MU(e,t,r)};Object.defineProperty(ki,"__esModule",{value:!0});ki.createProtocolConnection=void 0;var LU=Th();wT(Th(),ki);wT(xT(),ki);function jU(t,e,r,n){return(0,LU.createMessageConnection)(t,e,r,n)}ki.createProtocolConnection=jU});var od=$(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.forEach=on.mapAsync=on.map=on.clearTestMode=on.setTestMode=on.Semaphore=on.Delayer=void 0;var zc=it(),Bh=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,r=this.defaultDelay){return this.task=e,r>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(r>=0||this.timeout===void 0)&&(this.timeout=(0,zc.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},r>=0?r:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};on.Delayer=Bh;var zh=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,zc.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};on.Semaphore=zh;var Vh=!1;function FU(){Vh=!0}on.setTestMode=FU;function UU(){Vh=!1}on.clearTestMode=UU;var CT=15,Bc=class{constructor(e=CT){this.yieldAfter=Vh===!0?Math.max(e,2):Math.max(e,CT),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,r=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||r<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function $U(t,e,r,n){if(t.length===0)return[];let i=new Array(t.length),o=new Bc(n?.yieldAfter);function s(c){o.start();for(let u=c;u<t.length;u++)if(i[u]=e(t[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(r!==void 0&&r.isCancellationRequested);)a=await new Promise(c=>{(0,zc.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}on.map=$U;async function HU(t,e,r,n){if(t.length===0)return[];let i=new Array(t.length),o=new Bc(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<t.length;u++)if(i[u]=await e(t[u],r),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(r!==void 0&&r.isCancellationRequested);)a=await new Promise(c=>{(0,zc.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}on.mapAsync=HU;async function BU(t,e,r,n){if(t.length===0)return;let i=new Bc(n?.yieldAfter);function o(a){i.start();for(let c=a;c<t.length;c++)if(e(t[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(r!==void 0&&r.isCancellationRequested);)s=await new Promise(a=>{(0,zc.RAL)().timer.setImmediate(()=>{a(o(s))})})}on.forEach=BU});var Kh=$(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});var zU=require("vscode"),Wh=class extends zU.CompletionItem{constructor(e){super(e)}};Gh.default=Wh});var Zh=$(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var VU=require("vscode"),Xh=class extends VU.CodeLens{constructor(e){super(e)}};Qh.default=Xh});var eg=$(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});var WU=require("vscode"),Yh=class extends WU.DocumentLink{constructor(e,r){super(e,r)}};Jh.default=Yh});var ng=$(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var GU=require("vscode"),tg=class extends GU.CodeAction{constructor(e,r){super(e),this.data=r}};rg.default=tg});var sg=$(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.ProtocolDiagnostic=pa.DiagnosticCode=void 0;var KU=require("vscode"),ig=Yn(),ET;(function(t){function e(r){let n=r;return n!=null&&(ig.number(n.value)||ig.string(n.value))&&ig.string(n.target)}t.is=e})(ET||(pa.DiagnosticCode=ET={}));var og=class extends KU.Diagnostic{constructor(e,r,n,i){super(e,r,n),this.data=i,this.hasDiagnosticCode=!1}};pa.ProtocolDiagnostic=og});var ug=$(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});var XU=require("vscode"),ag=class extends XU.CallHierarchyItem{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o,s),a!==void 0&&(this.data=a)}};cg.default=ag});var pg=$(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});var QU=require("vscode"),lg=class extends QU.TypeHierarchyItem{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o,s),a!==void 0&&(this.data=a)}};dg.default=lg});var hg=$(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});var sd=require("vscode"),fg=class extends sd.SymbolInformation{constructor(e,r,n,i,o){let s=!(i instanceof sd.Uri);super(e,r,n,s?i:new sd.Location(i,new sd.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};mg.default=fg});var yg=$(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});var ZU=require("vscode"),gg=class extends ZU.InlayHint{constructor(e,r,n){super(e,r,n)}};vg.default=gg});var PT=$(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.createConverter=void 0;var kr=require("vscode"),ct=it(),es=Yn(),ST=od(),YU=Kh(),JU=Zh(),e$=eg(),TT=ng(),RT=sg(),t$=ug(),r$=pg(),n$=hg(),i$=yg(),bg;(function(t){function e(r){let n=r;return n&&!!n.inserting&&!!n.replacing}t.is=e})(bg||(bg={}));function o$(t){let r=t||(T=>T.toString());function n(T){return r(T)}function i(T){return{uri:r(T.uri)}}function o(T){return{uri:r(T.uri),languageId:T.languageId,version:T.version,text:T.getText()}}function s(T){return{uri:r(T.uri),version:T.version}}function a(T){return{textDocument:o(T)}}function c(T){let J=T;return!!J.document&&!!J.contentChanges}function u(T){let J=T;return!!J.uri&&!!J.version}function l(T,J,Ee){if(u(T))return{textDocument:{uri:r(T.uri),version:T.version},contentChanges:[{text:T.getText()}]};if(c(T)){let bt=J,W=Ee;return{textDocument:{uri:r(bt),version:W},contentChanges:T.contentChanges.map(L=>{let F=L.range;return{range:{start:{line:F.start.line,character:F.start.character},end:{line:F.end.line,character:F.end.character}},rangeLength:L.rangeLength,text:L.text}})}}else throw Error("Unsupported text document change parameter")}function d(T){return{textDocument:i(T)}}function p(T,J=!1){let Ee={textDocument:i(T)};return J&&(Ee.text=T.getText()),Ee}function m(T){switch(T){case kr.TextDocumentSaveReason.Manual:return ct.TextDocumentSaveReason.Manual;case kr.TextDocumentSaveReason.AfterDelay:return ct.TextDocumentSaveReason.AfterDelay;case kr.TextDocumentSaveReason.FocusOut:return ct.TextDocumentSaveReason.FocusOut}return ct.TextDocumentSaveReason.Manual}function f(T){return{textDocument:i(T.document),reason:m(T.reason)}}function g(T){return{files:T.files.map(J=>({uri:r(J)}))}}function y(T){return{files:T.files.map(J=>({oldUri:r(J.oldUri),newUri:r(J.newUri)}))}}function b(T){return{files:T.files.map(J=>({uri:r(J)}))}}function x(T){return{files:T.files.map(J=>({uri:r(J)}))}}function w(T){return{files:T.files.map(J=>({oldUri:r(J.oldUri),newUri:r(J.newUri)}))}}function C(T){return{files:T.files.map(J=>({uri:r(J)}))}}function P(T,J){return{textDocument:i(T),position:xe(J)}}function k(T){switch(T){case kr.CompletionTriggerKind.TriggerCharacter:return ct.CompletionTriggerKind.TriggerCharacter;case kr.CompletionTriggerKind.TriggerForIncompleteCompletions:return ct.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ct.CompletionTriggerKind.Invoked}}function q(T,J,Ee){return{textDocument:i(T),position:xe(J),context:{triggerKind:k(Ee.triggerKind),triggerCharacter:Ee.triggerCharacter}}}function j(T){switch(T){case kr.SignatureHelpTriggerKind.Invoke:return ct.SignatureHelpTriggerKind.Invoked;case kr.SignatureHelpTriggerKind.TriggerCharacter:return ct.SignatureHelpTriggerKind.TriggerCharacter;case kr.SignatureHelpTriggerKind.ContentChange:return ct.SignatureHelpTriggerKind.ContentChange}}function Q(T){return{label:T.label}}function ne(T){return T.map(Q)}function X(T){return{label:T.label,parameters:ne(T.parameters)}}function H(T){return T.map(X)}function ae(T){return T===void 0?T:{signatures:H(T.signatures),activeSignature:T.activeSignature,activeParameter:T.activeParameter}}function ee(T,J,Ee){return{textDocument:i(T),position:xe(J),context:{isRetrigger:Ee.isRetrigger,triggerCharacter:Ee.triggerCharacter,triggerKind:j(Ee.triggerKind),activeSignatureHelp:ae(Ee.activeSignatureHelp)}}}function xe(T){return{line:T.line,character:T.character}}function de(T){return T==null?T:{line:T.line>ct.uinteger.MAX_VALUE?ct.uinteger.MAX_VALUE:T.line,character:T.character>ct.uinteger.MAX_VALUE?ct.uinteger.MAX_VALUE:T.character}}function z(T,J){return ST.map(T,de,J)}function Y(T){return T.map(de)}function te(T){return T==null?T:{start:de(T.start),end:de(T.end)}}function pe(T){return T.map(te)}function ge(T){return T==null?T:ct.Location.create(n(T.uri),te(T.range))}function De(T){switch(T){case kr.DiagnosticSeverity.Error:return ct.DiagnosticSeverity.Error;case kr.DiagnosticSeverity.Warning:return ct.DiagnosticSeverity.Warning;case kr.DiagnosticSeverity.Information:return ct.DiagnosticSeverity.Information;case kr.DiagnosticSeverity.Hint:return ct.DiagnosticSeverity.Hint}}function Re(T){if(!T)return;let J=[];for(let Ee of T){let bt=ze(Ee);bt!==void 0&&J.push(bt)}return J.length>0?J:void 0}function ze(T){switch(T){case kr.DiagnosticTag.Unnecessary:return ct.DiagnosticTag.Unnecessary;case kr.DiagnosticTag.Deprecated:return ct.DiagnosticTag.Deprecated;default:return}}function We(T){return{message:T.message,location:ge(T.location)}}function mt(T){return T.map(We)}function ot(T){if(T!=null)return es.number(T)||es.string(T)?T:{value:T.value,target:n(T.target)}}function ke(T){let J=ct.Diagnostic.create(te(T.range),T.message),Ee=T instanceof RT.ProtocolDiagnostic?T:void 0;Ee!==void 0&&Ee.data!==void 0&&(J.data=Ee.data);let bt=ot(T.code);return RT.DiagnosticCode.is(bt)?Ee!==void 0&&Ee.hasDiagnosticCode?J.code=bt:(J.code=bt.value,J.codeDescription={href:bt.target}):J.code=bt,es.number(T.severity)&&(J.severity=De(T.severity)),Array.isArray(T.tags)&&(J.tags=Re(T.tags)),T.relatedInformation&&(J.relatedInformation=mt(T.relatedInformation)),T.source&&(J.source=T.source),J}function Ot(T,J){return T==null?T:ST.map(T,ke,J)}function Mt(T){return T==null?T:T.map(ke)}function qe(T,J){switch(T){case"$string":return J;case ct.MarkupKind.PlainText:return{kind:T,value:J};case ct.MarkupKind.Markdown:return{kind:T,value:J.value};default:return`Unsupported Markup content received. Kind is: ${T}`}}function we(T){switch(T){case kr.CompletionItemTag.Deprecated:return ct.CompletionItemTag.Deprecated}}function $e(T){if(T===void 0)return T;let J=[];for(let Ee of T){let bt=we(Ee);bt!==void 0&&J.push(bt)}return J}function tt(T,J){return J!==void 0?J:T+1}function Ir(T,J=!1){let Ee,bt;es.string(T.label)?Ee=T.label:(Ee=T.label.label,J&&(T.label.detail!==void 0||T.label.description!==void 0)&&(bt={detail:T.label.detail,description:T.label.description}));let W={label:Ee};bt!==void 0&&(W.labelDetails=bt);let S=T instanceof YU.default?T:void 0;T.detail&&(W.detail=T.detail),T.documentation&&(!S||S.documentationFormat==="$string"?W.documentation=T.documentation:W.documentation=qe(S.documentationFormat,T.documentation)),T.filterText&&(W.filterText=T.filterText),en(W,T),es.number(T.kind)&&(W.kind=tt(T.kind,S&&S.originalItemKind)),T.sortText&&(W.sortText=T.sortText),T.additionalTextEdits&&(W.additionalTextEdits=Vt(T.additionalTextEdits)),T.commitCharacters&&(W.commitCharacters=T.commitCharacters.slice()),T.command&&(W.command=ye(T.command)),(T.preselect===!0||T.preselect===!1)&&(W.preselect=T.preselect);let L=$e(T.tags);if(S){if(S.data!==void 0&&(W.data=S.data),S.deprecated===!0||S.deprecated===!1){if(S.deprecated===!0&&L!==void 0&&L.length>0){let F=L.indexOf(kr.CompletionItemTag.Deprecated);F!==-1&&L.splice(F,1)}W.deprecated=S.deprecated}S.insertTextMode!==void 0&&(W.insertTextMode=S.insertTextMode)}return L!==void 0&&L.length>0&&(W.tags=L),W.insertTextMode===void 0&&T.keepWhitespace===!0&&(W.insertTextMode=ct.InsertTextMode.adjustIndentation),W}function en(T,J){let Ee=ct.InsertTextFormat.PlainText,bt,W;J.textEdit?(bt=J.textEdit.newText,W=J.textEdit.range):J.insertText instanceof kr.SnippetString?(Ee=ct.InsertTextFormat.Snippet,bt=J.insertText.value):bt=J.insertText,J.range&&(W=J.range),T.insertTextFormat=Ee,J.fromEdit&&bt!==void 0&&W!==void 0?T.textEdit=ue(bt,W):T.insertText=bt}function ue(T,J){return bg.is(J)?ct.InsertReplaceEdit.create(T,te(J.inserting),te(J.replacing)):{newText:T,range:te(J)}}function Fr(T){return{range:te(T.range),newText:T.newText}}function Vt(T){return T==null?T:T.map(Fr)}function $t(T){return T<=kr.SymbolKind.TypeParameter?T+1:ct.SymbolKind.Property}function ht(T){return T}function ir(T){return T.map(ht)}function Ht(T,J,Ee){return{textDocument:i(T),position:xe(J),context:{includeDeclaration:Ee.includeDeclaration}}}async function qr(T,J){let Ee=ct.CodeAction.create(T.title);if(T instanceof TT.default&&T.data!==void 0&&(Ee.data=T.data),T.kind!==void 0&&(Ee.kind=M(T.kind)),T.diagnostics!==void 0&&(Ee.diagnostics=await Ot(T.diagnostics,J)),T.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return T.command!==void 0&&(Ee.command=ye(T.command)),T.isPreferred!==void 0&&(Ee.isPreferred=T.isPreferred),T.disabled!==void 0&&(Ee.disabled={reason:T.disabled.reason}),Ee}function Ur(T){let J=ct.CodeAction.create(T.title);if(T instanceof TT.default&&T.data!==void 0&&(J.data=T.data),T.kind!==void 0&&(J.kind=M(T.kind)),T.diagnostics!==void 0&&(J.diagnostics=Mt(T.diagnostics)),T.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return T.command!==void 0&&(J.command=ye(T.command)),T.isPreferred!==void 0&&(J.isPreferred=T.isPreferred),T.disabled!==void 0&&(J.disabled={reason:T.disabled.reason}),J}async function lt(T,J){if(T==null)return T;let Ee;return T.only&&es.string(T.only.value)&&(Ee=[T.only.value]),ct.CodeActionContext.create(await Ot(T.diagnostics,J),Ee,Yt(T.triggerKind))}function Kr(T){if(T==null)return T;let J;return T.only&&es.string(T.only.value)&&(J=[T.only.value]),ct.CodeActionContext.create(Mt(T.diagnostics),J,Yt(T.triggerKind))}function Yt(T){switch(T){case kr.CodeActionTriggerKind.Invoke:return ct.CodeActionTriggerKind.Invoked;case kr.CodeActionTriggerKind.Automatic:return ct.CodeActionTriggerKind.Automatic;default:return}}function M(T){if(T!=null)return T.value}function oe(T){return T==null?T:ct.InlineValueContext.create(T.frameId,te(T.stoppedLocation))}function fe(T,J,Ee){return{context:ct.InlineCompletionContext.create(Ee.triggerKind,Ee.selectedCompletionInfo),textDocument:i(T),position:de(J)}}function ye(T){let J=ct.Command.create(T.title,T.command);return T.arguments&&(J.arguments=T.arguments),J}function Qe(T){let J=ct.CodeLens.create(te(T.range));return T.command&&(J.command=ye(T.command)),T instanceof JU.default&&T.data&&(J.data=T.data),J}function rt(T,J){let Ee={tabSize:T.tabSize,insertSpaces:T.insertSpaces};return J.trimTrailingWhitespace&&(Ee.trimTrailingWhitespace=!0),J.trimFinalNewlines&&(Ee.trimFinalNewlines=!0),J.insertFinalNewline&&(Ee.insertFinalNewline=!0),Ee}function st(T){return{textDocument:i(T)}}function Ze(T){return{textDocument:i(T)}}function Me(T){let J=ct.DocumentLink.create(te(T.range));T.target&&(J.target=n(T.target)),T.tooltip!==void 0&&(J.tooltip=T.tooltip);let Ee=T instanceof e$.default?T:void 0;return Ee&&Ee.data&&(J.data=Ee.data),J}function Pe(T){return{textDocument:i(T)}}function He(T){let J={name:T.name,kind:$t(T.kind),uri:n(T.uri),range:te(T.range),selectionRange:te(T.selectionRange)};return T.detail!==void 0&&T.detail.length>0&&(J.detail=T.detail),T.tags!==void 0&&(J.tags=ir(T.tags)),T instanceof t$.default&&T.data!==void 0&&(J.data=T.data),J}function me(T){let J={name:T.name,kind:$t(T.kind),uri:n(T.uri),range:te(T.range),selectionRange:te(T.selectionRange)};return T.detail!==void 0&&T.detail.length>0&&(J.detail=T.detail),T.tags!==void 0&&(J.tags=ir(T.tags)),T instanceof r$.default&&T.data!==void 0&&(J.data=T.data),J}function Lt(T){let J=T instanceof n$.default?{name:T.name,kind:$t(T.kind),location:T.hasRange?ge(T.location):{uri:r(T.location.uri)},data:T.data}:{name:T.name,kind:$t(T.kind),location:ge(T.location)};return T.tags!==void 0&&(J.tags=ir(T.tags)),T.containerName!==""&&(J.containerName=T.containerName),J}function Bt(T){let J=typeof T.label=="string"?T.label:T.label.map(Ue),Ee=ct.InlayHint.create(de(T.position),J);return T.kind!==void 0&&(Ee.kind=T.kind),T.textEdits!==void 0&&(Ee.textEdits=Vt(T.textEdits)),T.tooltip!==void 0&&(Ee.tooltip=yr(T.tooltip)),T.paddingLeft!==void 0&&(Ee.paddingLeft=T.paddingLeft),T.paddingRight!==void 0&&(Ee.paddingRight=T.paddingRight),T instanceof i$.default&&T.data!==void 0&&(Ee.data=T.data),Ee}function Ue(T){let J=ct.InlayHintLabelPart.create(T.value);return T.location!==void 0&&(J.location=ge(T.location)),T.command!==void 0&&(J.command=ye(T.command)),T.tooltip!==void 0&&(J.tooltip=yr(T.tooltip)),J}function yr(T){return typeof T=="string"?T:{kind:ct.MarkupKind.Markdown,value:T.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:f,asDidCreateFilesParams:g,asDidRenameFilesParams:y,asDidDeleteFilesParams:b,asWillCreateFilesParams:x,asWillRenameFilesParams:w,asWillDeleteFilesParams:C,asTextDocumentPositionParams:P,asCompletionParams:q,asSignatureHelpParams:ee,asWorkerPosition:xe,asRange:te,asRanges:pe,asPosition:de,asPositions:z,asPositionsSync:Y,asLocation:ge,asDiagnosticSeverity:De,asDiagnosticTag:ze,asDiagnostic:ke,asDiagnostics:Ot,asDiagnosticsSync:Mt,asCompletionItem:Ir,asTextEdit:Fr,asSymbolKind:$t,asSymbolTag:ht,asSymbolTags:ir,asReferenceParams:Ht,asCodeAction:qr,asCodeActionSync:Ur,asCodeActionContext:lt,asCodeActionContextSync:Kr,asInlineValueContext:oe,asCommand:ye,asCodeLens:Qe,asFormattingOptions:rt,asDocumentSymbolParams:st,asCodeLensParams:Ze,asDocumentLink:Me,asDocumentLinkParams:Pe,asCallHierarchyItem:He,asTypeHierarchyItem:me,asInlayHint:Bt,asWorkspaceSymbol:Lt,asInlineCompletionParams:fe}}ad.createConverter=o$});var OT=$(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.createConverter=void 0;var Ce=require("vscode"),Ke=it(),ti=Yn(),At=od(),s$=Kh(),a$=Zh(),c$=eg(),u$=ng(),DT=sg(),l$=ug(),d$=pg(),p$=hg(),f$=yg(),IT=it(),cd;(function(t){function e(r){let n=r;return n&&ti.string(n.language)&&ti.string(n.value)}t.is=e})(cd||(cd={}));function m$(t,e,r){let i=t||(h=>Ce.Uri.parse(h));function o(h){return i(h)}function s(h){let _=[];for(let R of h)if(typeof R=="string")_.push(R);else if(IT.NotebookCellTextDocumentFilter.is(R))if(typeof R.notebook=="string")_.push({notebookType:R.notebook,language:R.language});else{let D=R.notebook.notebookType??"*";_.push({notebookType:D,scheme:R.notebook.scheme,pattern:R.notebook.pattern,language:R.language})}else IT.TextDocumentFilter.is(R)&&_.push({language:R.language,scheme:R.scheme,pattern:R.pattern});return _}async function a(h,_){return At.map(h,u,_)}function c(h){let _=new Array(h.length);for(let R=0;R<h.length;R++)_[R]=u(h[R]);return _}function u(h){let _=new DT.ProtocolDiagnostic(f(h.range),h.message,y(h.severity),h.data);if(h.code!==void 0){if(typeof h.code=="string"||typeof h.code=="number")Ke.CodeDescription.is(h.codeDescription)?_.code={value:h.code,target:o(h.codeDescription.href)}:_.code=h.code;else if(DT.DiagnosticCode.is(h.code)){_.hasDiagnosticCode=!0;let R=h.code;_.code={value:R.value,target:o(R.target)}}}return h.source&&(_.source=h.source),h.relatedInformation&&(_.relatedInformation=l(h.relatedInformation)),Array.isArray(h.tags)&&(_.tags=d(h.tags)),_}function l(h){let _=new Array(h.length);for(let R=0;R<h.length;R++){let D=h[R];_[R]=new Ce.DiagnosticRelatedInformation(De(D.location),D.message)}return _}function d(h){if(!h)return;let _=[];for(let R of h){let D=p(R);D!==void 0&&_.push(D)}return _.length>0?_:void 0}function p(h){switch(h){case Ke.DiagnosticTag.Unnecessary:return Ce.DiagnosticTag.Unnecessary;case Ke.DiagnosticTag.Deprecated:return Ce.DiagnosticTag.Deprecated;default:return}}function m(h){return h?new Ce.Position(h.line,h.character):void 0}function f(h){return h?new Ce.Range(h.start.line,h.start.character,h.end.line,h.end.character):void 0}async function g(h,_){return At.map(h,R=>new Ce.Range(R.start.line,R.start.character,R.end.line,R.end.character),_)}function y(h){if(h==null)return Ce.DiagnosticSeverity.Error;switch(h){case Ke.DiagnosticSeverity.Error:return Ce.DiagnosticSeverity.Error;case Ke.DiagnosticSeverity.Warning:return Ce.DiagnosticSeverity.Warning;case Ke.DiagnosticSeverity.Information:return Ce.DiagnosticSeverity.Information;case Ke.DiagnosticSeverity.Hint:return Ce.DiagnosticSeverity.Hint}return Ce.DiagnosticSeverity.Error}function b(h){if(ti.string(h))return w(h);if(cd.is(h))return w().appendCodeblock(h.value,h.language);if(Array.isArray(h)){let _=[];for(let R of h){let D=w();cd.is(R)?D.appendCodeblock(R.value,R.language):D.appendMarkdown(R),_.push(D)}return _}else return w(h)}function x(h){if(ti.string(h))return h;switch(h.kind){case Ke.MarkupKind.Markdown:return w(h.value);case Ke.MarkupKind.PlainText:return h.value;default:return`Unsupported Markup content received. Kind is: ${h.kind}`}}function w(h){let _;if(h===void 0||typeof h=="string")_=new Ce.MarkdownString(h);else switch(h.kind){case Ke.MarkupKind.Markdown:_=new Ce.MarkdownString(h.value);break;case Ke.MarkupKind.PlainText:_=new Ce.MarkdownString,_.appendText(h.value);break;default:_=new Ce.MarkdownString,_.appendText(`Unsupported Markup content received. Kind is: ${h.kind}`);break}return _.isTrusted=e,_.supportHtml=r,_}function C(h){if(h)return new Ce.Hover(b(h.contents),f(h.range))}async function P(h,_,R){if(!h)return;if(Array.isArray(h))return At.map(h,le=>ne(le,_),R);let D=h,{defaultRange:U,commitCharacters:V}=k(D,_),ie=await At.map(D.items,le=>ne(le,V,U,D.itemDefaults?.insertTextMode,D.itemDefaults?.insertTextFormat,D.itemDefaults?.data),R);return new Ce.CompletionList(ie,D.isIncomplete)}function k(h,_){let R=h.itemDefaults?.editRange,D=h.itemDefaults?.commitCharacters??_;return Ke.Range.is(R)?{defaultRange:f(R),commitCharacters:D}:R!==void 0?{defaultRange:{inserting:f(R.insert),replacing:f(R.replace)},commitCharacters:D}:{defaultRange:void 0,commitCharacters:D}}function q(h){return Ke.CompletionItemKind.Text<=h&&h<=Ke.CompletionItemKind.TypeParameter?[h-1,void 0]:[Ce.CompletionItemKind.Text,h]}function j(h){switch(h){case Ke.CompletionItemTag.Deprecated:return Ce.CompletionItemTag.Deprecated}}function Q(h){if(h==null)return[];let _=[];for(let R of h){let D=j(R);D!==void 0&&_.push(D)}return _}function ne(h,_,R,D,U,V){let ie=Q(h.tags),le=X(h),Le=new s$.default(le);h.detail&&(Le.detail=h.detail),h.documentation&&(Le.documentation=x(h.documentation),Le.documentationFormat=ti.string(h.documentation)?"$string":h.documentation.kind),h.filterText&&(Le.filterText=h.filterText);let gt=H(h,R,U);if(gt&&(Le.insertText=gt.text,Le.range=gt.range,Le.fromEdit=gt.fromEdit),ti.number(h.kind)){let[Xf,Cc]=q(h.kind);Le.kind=Xf,Cc&&(Le.originalItemKind=Cc)}h.sortText&&(Le.sortText=h.sortText),h.additionalTextEdits&&(Le.additionalTextEdits=de(h.additionalTextEdits));let at=h.commitCharacters!==void 0?ti.stringArray(h.commitCharacters)?h.commitCharacters:void 0:_;at&&(Le.commitCharacters=at.slice()),h.command&&(Le.command=Vt(h.command)),(h.deprecated===!0||h.deprecated===!1)&&(Le.deprecated=h.deprecated,h.deprecated===!0&&ie.push(Ce.CompletionItemTag.Deprecated)),(h.preselect===!0||h.preselect===!1)&&(Le.preselect=h.preselect);let et=h.data??V;et!==void 0&&(Le.data=et),ie.length>0&&(Le.tags=ie);let qt=h.insertTextMode??D;return qt!==void 0&&(Le.insertTextMode=qt,qt===Ke.InsertTextMode.asIs&&(Le.keepWhitespace=!0)),Le}function X(h){return Ke.CompletionItemLabelDetails.is(h.labelDetails)?{label:h.label,detail:h.labelDetails.detail,description:h.labelDetails.description}:h.label}function H(h,_,R){let D=h.insertTextFormat??R;if(h.textEdit!==void 0||_!==void 0){let[U,V]=h.textEdit!==void 0?ae(h.textEdit):[_,h.textEditText??h.label];return D===Ke.InsertTextFormat.Snippet?{text:new Ce.SnippetString(V),range:U,fromEdit:!0}:{text:V,range:U,fromEdit:!0}}else return h.insertText?D===Ke.InsertTextFormat.Snippet?{text:new Ce.SnippetString(h.insertText),fromEdit:!1}:{text:h.insertText,fromEdit:!1}:void 0}function ae(h){return Ke.InsertReplaceEdit.is(h)?[{inserting:f(h.insert),replacing:f(h.replace)},h.newText]:[f(h.range),h.newText]}function ee(h){if(h)return new Ce.TextEdit(f(h.range),h.newText)}async function xe(h,_){if(h)return At.map(h,ee,_)}function de(h){if(!h)return;let _=new Array(h.length);for(let R=0;R<h.length;R++)_[R]=ee(h[R]);return _}async function z(h,_){if(!h)return;let R=new Ce.SignatureHelp;return ti.number(h.activeSignature)?R.activeSignature=h.activeSignature:R.activeSignature=0,ti.number(h.activeParameter)?R.activeParameter=h.activeParameter:R.activeParameter=0,h.signatures&&(R.signatures=await Y(h.signatures,_)),R}async function Y(h,_){return At.mapAsync(h,te,_)}async function te(h,_){let R=new Ce.SignatureInformation(h.label);return h.documentation!==void 0&&(R.documentation=x(h.documentation)),h.parameters!==void 0&&(R.parameters=await pe(h.parameters,_)),h.activeParameter!==void 0&&(R.activeParameter=h.activeParameter),R}function pe(h,_){return At.map(h,ge,_)}function ge(h){let _=new Ce.ParameterInformation(h.label);return h.documentation&&(_.documentation=x(h.documentation)),_}function De(h){return h?new Ce.Location(i(h.uri),f(h.range)):void 0}async function Re(h,_){if(h)return mt(h,_)}async function ze(h,_){if(h)return mt(h,_)}function We(h){if(!h)return;let _={targetUri:i(h.targetUri),targetRange:f(h.targetRange),originSelectionRange:f(h.originSelectionRange),targetSelectionRange:f(h.targetSelectionRange)};if(!_.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _}async function mt(h,_){if(h)if(ti.array(h)){if(h.length===0)return[];if(Ke.LocationLink.is(h[0])){let R=h;return At.map(R,We,_)}else{let R=h;return At.map(R,De,_)}}else return Ke.LocationLink.is(h)?[We(h)]:De(h)}async function ot(h,_){if(h)return At.map(h,De,_)}async function ke(h,_){if(h)return At.map(h,Ot,_)}function Ot(h){let _=new Ce.DocumentHighlight(f(h.range));return ti.number(h.kind)&&(_.kind=Mt(h.kind)),_}function Mt(h){switch(h){case Ke.DocumentHighlightKind.Text:return Ce.DocumentHighlightKind.Text;case Ke.DocumentHighlightKind.Read:return Ce.DocumentHighlightKind.Read;case Ke.DocumentHighlightKind.Write:return Ce.DocumentHighlightKind.Write}return Ce.DocumentHighlightKind.Text}async function qe(h,_){if(h)return At.map(h,Ir,_)}function we(h){return h<=Ke.SymbolKind.TypeParameter?h-1:Ce.SymbolKind.Property}function $e(h){switch(h){case Ke.SymbolTag.Deprecated:return Ce.SymbolTag.Deprecated;default:return}}function tt(h){if(h==null)return;let _=[];for(let R of h){let D=$e(R);D!==void 0&&_.push(D)}return _.length===0?void 0:_}function Ir(h){let _=h.data,R=h.location,D=R.range===void 0||_!==void 0?new p$.default(h.name,we(h.kind),h.containerName??"",R.range===void 0?i(R.uri):new Ce.Location(i(h.location.uri),f(R.range)),_):new Ce.SymbolInformation(h.name,we(h.kind),h.containerName??"",new Ce.Location(i(h.location.uri),f(R.range)));return Fr(D,h),D}async function en(h,_){if(h!=null)return At.map(h,ue,_)}function ue(h){let _=new Ce.DocumentSymbol(h.name,h.detail||"",we(h.kind),f(h.range),f(h.selectionRange));if(Fr(_,h),h.children!==void 0&&h.children.length>0){let R=[];for(let D of h.children)R.push(ue(D));_.children=R}return _}function Fr(h,_){h.tags=tt(_.tags),_.deprecated&&(h.tags?h.tags.includes(Ce.SymbolTag.Deprecated)||(h.tags=h.tags.concat(Ce.SymbolTag.Deprecated)):h.tags=[Ce.SymbolTag.Deprecated])}function Vt(h){let _={title:h.title,command:h.command};return h.arguments&&(_.arguments=h.arguments),_}async function $t(h,_){if(h)return At.map(h,Vt,_)}let ht=new Map;ht.set(Ke.CodeActionKind.Empty,Ce.CodeActionKind.Empty),ht.set(Ke.CodeActionKind.QuickFix,Ce.CodeActionKind.QuickFix),ht.set(Ke.CodeActionKind.Refactor,Ce.CodeActionKind.Refactor),ht.set(Ke.CodeActionKind.RefactorExtract,Ce.CodeActionKind.RefactorExtract),ht.set(Ke.CodeActionKind.RefactorInline,Ce.CodeActionKind.RefactorInline),ht.set(Ke.CodeActionKind.RefactorRewrite,Ce.CodeActionKind.RefactorRewrite),ht.set(Ke.CodeActionKind.Source,Ce.CodeActionKind.Source),ht.set(Ke.CodeActionKind.SourceOrganizeImports,Ce.CodeActionKind.SourceOrganizeImports);function ir(h){if(h==null)return;let _=ht.get(h);if(_)return _;let R=h.split(".");_=Ce.CodeActionKind.Empty;for(let D of R)_=_.append(D);return _}function Ht(h){if(h!=null)return h.map(_=>ir(_))}async function qr(h,_){if(h==null)return;let R=new u$.default(h.title,h.data);return h.kind!==void 0&&(R.kind=ir(h.kind)),h.diagnostics!==void 0&&(R.diagnostics=c(h.diagnostics)),h.edit!==void 0&&(R.edit=await Yt(h.edit,_)),h.command!==void 0&&(R.command=Vt(h.command)),h.isPreferred!==void 0&&(R.isPreferred=h.isPreferred),h.disabled!==void 0&&(R.disabled={reason:h.disabled.reason}),R}function Ur(h,_){return At.mapAsync(h,async R=>Ke.Command.is(R)?Vt(R):qr(R,_),_)}function lt(h){if(!h)return;let _=new a$.default(f(h.range));return h.command&&(_.command=Vt(h.command)),h.data!==void 0&&h.data!==null&&(_.data=h.data),_}async function Kr(h,_){if(h)return At.map(h,lt,_)}async function Yt(h,_){if(!h)return;let R=new Map;if(h.changeAnnotations!==void 0){let V=h.changeAnnotations;await At.forEach(Object.keys(V),ie=>{let le=M(V[ie]);R.set(ie,le)},_)}let D=V=>{if(V!==void 0)return R.get(V)},U=new Ce.WorkspaceEdit;if(h.documentChanges){let V=h.documentChanges;await At.forEach(V,ie=>{if(Ke.CreateFile.is(ie))U.createFile(i(ie.uri),ie.options,D(ie.annotationId));else if(Ke.RenameFile.is(ie))U.renameFile(i(ie.oldUri),i(ie.newUri),ie.options,D(ie.annotationId));else if(Ke.DeleteFile.is(ie))U.deleteFile(i(ie.uri),ie.options,D(ie.annotationId));else if(Ke.TextDocumentEdit.is(ie)){let le=i(ie.textDocument.uri);for(let Le of ie.edits)Ke.AnnotatedTextEdit.is(Le)?U.replace(le,f(Le.range),Le.newText,D(Le.annotationId)):U.replace(le,f(Le.range),Le.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(ie,void 0,4)}`)},_)}else if(h.changes){let V=h.changes;await At.forEach(Object.keys(V),ie=>{U.set(i(ie),de(V[ie]))},_)}return U}function M(h){if(h!==void 0)return{label:h.label,needsConfirmation:!!h.needsConfirmation,description:h.description}}function oe(h){let _=f(h.range),R=h.target?o(h.target):void 0,D=new c$.default(_,R);return h.tooltip!==void 0&&(D.tooltip=h.tooltip),h.data!==void 0&&h.data!==null&&(D.data=h.data),D}async function fe(h,_){if(h)return At.map(h,oe,_)}function ye(h){return new Ce.Color(h.red,h.green,h.blue,h.alpha)}function Qe(h){return new Ce.ColorInformation(f(h.range),ye(h.color))}async function rt(h,_){if(h)return At.map(h,Qe,_)}function st(h){let _=new Ce.ColorPresentation(h.label);return _.additionalTextEdits=de(h.additionalTextEdits),h.textEdit&&(_.textEdit=ee(h.textEdit)),_}async function Ze(h,_){if(h)return At.map(h,st,_)}function Me(h){if(h)switch(h){case Ke.FoldingRangeKind.Comment:return Ce.FoldingRangeKind.Comment;case Ke.FoldingRangeKind.Imports:return Ce.FoldingRangeKind.Imports;case Ke.FoldingRangeKind.Region:return Ce.FoldingRangeKind.Region}}function Pe(h){return new Ce.FoldingRange(h.startLine,h.endLine,Me(h.kind))}async function He(h,_){if(h)return At.map(h,Pe,_)}function me(h){return new Ce.SelectionRange(f(h.range),h.parent?me(h.parent):void 0)}async function Lt(h,_){return Array.isArray(h)?At.map(h,me,_):[]}function Bt(h){return Ke.InlineValueText.is(h)?new Ce.InlineValueText(f(h.range),h.text):Ke.InlineValueVariableLookup.is(h)?new Ce.InlineValueVariableLookup(f(h.range),h.variableName,h.caseSensitiveLookup):new Ce.InlineValueEvaluatableExpression(f(h.range),h.expression)}async function Ue(h,_){return Array.isArray(h)?At.map(h,Bt,_):[]}async function yr(h,_){let R=typeof h.label=="string"?h.label:await At.map(h.label,T,_),D=new f$.default(m(h.position),R);return h.kind!==void 0&&(D.kind=h.kind),h.textEdits!==void 0&&(D.textEdits=await xe(h.textEdits,_)),h.tooltip!==void 0&&(D.tooltip=J(h.tooltip)),h.paddingLeft!==void 0&&(D.paddingLeft=h.paddingLeft),h.paddingRight!==void 0&&(D.paddingRight=h.paddingRight),h.data!==void 0&&(D.data=h.data),D}function T(h){let _=new Ce.InlayHintLabelPart(h.value);return h.location!==void 0&&(_.location=De(h.location)),h.tooltip!==void 0&&(_.tooltip=J(h.tooltip)),h.command!==void 0&&(_.command=Vt(h.command)),_}function J(h){return typeof h=="string"?h:w(h)}async function Ee(h,_){if(Array.isArray(h))return At.mapAsync(h,yr,_)}function bt(h){if(h===null)return;let _=new l$.default(we(h.kind),h.name,h.detail||"",o(h.uri),f(h.range),f(h.selectionRange),h.data);return h.tags!==void 0&&(_.tags=tt(h.tags)),_}async function W(h,_){if(h!==null)return At.map(h,bt,_)}async function S(h,_){return new Ce.CallHierarchyIncomingCall(bt(h.from),await g(h.fromRanges,_))}async function L(h,_){if(h!==null)return At.mapAsync(h,S,_)}async function F(h,_){return new Ce.CallHierarchyOutgoingCall(bt(h.to),await g(h.fromRanges,_))}async function I(h,_){if(h!==null)return At.mapAsync(h,F,_)}async function E(h,_){if(h!=null)return new Ce.SemanticTokens(new Uint32Array(h.data),h.resultId)}function Z(h){return new Ce.SemanticTokensEdit(h.start,h.deleteCount,h.data!==void 0?new Uint32Array(h.data):void 0)}async function se(h,_){if(h!=null)return new Ce.SemanticTokensEdits(h.edits.map(Z),h.resultId)}function Ve(h){return h}async function Nt(h,_){if(h!=null)return new Ce.LinkedEditingRanges(await g(h.ranges,_),xt(h.wordPattern))}function xt(h){if(h!=null)return new RegExp(h)}function Gt(h){if(h===null)return;let _=new d$.default(we(h.kind),h.name,h.detail||"",o(h.uri),f(h.range),f(h.selectionRange),h.data);return h.tags!==void 0&&(_.tags=tt(h.tags)),_}async function Tr(h,_){if(h!==null)return At.map(h,Gt,_)}function or(h){if(ti.string(h))return h;if(Ke.RelativePattern.is(h)){if(Ke.URI.is(h.baseUri))return new Ce.RelativePattern(o(h.baseUri),h.pattern);if(Ke.WorkspaceFolder.is(h.baseUri)){let _=Ce.workspace.getWorkspaceFolder(o(h.baseUri.uri));return _!==void 0?new Ce.RelativePattern(_,h.pattern):void 0}}}async function nt(h,_){if(!h)return;if(Array.isArray(h))return At.map(h,U=>v(U),_);let R=h,D=await At.map(R.items,U=>v(U),_);return new Ce.InlineCompletionList(D)}function v(h){let _;typeof h.insertText=="string"?_=h.insertText:_=new Ce.SnippetString(h.insertText.value);let R;h.command&&(R=Vt(h.command));let D=new Ce.InlineCompletionItem(_,f(h.range),R);return h.filterText&&(D.filterText=h.filterText),D}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:f,asRanges:g,asPosition:m,asDiagnosticSeverity:y,asDiagnosticTag:p,asHover:C,asCompletionResult:P,asCompletionItem:ne,asTextEdit:ee,asTextEdits:xe,asSignatureHelp:z,asSignatureInformations:Y,asSignatureInformation:te,asParameterInformations:pe,asParameterInformation:ge,asDeclarationResult:Re,asDefinitionResult:ze,asLocation:De,asReferences:ot,asDocumentHighlights:ke,asDocumentHighlight:Ot,asDocumentHighlightKind:Mt,asSymbolKind:we,asSymbolTag:$e,asSymbolTags:tt,asSymbolInformations:qe,asSymbolInformation:Ir,asDocumentSymbols:en,asDocumentSymbol:ue,asCommand:Vt,asCommands:$t,asCodeAction:qr,asCodeActionKind:ir,asCodeActionKinds:Ht,asCodeActionResult:Ur,asCodeLens:lt,asCodeLenses:Kr,asWorkspaceEdit:Yt,asDocumentLink:oe,asDocumentLinks:fe,asFoldingRangeKind:Me,asFoldingRange:Pe,asFoldingRanges:He,asColor:ye,asColorInformation:Qe,asColorInformations:rt,asColorPresentation:st,asColorPresentations:Ze,asSelectionRange:me,asSelectionRanges:Lt,asInlineValue:Bt,asInlineValues:Ue,asInlayHint:yr,asInlayHints:Ee,asSemanticTokensLegend:Ve,asSemanticTokens:E,asSemanticTokensEdit:Z,asSemanticTokensEdits:se,asCallHierarchyItem:bt,asCallHierarchyItems:W,asCallHierarchyIncomingCall:S,asCallHierarchyIncomingCalls:L,asCallHierarchyOutgoingCall:F,asCallHierarchyOutgoingCalls:I,asLinkedEditingRanges:Nt,asTypeHierarchyItem:Gt,asTypeHierarchyItems:Tr,asGlobPattern:or,asInlineCompletionResult:nt,asInlineCompletionItem:v}}ud.createConverter=m$});var lr=$(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.generateUuid=ri.parse=ri.isUUID=ri.v4=ri.empty=void 0;var Vc=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Wc=class t extends Vc{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Wc._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Wc._timeHighBits=["8","9","a","b"];ri.empty=new Vc("00000000-0000-0000-0000-000000000000");function AT(){return new Wc}ri.v4=AT;var h$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function kT(t){return h$.test(t)}ri.isUUID=kT;function g$(t){if(!kT(t))throw new Error("invalid uuid");return new Vc(t)}ri.parse=g$;function v$(){return AT().asHex()}ri.generateUuid=v$});var xg=$(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.ProgressPart=void 0;var NT=require("vscode"),qT=it(),MT=Yn(),_g=class{constructor(e,r,n){this._client=e,this._token=r,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(qT.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&NT.window.withProgress({location:NT.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(r,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=r,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(qT.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&MT.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(MT.number(e.percentage)){let r=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,r-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};ld.ProgressPart=_g});var Pt=$(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.WorkspaceFeature=Hr.TextDocumentLanguageFeature=Hr.TextDocumentEventFeature=Hr.DynamicDocumentFeature=Hr.DynamicFeature=Hr.StaticFeature=Hr.ensure=Hr.LSPCancellationError=void 0;var ts=require("vscode"),wg=it(),vn=Yn(),LT=lr(),Cg=class extends ts.CancellationError{constructor(e){super(),this.data=e}};Hr.LSPCancellationError=Cg;function y$(t,e){return t[e]===void 0&&(t[e]={}),t[e]}Hr.ensure=y$;var jT;(function(t){function e(r){let n=r;return n!=null&&vn.func(n.fillClientCapabilities)&&vn.func(n.initialize)&&vn.func(n.getState)&&vn.func(n.clear)&&(n.fillInitializeParams===void 0||vn.func(n.fillInitializeParams))}t.is=e})(jT||(Hr.StaticFeature=jT={}));var FT;(function(t){function e(r){let n=r;return n!=null&&vn.func(n.fillClientCapabilities)&&vn.func(n.initialize)&&vn.func(n.getState)&&vn.func(n.clear)&&(n.fillInitializeParams===void 0||vn.func(n.fillInitializeParams))&&vn.func(n.register)&&vn.func(n.unregister)&&n.registrationType!==void 0}t.is=e})(FT||(Hr.DynamicFeature=FT={}));var Gc=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),r=0;for(let i of e){r++;for(let o of ts.workspace.textDocuments)if(ts.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=r>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Hr.DynamicDocumentFeature=Gc;var Eg=class extends Gc{static textDocumentFilter(e,r){for(let n of e)if(ts.languages.match(n,r)>0)return!0;return!1}constructor(e,r,n,i,o,s,a){super(e),this._event=r,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new ts.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(r=>{this.callback(r).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let r=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>r(i)):r(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,r,n){this._onNotificationSent.fire({textDocument:e,type:r,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let r of this._selectors.values())if(ts.languages.match(r,e)>0)return{send:n=>this.callback(n)}}};Hr.TextDocumentEventFeature=Eg;var Sg=class extends Gc{constructor(e,r){super(e),this._registrationType=r,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let r=e.data.registerOptions.documentSelector;r!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(r))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let r=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:r[0],data:e,provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,r){if(r){if(wg.TextDocumentRegistrationOptions.is(r)){let n=wg.StaticRegistrationOptions.hasId(r)?r.id:LT.generateUuid(),i=r.documentSelector??e;if(i)return[n,Object.assign({},r,{documentSelector:i})]}else if(vn.boolean(r)&&r===!0||wg.WorkDoneProgressOptions.is(r)){if(!e)return[void 0,void 0];let n=vn.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e});return[LT.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,r){if(!(!e||!r))return vn.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e})}getProvider(e){for(let r of this._registrations.values()){let n=r.data.registerOptions.documentSelector;if(n!==null&&ts.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return r.provider}}getAllProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};Hr.TextDocumentLanguageFeature=Sg;var Tg=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};Hr.WorkspaceFeature=Tg});var $T=$((FQ,UT)=>{var b$=typeof process=="object"&&process&&process.platform==="win32";UT.exports=b$?{sep:"\\"}:{sep:"/"}});var WT=$((UQ,VT)=>{"use strict";VT.exports=BT;function BT(t,e,r){t instanceof RegExp&&(t=HT(t,r)),e instanceof RegExp&&(e=HT(e,r));var n=zT(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function HT(t,e){var r=e.match(t);return r?r[0]:null}BT.range=zT;function zT(t,e,r){var n,i,o,s,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(n=[],o=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var e0=$(($Q,JT)=>{var GT=WT();JT.exports=w$;var KT="\0SLASH"+Math.random()+"\0",XT="\0OPEN"+Math.random()+"\0",Pg="\0CLOSE"+Math.random()+"\0",QT="\0COMMA"+Math.random()+"\0",ZT="\0PERIOD"+Math.random()+"\0";function Rg(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function _$(t){return t.split("\\\\").join(KT).split("\\{").join(XT).split("\\}").join(Pg).split("\\,").join(QT).split("\\.").join(ZT)}function x$(t){return t.split(KT).join("\\").split(XT).join("{").split(Pg).join("}").split(QT).join(",").split(ZT).join(".")}function YT(t){if(!t)return[""];var e=[],r=GT("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=YT(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function w$(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Kc(_$(t),!0).map(x$)):[]}function C$(t){return"{"+t+"}"}function E$(t){return/^-?0\d/.test(t)}function S$(t,e){return t<=e}function T$(t,e){return t>=e}function Kc(t,e){var r=[],n=GT("{","}",t);if(!n)return[t];var i=n.pre,o=n.post.length?Kc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];r.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,d=n.body.indexOf(",")>=0;if(!l&&!d)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+Pg+n.post,Kc(t)):[t];var p;if(l)p=n.body.split(/\.\./);else if(p=YT(n.body),p.length===1&&(p=Kc(p[0],!1).map(C$),p.length===1))return o.map(function(ne){return n.pre+p[0]+ne});var m;if(l){var f=Rg(p[0]),g=Rg(p[1]),y=Math.max(p[0].length,p[1].length),b=p.length==3?Math.abs(Rg(p[2])):1,x=S$,w=g<f;w&&(b*=-1,x=T$);var C=p.some(E$);m=[];for(var P=f;x(P,g);P+=b){var k;if(u)k=String.fromCharCode(P),k==="\\"&&(k="");else if(k=String(P),C){var q=y-k.length;if(q>0){var j=new Array(q+1).join("0");P<0?k="-"+j+k.slice(1):k=j+k}}m.push(k)}}else{m=[];for(var Q=0;Q<p.length;Q++)m.push.apply(m,Kc(p[Q],!1))}for(var Q=0;Q<m.length;Q++)for(var s=0;s<o.length;s++){var a=i+m[Q]+o[s];(!e||l||a)&&r.push(a)}}return r}});var pd=$((BQ,kg)=>{var Un=kg.exports=(t,e,r={})=>(dd(e),!r.nocomment&&e.charAt(0)==="#"?!1:new fa(e,r).match(t));kg.exports=Un;var Og=$T();Un.sep=Og.sep;var yi=Symbol("globstar **");Un.GLOBSTAR=yi;var R$=e0(),t0={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Ag="[^/]",Dg=Ag+"*?",P$="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",D$="(?:(?!(?:\\/|^)\\.).)*?",i0=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),r0=i0("().*{}+?[]^$\\!"),I$=i0("[.("),n0=/\/+/;Un.filter=(t,e={})=>(r,n,i)=>Un(r,t,e);var Eo=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Un.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Un;let e=Un,r=(n,i,o)=>e(n,i,Eo(t,o));return r.Minimatch=class extends e.Minimatch{constructor(i,o){super(i,Eo(t,o))}},r.Minimatch.defaults=n=>e.defaults(Eo(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,Eo(t,i)),r.defaults=n=>e.defaults(Eo(t,n)),r.makeRe=(n,i)=>e.makeRe(n,Eo(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,Eo(t,i)),r.match=(n,i,o)=>e.match(n,i,Eo(t,o)),r};Un.braceExpand=(t,e)=>o0(t,e);var o0=(t,e={})=>(dd(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:R$(t)),O$=1024*64,dd=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>O$)throw new TypeError("pattern is too long")},Ig=Symbol("subparse");Un.makeRe=(t,e)=>new fa(t,e||{}).makeRe();Un.match=(t,e,r={})=>{let n=new fa(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var A$=t=>t.replace(/\\(.)/g,"$1"),k$=t=>t.replace(/\\([^-\]])/g,"$1"),N$=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),q$=t=>t.replace(/[[\]\\]/g,"\\$&"),fa=class{constructor(e,r){dd(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(n0)),this.debug(this.pattern,n),n=n.map((i,o,s)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,s=0,a=e.length,c=r.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u=r[s],l=e[o];if(this.debug(r,u,l),u===!1)return!1;if(u===yi){this.debug("GLOBSTAR",[r,u,l]);var d=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;d<a;){var m=e[d];if(this.debug(`
globstar while`,e,d,r,p,m),this.matchOne(e.slice(d),r.slice(p),n))return this.debug("globstar found match!",d,a,m),!0;if(m==="."||m===".."||!i.dot&&m.charAt(0)==="."){this.debug("dot detected!",e,d,r,p);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,p),d===a))}var f;if(typeof u=="string"?(f=l===u,this.debug("string match",u,l,f)):(f=l.match(u),this.debug("pattern match",u,l,f)),!f)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return o0(this.pattern,this.options)}parse(e,r){dd(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return yi;if(e==="")return"";let i="",o=!1,s=!1,a=[],c=[],u,l=!1,d=-1,p=-1,m,f,g,y=e.charAt(0)===".",b=n.dot||y,x=()=>y?"":b?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=q=>q.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=()=>{if(u){switch(u){case"*":i+=Dg,o=!0;break;case"?":i+=Ag,o=!0;break;default:i+="\\"+u;break}this.debug("clearStateChar %j %j",u,i),u=!1}};for(let q=0,j;q<e.length&&(j=e.charAt(q));q++){if(this.debug("%s	%s %s %j",e,q,i,j),s){if(j==="/")return!1;r0[j]&&(i+="\\"),i+=j,s=!1;continue}switch(j){case"/":return!1;case"\\":if(l&&e.charAt(q+1)==="-"){i+=j;continue}C(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,q,i,j),l){this.debug("  in class"),j==="!"&&q===p+1&&(j="^"),i+=j;continue}this.debug("call clearStateChar %j",u),C(),u=j,n.noext&&C();continue;case"(":{if(l){i+="(";continue}if(!u){i+="\\(";continue}let Q={type:u,start:q-1,reStart:i.length,open:t0[u].open,close:t0[u].close};this.debug(this.pattern,"	",Q),a.push(Q),i+=Q.open,Q.start===0&&Q.type!=="!"&&(y=!0,i+=w(e.slice(q+1))),this.debug("plType %j %j",u,i),u=!1;continue}case")":{let Q=a[a.length-1];if(l||!Q){i+="\\)";continue}a.pop(),C(),o=!0,f=Q,i+=f.close,f.type==="!"&&c.push(Object.assign(f,{reEnd:i.length}));continue}case"|":{let Q=a[a.length-1];if(l||!Q){i+="\\|";continue}C(),i+="|",Q.start===0&&Q.type!=="!"&&(y=!0,i+=w(e.slice(q+1)));continue}case"[":if(C(),l){i+="\\"+j;continue}l=!0,p=q,d=i.length,i+=j;continue;case"]":if(q===p+1||!l){i+="\\"+j;continue}m=e.substring(p+1,q);try{RegExp("["+q$(k$(m))+"]"),i+=j}catch{i=i.substring(0,d)+"(?:$.)"}o=!0,l=!1;continue;default:C(),r0[j]&&!(j==="^"&&l)&&(i+="\\"),i+=j;break}}for(l&&(m=e.slice(p+1),g=this.parse(m,Ig),i=i.substring(0,d)+"\\["+g[0],o=o||g[1]),f=a.pop();f;f=a.pop()){let q;q=i.slice(f.reStart+f.open.length),this.debug("setting tail",i,f),q=q.replace(/((?:\\{2}){0,64})(\\?)\|/g,(Q,ne,X)=>(X||(X="\\"),ne+ne+X+"|")),this.debug(`tail=%j
   %s`,q,q,f,i);let j=f.type==="*"?Dg:f.type==="?"?Ag:"\\"+f.type;o=!0,i=i.slice(0,f.reStart)+j+"\\("+q}C(),s&&(i+="\\\\");let P=I$[i.charAt(0)];for(let q=c.length-1;q>-1;q--){let j=c[q],Q=i.slice(0,j.reStart),ne=i.slice(j.reStart,j.reEnd-8),X=i.slice(j.reEnd),H=i.slice(j.reEnd-8,j.reEnd)+X,ae=Q.split(")").length,ee=Q.split("(").length-ae,xe=X;for(let z=0;z<ee;z++)xe=xe.replace(/\)[+*?]?/,"");X=xe;let de=X===""&&r!==Ig?"(?:$|\\/)":"";i=Q+ne+X+de+H}if(i!==""&&o&&(i="(?=.)"+i),P&&(i=x()+i),r===Ig)return[i,o];if(n.nocase&&!o&&(o=e.toUpperCase()!==e.toLowerCase()),!o)return A$(e);let k=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",k),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Dg:r.dot?P$:D$,i=r.nocase?"i":"",o=e.map(s=>(s=s.map(a=>typeof a=="string"?N$(a):a===yi?yi:a._src).reduce((a,c)=>(a[a.length-1]===yi&&c===yi||a.push(c),a),[]),s.forEach((a,c)=>{a!==yi||s[c-1]===yi||(c===0?s.length>1?s[c+1]="(?:\\/|"+n+"\\/)?"+s[c+1]:s[c]=n:c===s.length-1?s[c-1]+="(?:\\/|"+n+")?":(s[c-1]+="(?:\\/|\\/"+n+"\\/)"+s[c+1],s[c+1]=yi))}),s.filter(a=>a!==yi).join("/"))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;Og.sep!=="/"&&(e=e.split(Og.sep).join("/")),e=e.split(n0),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let o;for(let s=e.length-1;s>=0&&(o=e[s],!o);s--);for(let s=0;s<i.length;s++){let a=i[s],c=e;if(n.matchBase&&a.length===1&&(c=[o]),this.matchOne(c,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Un.defaults(e).Minimatch}};Un.Minimatch=fa});var $g=$(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.DiagnosticFeature=So.DiagnosticPullMode=So.vsdiag=void 0;var M$=pd(),wt=require("vscode"),xr=it(),L$=lr(),Ng=Pt();function fd(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ni;(function(t){let e;(function(r){r.full="full",r.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(ni||(So.vsdiag=ni={}));var md;(function(t){t.onType="onType",t.onSave="onSave"})(md||(So.DiagnosticPullMode=md={}));var sn;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(sn||(sn={}));var qg=class t{constructor(){this.open=new Set,this._onOpen=new wt.EventEmitter,this._onClose=new wt.EventEmitter,t.fillTabResources(this.open);let e=r=>{if(r.closed.length===0&&r.opened.length===0)return;let n=this.open,i=new Set;t.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(wt.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(wt.Uri.parse(c));this._onOpen.fire(a)}};wt.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=wt.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof wt.Uri?wt.window.activeTextEditor?.document.uri===e:wt.window.activeTextEditor?.document===e}isVisible(e){let r=e instanceof wt.Uri?e:e.uri;return this.open.has(r.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,r){let n=e??new Set;for(let i of wt.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof wt.TabInputText?a=s.uri:s instanceof wt.TabInputTextDiff?a=s.modified:s instanceof wt.TabInputCustom&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),r!==void 0&&r.add(a))}}},Mr;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(Mr||(Mr={}));var Wi;(function(t){function e(r){return r instanceof wt.Uri?r.toString():r.uri.toString()}t.asKey=e})(Wi||(Wi={}));var Mg=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,r,n){let i=e===Mr.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=r instanceof wt.Uri?[r.toString(),r,n]:[r.uri.toString(),r.uri,r.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,r,n,i){let o=e===Mr.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=r instanceof wt.Uri?[r.toString(),r,n,i]:[r.uri.toString(),r.uri,r.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,r){let n=Wi.asKey(r);(e===Mr.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,r){let n=Wi.asKey(r);return(e===Mr.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,r){let n=Wi.asKey(r);return(e===Mr.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[r,n]of this.workspacePullStates)this.documentPullStates.has(r)&&(n=this.documentPullStates.get(r)),n.resultId!==void 0&&e.push({uri:r,value:n.resultId});return e}},Lg=class{constructor(e,r,n){this.client=e,this.tabs=r,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new wt.EventEmitter,this.provider=this.createProvider(),this.diagnostics=wt.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new Mg,this.workspaceErrorCounter=0}knows(e,r){let n=r instanceof wt.Uri?r:r.uri;return this.documentStates.tracks(e,r)||this.openRequests.has(n.toString())}forget(e,r){this.documentStates.unTrack(e,r)}pull(e,r){if(this.isDisposed)return;let n=e instanceof wt.Uri?e:e.uri;this.pullAsync(e).then(()=>{r&&r()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,r){if(this.isDisposed)return;let n=e instanceof wt.Uri,i=n?e:e.uri,o=i.toString();r=n?r:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(Mr.document,e,r):this.documentStates.track(Mr.document,e);if(s===void 0){let c=new wt.CancellationTokenSource;this.openRequests.set(o,{state:sn.active,document:e,version:r,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:ni.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof Ng.LSPCancellationError&&xr.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:sn.outDated,document:e}),l===void 0&&d instanceof wt.CancellationError)l={state:sn.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(Mr.document,e);return}if(l.state===sn.outDated)return;u!==void 0&&(u.kind===ni.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=r,a.resultId=u.resultId),l.state===sn.reschedule&&this.pull(e)}else s.state===sn.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:sn.reschedule,document:s.document})):s.state===sn.outDated&&this.openRequests.set(o,{state:sn.reschedule,document:s.document})}forgetDocument(e){let r=e instanceof wt.Uri?e:e.uri,n=r.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:sn.reschedule,document:e}):this.pull(e,()=>{this.forget(Mr.document,e)}):(i!==void 0&&(i.state===sn.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:sn.outDated,document:e})),this.diagnostics.delete(r),this.forget(Mr.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,xr.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Ng.LSPCancellationError)&&!xr.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,xr.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new wt.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(r=>({uri:this.client.protocol2CodeConverter.asUri(r.uri),value:r.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,r=>{if(!(!r||this.isDisposed))for(let n of r.items)n.kind===ni.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Mr.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(Mr.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(r,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof wt.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:ni.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(xr.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:ni.DocumentDiagnosticReportKind.full,items:[]}:d.kind===xr.DocumentDiagnosticReportKind.Full?{kind:ni.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:ni.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(xr.DocumentDiagnosticRequest.type,u,d,{kind:ni.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(r,n,i,o):o(r,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(r,n,i)=>{let o=async u=>u.kind===xr.DocumentDiagnosticReportKind.Full?{kind:ni.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:ni.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,L$.generateUuid)(),p=this.client.onProgress(xr.WorkspaceDiagnosticRequest.partialResult,d,async f=>{if(f==null){i(null);return}let g={items:[]};for(let y of f.items)try{g.items.push(await o(y))}catch(b){this.client.error("Converting workspace diagnostics failed.",b)}i(g)}),m={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(xr.WorkspaceDiagnosticRequest.type,m,l).then(async f=>{if(l.isCancellationRequested)return{items:[]};let g={items:[]};for(let y of f.items)g.items.push(await o(y));return p.dispose(),i(g),{items:[]}},f=>(p.dispose(),this.client.handleFailedRequest(xr.DocumentDiagnosticRequest.type,l,f,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(r,n,i,a):a(r,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,r]of this.openRequests)r.state===sn.active&&r.tokenSource.cancel(),this.openRequests.set(e,{state:sn.outDated,document:r.document});this.diagnostics.dispose()}},jg=class{constructor(e){this.diagnosticRequestor=e,this.documents=new xr.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let r=Wi.asKey(e);this.documents.has(r)||(this.documents.set(r,e,xr.Touch.Last),this.trigger())}remove(e){let r=Wi.asKey(e);this.documents.delete(r),this.documents.size===0?this.stop():r===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,xr.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let r=Wi.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(r,e,xr.Touch.Last),r===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Wi.asKey(this.endDocument):void 0}},Fg=class{constructor(e,r,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=f=>{let g=n.documentSelector;if(i.match!==void 0)return i.match(g,f);for(let y of g)if(xr.TextDocumentFilter.is(y)){if(typeof y=="string"||y.language!==void 0&&y.language!=="*"||y.scheme!==void 0&&y.scheme!=="*"&&y.scheme!==f.scheme)return!1;if(y.pattern!==void 0){let b=new M$.Minimatch(y.pattern,{noext:!0});if(!b.makeRe()||!b.match(f.fsPath))return!1}}return!0},c=f=>f instanceof wt.Uri?a(f):wt.languages.match(o,f)>0&&r.isVisible(f),u=f=>f instanceof wt.Uri?this.activeTextDocument?.uri.toString()===f.toString():this.activeTextDocument===f;this.diagnosticRequestor=new Lg(e,r,n),this.backgroundScheduler=new jg(this.diagnosticRequestor);let l=f=>{!c(f)||!n.interFileDependencies||u(f)||this.backgroundScheduler.add(f)};this.activeTextDocument=wt.window.activeTextEditor?.document,wt.window.onDidChangeActiveTextEditor(f=>{let g=this.activeTextDocument;this.activeTextDocument=f?.document,g!==void 0&&l(g),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(xr.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(f=>{let g=f.textDocument;this.diagnosticRequestor.knows(Mr.document,g)||c(g)&&this.diagnosticRequestor.pull(g,()=>{l(g)})})),s.push(r.onOpen(f=>{for(let g of f){if(this.diagnosticRequestor.knows(Mr.document,g))continue;let y=g.toString(),b;for(let x of wt.workspace.textDocuments)if(y===x.uri.toString()){b=x;break}b!==void 0&&c(b)&&this.diagnosticRequestor.pull(b,()=>{l(b)})}}));let p=new Set;for(let f of wt.workspace.textDocuments)c(f)&&(this.diagnosticRequestor.pull(f,()=>{l(f)}),p.add(f.uri.toString()));if(i.onTabs===!0)for(let f of r.getTabResources())!p.has(f.toString())&&c(f)&&this.diagnosticRequestor.pull(f,()=>{l(f)});if(i.onChange===!0){let f=e.getFeature(xr.DidChangeTextDocumentNotification.method);s.push(f.onNotificationSent(async g=>{let y=g.textDocument;(i.filter===void 0||!i.filter(y,md.onType))&&this.diagnosticRequestor.knows(Mr.document,y)&&this.diagnosticRequestor.pull(y,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let f=e.getFeature(xr.DidSaveTextDocumentNotification.method);s.push(f.onNotificationSent(g=>{let y=g.textDocument;(i.filter===void 0||!i.filter(y,md.onSave))&&this.diagnosticRequestor.knows(Mr.document,y)&&this.diagnosticRequestor.pull(g.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let m=e.getFeature(xr.DidCloseTextDocumentNotification.method);s.push(m.onNotificationSent(f=>{this.cleanUpDocument(f.textDocument)})),r.onClose(f=>{for(let g of f)this.cleanUpDocument(g)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let f of wt.workspace.textDocuments)c(f)&&this.diagnosticRequestor.pull(f)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=wt.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Mr.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Ug=class extends Ng.TextDocumentLanguageFeature{constructor(e){super(e,xr.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let r=fd(fd(e,"textDocument"),"diagnostic");r.dynamicRegistration=!0,r.relatedDocumentSupport=!1,fd(fd(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,r){this._client.onRequest(xr.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(r,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new qg);let r=new Fg(this._client,this.tabs,e);return[r.disposable,r]}};So.DiagnosticFeature=Ug});var c0=$(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.NotebookDocumentSyncFeature=void 0;var an=require("vscode"),j$=pd(),Gi=it(),F$=lr(),s0=Yn();function a0(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ma;(function(t){let e;(function(r){function n(p,m){return{version:p.version,uri:m.asUri(p.uri)}}r.asVersionedNotebookDocumentIdentifier=n;function i(p,m,f){let g=Gi.NotebookDocument.create(f.asUri(p.uri),p.notebookType,p.version,o(m,f));return Object.keys(p.metadata).length>0&&(g.metadata=s(p.metadata)),g}r.asNotebookDocument=i;function o(p,m){return p.map(f=>a(f,m))}r.asNotebookCells=o;function s(p){return u(new Set,p)}r.asMetadata=s;function a(p,m){let f=Gi.NotebookCell.create(c(p.kind),m.asUri(p.document.uri));return Object.keys(p.metadata).length>0&&(f.metadata=s(p.metadata)),p.executionSummary!==void 0&&s0.number(p.executionSummary.executionOrder)&&s0.boolean(p.executionSummary.success)&&(f.executionSummary={executionOrder:p.executionSummary.executionOrder,success:p.executionSummary.success}),f}r.asNotebookCell=a;function c(p){switch(p){case an.NotebookCellKind.Markup:return Gi.NotebookCellKind.Markup;case an.NotebookCellKind.Code:return Gi.NotebookCellKind.Code}}function u(p,m){if(p.has(m))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(m)){let f=[];for(let g of m)if(g!==null&&typeof g=="object"||Array.isArray(g))f.push(u(p,g));else{if(g instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");f.push(g)}return f}else{let f=Object.keys(m),g=Object.create(null);for(let y of f){let b=m[y];if(b!==null&&typeof b=="object"||Array.isArray(b))g[y]=u(p,b);else{if(b instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");g[y]=b}}return g}}function l(p,m){let f=m.asChangeTextDocumentParams(p,p.document.uri,p.document.version);return{document:f.textDocument,changes:f.contentChanges}}r.asTextContentChange=l;function d(p,m){let f=Object.create(null);if(p.metadata&&(f.metadata=t.c2p.asMetadata(p.metadata)),p.cells!==void 0){let g=Object.create(null),y=p.cells;y.structure&&(g.structure={array:{start:y.structure.array.start,deleteCount:y.structure.array.deleteCount,cells:y.structure.array.cells!==void 0?y.structure.array.cells.map(b=>t.c2p.asNotebookCell(b,m)):void 0},didOpen:y.structure.didOpen!==void 0?y.structure.didOpen.map(b=>m.asOpenTextDocumentParams(b.document).textDocument):void 0,didClose:y.structure.didClose!==void 0?y.structure.didClose.map(b=>m.asCloseTextDocumentParams(b.document).textDocument):void 0}),y.data!==void 0&&(g.data=y.data.map(b=>t.c2p.asNotebookCell(b,m))),y.textContent!==void 0&&(g.textContent=y.textContent.map(b=>t.c2p.asTextContentChange(b,m))),Object.keys(g).length>0&&(f.cells=g)}return f}r.asNotebookDocumentChangeEvent=d})(e=t.c2p||(t.c2p={}))})(ma||(ma={}));var Hg;(function(t){function e(a,c,u){let l=a.length,d=c.length,p=0;for(;p<d&&p<l&&r(a[p],c[p],u);)p++;if(p<d&&p<l){let m=l-1,f=d-1;for(;m>=0&&f>=0&&r(a[m],c[f],u);)m--,f--;let g=m+1-p,y=p===f+1?void 0:c.slice(p,f+1);return y!==void 0?{start:p,deleteCount:g,cells:y}:{start:p,deleteCount:g}}else return p<d?{start:p,deleteCount:0,cells:c.slice(p)}:p<l?{start:p,deleteCount:l-p}:void 0}t.computeDiff=e;function r(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),p=Object.keys(c);if(d.length!==p.length||(d.sort(),p.sort(),!o(d,p)))return!1;for(let m=0;m<d.length;m++){let f=d[m];if(!o(a[f],c[f]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=s})(Hg||(Hg={}));var Bg;(function(t){function e(r,n){if(typeof r=="string")return r==="*"||n.notebookType===r;if(r.notebookType!==void 0&&r.notebookType!=="*"&&n.notebookType!==r.notebookType)return!1;let i=n.uri;if(r.scheme!==void 0&&r.scheme!=="*"&&i.scheme!==r.scheme)return!1;if(r.pattern!==void 0){let o=new j$.Minimatch(r.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}t.matchNotebook=e})(Bg||(Bg={}));var hd;(function(t){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(r(a,c,u,l.language));else o.push(r(a,c,u,void 0))}return o}t.asDocumentSelector=e;function r(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(hd||(hd={}));var gd;(function(t){function e(r){return{cells:r,uris:new Set(r.map(n=>n.document.uri.toString()))}}t.create=e})(gd||(gd={}));var ha=class{constructor(e,r){this.client=e,this.options=r,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(hd.asDocumentSelector(r)),an.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of an.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);an.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&an.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),an.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of an.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return an.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,r){if(an.languages.match(this.selector,r.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,r);if(n!==void 0){let o=n.uris.has(r.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[r]).catch(()=>{})}didChangeNotebookCellTextDocument(e,r){an.languages.match(this.selector,r.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[r]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,r){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=r.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,r=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(r!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,r);i!==void 0&&this.doSendChange(i,r).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(r===void 0)return;this.doSendOpen(e,r).catch(()=>{})}}didChangeNotebookDocument(e){let r=e.notebook,n=this.notebookSyncInfo.get(r.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(r);if(i===void 0)return;this.didOpen(r,i,n)}else{let i=this.getMatchingCells(r);if(i===void 0){this.didClose(r,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,r=this.notebookSyncInfo.get(e.uri.toString())){if(r===void 0)return;let n=e.getCells().filter(i=>r.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let r=this.getMatchingCells(e);if(r!==void 0)return this.doSendOpen(e,r)}async doSendOpen(e,r){let n=async(o,s)=>{let a=ma.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Gi.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),gd.create(r)),i?.didOpen!==void 0?i.didOpen(e,r,n):n(e,r)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,r=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(Gi.DidChangeNotebookDocumentNotification.type,{notebookDocument:ma.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:ma.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),gd.create(r??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let r=async i=>{try{await this.client.sendNotification(Gi.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,r):r(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,r){let n=async(o,s)=>{try{await this.client.sendNotification(Gi.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,r,n):n(e,r)}asNotebookDocumentChangeEvent(e,r,n,i){if(r!==void 0&&r.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};r?.metadata!==void 0&&(o.metadata=ma.c2p.asMetadata(r.metadata));let s;if(r?.cellChanges!==void 0&&r.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of r.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((r?.contentChanges!==void 0&&r.contentChanges.length>0||r===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=Hg.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(f=>[f.document.uri.toString(),f])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(f=>[f.document.uri.toString(),f]));for(let f of Array.from(d.keys()))l.has(f)&&(d.delete(f),l.delete(f));o.cells=o.cells??{};let p=[],m=[];if(l.size>0||d.size>0){for(let f of l.values())p.push(f);for(let f of d.values())m.push(f)}o.cells.structure={array:u,didOpen:p,didClose:m}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,r=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Bg.matchNotebook(n.notebook,e)){let i=this.filterCells(e,r,n.cells);return i.length===0?void 0:i}}}cellMatches(e,r){let n=this.getMatchingCells(e,[r]);return n!==void 0&&n[0]===r}filterCells(e,r,n){let i=n!==void 0?r.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):r;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},vd=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Gi.NotebookDocumentSyncRegistrationType.type,an.workspace.onDidOpenTextDocument(r=>{if(r.uri.scheme!==t.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(r);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof ha&&o.didOpenNotebookCellTextDocument(n,i)}),an.workspace.onDidChangeTextDocument(r=>{if(r.contentChanges.length===0)return;let n=r.document;if(n.uri.scheme!==t.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof ha&&o.didChangeNotebookCellTextDocument(i,r)}),an.workspace.onDidCloseTextDocument(r=>{if(r.uri.scheme!==t.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(r);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof ha&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let r=e.getState();if(r.kind==="document"&&r.registrations===!0&&r.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let r=a0(a0(e,"notebookDocument"),"synchronization");r.dynamicRegistration=!0,r.executionSummarySupport=!0}preInitialize(e){let r=e.notebookDocumentSync;r!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(hd.asDocumentSelector(r)))}initialize(e){let r=e.notebookDocumentSync;if(r===void 0)return;let n=r.id??F$.generateUuid();this.register({id:n,registerOptions:r})}register(e){let r=new ha(this.client,e.registerOptions);this.registrations.set(e.id,r)}unregister(e){let r=this.registrations.get(e);r&&r.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&an.languages.match(this.dedicatedChannel,e)>0)return!0;for(let r of this.registrations.values())if(r.handles(e))return!0;return!1}getProvider(e){for(let r of this.registrations.values())if(r.handles(e.document))return r}findNotebookDocumentAndCell(e){let r=e.uri.toString();for(let n of an.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===r)return[n,i];return[void 0,void 0]}};yd.NotebookDocumentSyncFeature=vd;vd.CellScheme="vscode-notebook-cell"});var l0=$(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.SyncConfigurationFeature=To.toJSONObject=To.ConfigurationFeature=void 0;var ga=require("vscode"),Xc=it(),U$=Yn(),$$=lr(),u0=Pt(),zg=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Xc.ConfigurationRequest.type,(r,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(r,n,i):i(r,n)})}getConfiguration(e,r){let n=null;if(r){let i=r.lastIndexOf(".");if(i===-1)n=rs(ga.workspace.getConfiguration(void 0,e).get(r));else{let o=ga.workspace.getConfiguration(r.substr(0,i),e);o&&(n=rs(o.get(r.substr(i+1))))}}else{let i=ga.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=rs(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};To.ConfigurationFeature=zg;function rs(t){if(t){if(Array.isArray(t))return t.map(rs);if(typeof t=="object"){let e=Object.create(null);for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=rs(t[r]));return e}}return t}To.toJSONObject=rs;var Vg=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Xc.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,u0.ensure)((0,u0.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:$$.generateUuid(),registerOptions:{section:e}})}register(e){let r=ga.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,r),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let r=this._listeners.get(e);r&&(this._listeners.delete(e),r.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,r){if(this.isCleared)return;let n;if(U$.string(e)?n=[e]:n=e,n!==void 0&&r!==void 0&&!n.some(a=>r.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(Xc.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(Xc.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${Xc.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function r(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=ga.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=ga.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");r(i,u)[u[u.length-1]]=rs(c)}}return i}};To.SyncConfigurationFeature=Vg});var d0=$(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.DidSaveTextDocumentFeature=Dn.WillSaveWaitUntilFeature=Dn.WillSaveFeature=Dn.DidChangeTextDocumentFeature=Dn.DidCloseTextDocumentFeature=Dn.DidOpenTextDocumentFeature=void 0;var $n=require("vscode"),Xt=it(),fr=Pt(),va=lr(),Wg=class extends fr.TextDocumentEventFeature{constructor(e,r){super(e,$n.workspace.onDidOpenTextDocument,Xt.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,fr.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=r}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,fr.ensure)((0,fr.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:va.generateUuid(),registerOptions:{documentSelector:r}})}get registrationType(){return Xt.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let r=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);$n.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&$n.languages.match(r,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}getTextDocument(e){return e}notificationSent(e,r,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,r,n)}};Dn.DidOpenTextDocumentFeature=Wg;var Gg=class extends fr.TextDocumentEventFeature{constructor(e,r,n){super(e,$n.workspace.onDidCloseTextDocument,Xt.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,fr.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=r,this._pendingTextDocumentChanges=n}get registrationType(){return Xt.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,fr.ensure)((0,fr.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:va.generateUuid(),registerOptions:{documentSelector:r}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,r,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,r,n)}unregister(e){let r=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if($n.languages.match(r,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Dn.DidCloseTextDocumentFeature=Gg;var Kg=class extends fr.DynamicDocumentFeature{constructor(e,r){super(e),this._changeData=new Map,this._onNotificationSent=new $n.EventEmitter,this._onPendingChangeAdded=new $n.EventEmitter,this._pendingTextDocumentChanges=r,this._syncKind=Xt.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Xt.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,fr.ensure)((0,fr.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.change!==void 0&&n.change!==Xt.TextDocumentSyncKind.None&&this.register({id:va.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=$n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let r=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if($n.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===Xt.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,r,n);await this._client.sendNotification(Xt.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,Xt.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===Xt.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${Xt.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,r,n){this._onNotificationSent.fire({textDocument:e,type:r,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Xt.TextDocumentSyncKind.None;else{this._syncKind=Xt.TextDocumentSyncKind.None;for(let r of this._changeData.values())if(this.updateSyncKind(r.syncKind),this._syncKind===Xt.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Xt.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let r;if(e.size===0)r=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{r=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(r.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return r}getProvider(e){for(let r of this._changeData.values())if($n.languages.match(r.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==Xt.TextDocumentSyncKind.Full)switch(e){case Xt.TextDocumentSyncKind.Full:this._syncKind=e;break;case Xt.TextDocumentSyncKind.Incremental:this._syncKind===Xt.TextDocumentSyncKind.None&&(this._syncKind=Xt.TextDocumentSyncKind.Incremental);break}}};Dn.DidChangeTextDocumentFeature=Kg;var Xg=class extends fr.TextDocumentEventFeature{constructor(e){super(e,$n.workspace.onWillSaveTextDocument,Xt.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,r=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(r),r=>r.document,(r,n)=>fr.TextDocumentEventFeature.textDocumentFilter(r,n.document))}get registrationType(){return Xt.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let r=(0,fr.ensure)((0,fr.ensure)(e,"textDocument"),"synchronization");r.willSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSave&&this.register({id:va.generateUuid(),registerOptions:{documentSelector:r}})}getTextDocument(e){return e.document}};Dn.WillSaveFeature=Xg;var Qg=class extends fr.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Xt.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let r=(0,fr.ensure)((0,fr.ensure)(e,"textDocument"),"synchronization");r.willSaveWaitUntil=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSaveWaitUntil&&this.register({id:va.generateUuid(),registerOptions:{documentSelector:r}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=$n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(fr.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let r=this._client.middleware,n=i=>this._client.sendRequest(Xt.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(r.willSaveWaitUntil?r.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Dn.WillSaveWaitUntilFeature=Qg;var Zg=class extends fr.TextDocumentEventFeature{constructor(e){super(e,$n.workspace.onDidSaveTextDocument,Xt.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,r=>e.code2ProtocolConverter.asSaveTextDocumentParams(r,this._includeText),r=>r,fr.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Xt.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,fr.ensure)((0,fr.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;if(r&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:va.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Dn.DidSaveTextDocumentFeature=Zg});var p0=$(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.CompletionItemFeature=void 0;var H$=require("vscode"),Ct=it(),Yg=Pt(),B$=lr(),z$=[Ct.CompletionItemKind.Text,Ct.CompletionItemKind.Method,Ct.CompletionItemKind.Function,Ct.CompletionItemKind.Constructor,Ct.CompletionItemKind.Field,Ct.CompletionItemKind.Variable,Ct.CompletionItemKind.Class,Ct.CompletionItemKind.Interface,Ct.CompletionItemKind.Module,Ct.CompletionItemKind.Property,Ct.CompletionItemKind.Unit,Ct.CompletionItemKind.Value,Ct.CompletionItemKind.Enum,Ct.CompletionItemKind.Keyword,Ct.CompletionItemKind.Snippet,Ct.CompletionItemKind.Color,Ct.CompletionItemKind.File,Ct.CompletionItemKind.Reference,Ct.CompletionItemKind.Folder,Ct.CompletionItemKind.EnumMember,Ct.CompletionItemKind.Constant,Ct.CompletionItemKind.Struct,Ct.CompletionItemKind.Event,Ct.CompletionItemKind.Operator,Ct.CompletionItemKind.TypeParameter],Jg=class extends Yg.TextDocumentLanguageFeature{constructor(e){super(e,Ct.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let r=(0,Yg.ensure)((0,Yg.ensure)(e,"textDocument"),"completion");r.dynamicRegistration=!0,r.contextSupport=!0,r.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Ct.MarkupKind.Markdown,Ct.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Ct.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Ct.InsertTextMode.asIs,Ct.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},r.insertTextMode=Ct.InsertTextMode.adjustIndentation,r.completionItemKind={valueSet:z$},r.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,r){let n=this.getRegistrationOptions(r,e.completionProvider);n&&this.register({id:B$.generateUuid(),registerOptions:n})}registerLanguageProvider(e,r){this.labelDetailsSupport.set(r,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,p=this._client.middleware,m=(f,g,y,b)=>d.sendRequest(Ct.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(f,g,y),b).then(x=>b.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(x,i,b),x=>d.handleFailedRequest(Ct.CompletionRequest.type,b,x,null));return p.provideCompletionItem?p.provideCompletionItem(a,c,l,u,m):m(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(p,m)=>u.sendRequest(Ct.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(p,!!this.labelDetailsSupport.get(r)),m).then(f=>m.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(f),f=>u.handleFailedRequest(Ct.CompletionResolveRequest.type,m,f,p));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[H$.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};bd.CompletionItemFeature=Jg});var f0=$(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.HoverFeature=void 0;var V$=require("vscode"),Qc=it(),ev=Pt(),W$=lr(),tv=class extends ev.TextDocumentLanguageFeature{constructor(e){super(e,Qc.HoverRequest.type)}fillClientCapabilities(e){let r=(0,ev.ensure)((0,ev.ensure)(e,"textDocument"),"hover");r.dynamicRegistration=!0,r.contentFormat=[Qc.MarkupKind.Markdown,Qc.MarkupKind.PlainText]}initialize(e,r){let n=this.getRegistrationOptions(r,e.hoverProvider);n&&this.register({id:W$.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(Qc.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asHover(m),m=>a.handleFailedRequest(Qc.HoverRequest.type,p,m,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return V$.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};_d.HoverFeature=tv});var m0=$(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.DefinitionFeature=void 0;var G$=require("vscode"),rv=it(),nv=Pt(),K$=lr(),iv=class extends nv.TextDocumentLanguageFeature{constructor(e){super(e,rv.DefinitionRequest.type)}fillClientCapabilities(e){let r=(0,nv.ensure)((0,nv.ensure)(e,"textDocument"),"definition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.definitionProvider);n&&this.register({id:K$.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(rv.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,p),m=>a.handleFailedRequest(rv.DefinitionRequest.type,p,m,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return G$.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};xd.DefinitionFeature=iv});var g0=$(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.SignatureHelpFeature=void 0;var h0=require("vscode"),Zc=it(),ov=Pt(),X$=lr(),sv=class extends ov.TextDocumentLanguageFeature{constructor(e){super(e,Zc.SignatureHelpRequest.type)}fillClientCapabilities(e){let r=(0,ov.ensure)((0,ov.ensure)(e,"textDocument"),"signatureHelp");r.dynamicRegistration=!0,r.signatureInformation={documentationFormat:[Zc.MarkupKind.Markdown,Zc.MarkupKind.PlainText]},r.signatureInformation.parameterInformation={labelOffsetSupport:!0},r.signatureInformation.activeParameterSupport=!0,r.contextSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.signatureHelpProvider);n&&this.register({id:X$.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,p,m)=>a.sendRequest(Zc.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,p),m).then(f=>m.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(f,m),f=>a.handleFailedRequest(Zc.SignatureHelpRequest.type,m,f,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,r),r]}registerProvider(e,r){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return h0.languages.registerSignatureHelpProvider(n,r,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return h0.languages.registerSignatureHelpProvider(n,r,i)}}};wd.SignatureHelpFeature=sv});var v0=$(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.DocumentHighlightFeature=void 0;var Q$=require("vscode"),av=it(),cv=Pt(),Z$=lr(),uv=class extends cv.TextDocumentLanguageFeature{constructor(e){super(e,av.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,cv.ensure)((0,cv.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentHighlightProvider);n&&this.register({id:Z$.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(av.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(m,p),m=>a.handleFailedRequest(av.DocumentHighlightRequest.type,p,m,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[Q$.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Cd.DocumentHighlightFeature=uv});var pv=$(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.DocumentSymbolFeature=Ni.SupportedSymbolTags=Ni.SupportedSymbolKinds=void 0;var Y$=require("vscode"),Ft=it(),lv=Pt(),J$=lr();Ni.SupportedSymbolKinds=[Ft.SymbolKind.File,Ft.SymbolKind.Module,Ft.SymbolKind.Namespace,Ft.SymbolKind.Package,Ft.SymbolKind.Class,Ft.SymbolKind.Method,Ft.SymbolKind.Property,Ft.SymbolKind.Field,Ft.SymbolKind.Constructor,Ft.SymbolKind.Enum,Ft.SymbolKind.Interface,Ft.SymbolKind.Function,Ft.SymbolKind.Variable,Ft.SymbolKind.Constant,Ft.SymbolKind.String,Ft.SymbolKind.Number,Ft.SymbolKind.Boolean,Ft.SymbolKind.Array,Ft.SymbolKind.Object,Ft.SymbolKind.Key,Ft.SymbolKind.Null,Ft.SymbolKind.EnumMember,Ft.SymbolKind.Struct,Ft.SymbolKind.Event,Ft.SymbolKind.Operator,Ft.SymbolKind.TypeParameter];Ni.SupportedSymbolTags=[Ft.SymbolTag.Deprecated];var dv=class extends lv.TextDocumentLanguageFeature{constructor(e){super(e,Ft.DocumentSymbolRequest.type)}fillClientCapabilities(e){let r=(0,lv.ensure)((0,lv.ensure)(e,"textDocument"),"documentSymbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:Ni.SupportedSymbolKinds},r.hierarchicalDocumentSymbolSupport=!0,r.tagSupport={valueSet:Ni.SupportedSymbolTags},r.labelSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentSymbolProvider);n&&this.register({id:J$.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let p=await a.sendRequest(Ft.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||p===void 0||p===null)return null;if(p.length===0)return[];{let m=p[0];return Ft.DocumentSymbol.is(m)?await a.protocol2CodeConverter.asDocumentSymbols(p,d):await a.protocol2CodeConverter.asSymbolInformations(p,d)}}catch(p){return a.handleFailedRequest(Ft.DocumentSymbolRequest.type,d,p,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Y$.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,i),n]}};Ni.DocumentSymbolFeature=dv});var b0=$(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.WorkspaceSymbolFeature=void 0;var eH=require("vscode"),Yc=it(),fv=Pt(),y0=pv(),tH=lr(),mv=class extends fv.WorkspaceFeature{constructor(e){super(e,Yc.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let r=(0,fv.ensure)((0,fv.ensure)(e,"workspace"),"symbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:y0.SupportedSymbolKinds},r.tagSupport={valueSet:y0.SupportedSymbolTags},r.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:tH.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let r={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(Yc.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(Yc.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(Yc.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(Yc.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[eH.languages.registerWorkspaceSymbolProvider(r),r]}};Ed.WorkspaceSymbolFeature=mv});var _0=$(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.ReferencesFeature=void 0;var rH=require("vscode"),hv=it(),gv=Pt(),nH=lr(),vv=class extends gv.TextDocumentLanguageFeature{constructor(e){super(e,hv.ReferencesRequest.type)}fillClientCapabilities(e){(0,gv.ensure)((0,gv.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.referencesProvider);n&&this.register({id:nH.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,p,m,f)=>c.sendRequest(hv.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,p,m),f).then(g=>f.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(g,f),g=>c.handleFailedRequest(hv.ReferencesRequest.type,f,g,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return rH.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Sd.ReferencesFeature=vv});var x0=$(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.CodeActionFeature=void 0;var iH=require("vscode"),Hn=it(),oH=lr(),yv=Pt(),bv=class extends yv.TextDocumentLanguageFeature{constructor(e){super(e,Hn.CodeActionRequest.type)}fillClientCapabilities(e){let r=(0,yv.ensure)((0,yv.ensure)(e,"textDocument"),"codeAction");r.dynamicRegistration=!0,r.isPreferredSupport=!0,r.disabledSupport=!0,r.dataSupport=!0,r.resolveSupport={properties:["edit"]},r.codeActionLiteralSupport={codeActionKind:{valueSet:[Hn.CodeActionKind.Empty,Hn.CodeActionKind.QuickFix,Hn.CodeActionKind.Refactor,Hn.CodeActionKind.RefactorExtract,Hn.CodeActionKind.RefactorInline,Hn.CodeActionKind.RefactorRewrite,Hn.CodeActionKind.Source,Hn.CodeActionKind.SourceOrganizeImports]}},r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.codeActionProvider);n&&this.register({id:oH.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,p,m,f)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContextSync(m)};return c.sendRequest(Hn.CodeActionRequest.type,g,f).then(y=>f.isCancellationRequested||y===null||y===void 0?null:c.protocol2CodeConverter.asCodeActionResult(y,f),y=>c.handleFailedRequest(Hn.CodeActionRequest.type,f,y,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Hn.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Hn.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[iH.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};Td.CodeActionFeature=bv});var C0=$(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.CodeLensFeature=void 0;var w0=require("vscode"),ya=it(),sH=lr(),Jc=Pt(),_v=class extends Jc.TextDocumentLanguageFeature{constructor(e){super(e,ya.CodeLensRequest.type)}fillClientCapabilities(e){(0,Jc.ensure)((0,Jc.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Jc.ensure)((0,Jc.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,r){this._client.onRequest(ya.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(r,e.codeLensProvider);i&&this.register({id:sH.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new w0.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(ya.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(p=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(p,d),p=>a.handleFailedRequest(ya.CodeLensRequest.type,d,p,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(ya.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(p=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(p),p=>a.handleFailedRequest(ya.CodeLensResolveRequest.type,d,p,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[w0.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Rd.CodeLensFeature=_v});var E0=$(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.DocumentOnTypeFormattingFeature=Ro.DocumentRangeFormattingFeature=Ro.DocumentFormattingFeature=void 0;var Pd=require("vscode"),bi=it(),Ev=lr(),Ki=Pt(),ba;(function(t){function e(r){let n=Pd.workspace.getConfiguration("files",r);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}t.fromConfiguration=e})(ba||(ba={}));var xv=class extends Ki.TextDocumentLanguageFeature{constructor(e){super(e,bi.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Ki.ensure)((0,Ki.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentFormattingProvider);n&&this.register({id:Ev.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,p)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,ba.fromConfiguration(l))};return a.sendRequest(bi.DocumentFormattingRequest.type,m,p).then(f=>p.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(f,p),f=>a.handleFailedRequest(bi.DocumentFormattingRequest.type,p,f,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[Pd.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Ro.DocumentFormattingFeature=xv;var wv=class extends Ki.TextDocumentLanguageFeature{constructor(e){super(e,bi.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let r=(0,Ki.ensure)((0,Ki.ensure)(e,"textDocument"),"rangeFormatting");r.dynamicRegistration=!0,r.rangesSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentRangeFormattingProvider);n&&this.register({id:Ev.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,p,m,f)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(m,ba.fromConfiguration(d))};return c.sendRequest(bi.DocumentRangeFormattingRequest.type,g,f).then(y=>f.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(y,f),y=>c.handleFailedRequest(bi.DocumentRangeFormattingRequest.type,f,y,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,p,m,f)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(p),options:c.code2ProtocolConverter.asFormattingOptions(m,ba.fromConfiguration(d))};return c.sendRequest(bi.DocumentRangesFormattingRequest.type,g,f).then(y=>f.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(y,f),y=>c.handleFailedRequest(bi.DocumentRangesFormattingRequest.type,f,y,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[Pd.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Ro.DocumentRangeFormattingFeature=wv;var Cv=class extends Ki.TextDocumentLanguageFeature{constructor(e){super(e,bi.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Ki.ensure)((0,Ki.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentOnTypeFormattingProvider);n&&this.register({id:Ev.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(m,f,g,y,b)=>{let x={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m),position:l.code2ProtocolConverter.asPosition(f),ch:g,options:l.code2ProtocolConverter.asFormattingOptions(y,ba.fromConfiguration(m))};return l.sendRequest(bi.DocumentOnTypeFormattingRequest.type,x,b).then(w=>b.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(w,b),w=>l.handleFailedRequest(bi.DocumentOnTypeFormattingRequest.type,b,w,null))},p=l.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[Pd.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,e.firstTriggerCharacter,...i),n]}};Ro.DocumentOnTypeFormattingFeature=Cv});var T0=$(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.RenameFeature=void 0;var aH=require("vscode"),ns=it(),cH=lr(),S0=Yn(),Sv=Pt(),Tv=class extends Sv.TextDocumentLanguageFeature{constructor(e){super(e,ns.RenameRequest.type)}fillClientCapabilities(e){let r=(0,Sv.ensure)((0,Sv.ensure)(e,"textDocument"),"rename");r.dynamicRegistration=!0,r.prepareSupport=!0,r.prepareSupportDefaultBehavior=ns.PrepareSupportDefaultBehavior.Identifier,r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.renameProvider);n&&(S0.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:cH.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let r=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,p,m,f)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(p),newName:m};return c.sendRequest(ns.RenameRequest.type,g,f).then(y=>f.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(y,f),y=>c.handleFailedRequest(ns.RenameRequest.type,f,y,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,p)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(ns.PrepareRenameRequest.type,m,p).then(f=>p.isCancellationRequested?null:ns.Range.is(f)?a.protocol2CodeConverter.asRange(f):this.isDefaultBehavior(f)?f.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):f&&ns.Range.is(f.range)?{range:a.protocol2CodeConverter.asRange(f.range),placeholder:f.placeholder}:Promise.reject(new Error("The element can't be renamed.")),f=>{throw typeof f.message=="string"?new Error(f.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(r,n),n]}registerProvider(e,r){return aH.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}isDefaultBehavior(e){let r=e;return r&&S0.boolean(r.defaultBehavior)}};Dd.RenameFeature=Tv});var R0=$(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.DocumentLinkFeature=void 0;var uH=require("vscode"),eu=it(),Rv=Pt(),lH=lr(),Pv=class extends Rv.TextDocumentLanguageFeature{constructor(e){super(e,eu.DocumentLinkRequest.type)}fillClientCapabilities(e){let r=(0,Rv.ensure)((0,Rv.ensure)(e,"textDocument"),"documentLink");r.dynamicRegistration=!0,r.tooltipSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentLinkProvider);n&&this.register({id:lH.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(eu.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(eu.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(eu.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(eu.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[uH.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Id.DocumentLinkFeature=Pv});var D0=$(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.ExecuteCommandFeature=void 0;var dH=require("vscode"),Dv=it(),pH=lr(),P0=Pt(),Iv=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Dv.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,P0.ensure)((0,P0.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:pH.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let r=this._client,n=r.middleware,i=(o,s)=>{let a={command:o,arguments:s};return r.sendRequest(Dv.ExecuteCommandRequest.type,a).then(void 0,c=>r.handleFailedRequest(Dv.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(dH.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let r=this._commands.get(e);r&&r.forEach(n=>n.dispose())}clear(){this._commands.forEach(e=>{e.forEach(r=>r.dispose())}),this._commands.clear()}};Od.ExecuteCommandFeature=Iv});var I0=$(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.FileSystemWatcherFeature=void 0;var fH=require("vscode"),is=it(),Ad=Pt(),Ov=class{constructor(e,r){this._client=e,this._notifyFileEvent=r,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return is.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Ad.ensure)((0,Ad.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Ad.ensure)((0,Ad.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,r){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let r=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&is.WatchKind.Create)!==0,s=(n.kind&is.WatchKind.Change)!==0,a=(n.kind&is.WatchKind.Delete)!==0);let c=fH.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,r),r.push(c)}this._watchers.set(e.id,r)}registerRaw(e,r){let n=[];for(let i of r)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,r,n,i,o){r&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:is.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:is.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:is.FileChangeType.Deleted}),null,o)}unregister(e){let r=this._watchers.get(e);if(r)for(let n of r)n.dispose()}clear(){this._watchers.forEach(e=>{for(let r of e)r.dispose()}),this._watchers.clear()}};kd.FileSystemWatcherFeature=Ov});var O0=$(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.ColorProviderFeature=void 0;var mH=require("vscode"),tu=it(),Av=Pt(),kv=class extends Av.TextDocumentLanguageFeature{constructor(e){super(e,tu.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Av.ensure)((0,Av.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,p)=>{let m={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(tu.ColorPresentationRequest.type,m,p).then(f=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(f,p),f=>a.handleFailedRequest(tu.ColorPresentationRequest.type,p,f,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(tu.DocumentColorRequest.type,d,l).then(p=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(p,l),p=>s.handleFailedRequest(tu.DocumentColorRequest.type,l,p,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[mH.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Nd.ColorProviderFeature=kv});var A0=$(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.ImplementationFeature=void 0;var hH=require("vscode"),Nv=it(),qv=Pt(),Mv=class extends qv.TextDocumentLanguageFeature{constructor(e){super(e,Nv.ImplementationRequest.type)}fillClientCapabilities(e){let r=(0,qv.ensure)((0,qv.ensure)(e,"textDocument"),"implementation");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(Nv.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,p),m=>a.handleFailedRequest(Nv.ImplementationRequest.type,p,m,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return hH.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};qd.ImplementationFeature=Mv});var k0=$(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.TypeDefinitionFeature=void 0;var gH=require("vscode"),Lv=it(),ru=Pt(),jv=class extends ru.TextDocumentLanguageFeature{constructor(e){super(e,Lv.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ru.ensure)((0,ru.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let r=(0,ru.ensure)((0,ru.ensure)(e,"textDocument"),"typeDefinition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(Lv.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(m,p),m=>a.handleFailedRequest(Lv.TypeDefinitionRequest.type,p,m,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return gH.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Md.TypeDefinitionFeature=jv});var N0=$(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.WorkspaceFoldersFeature=_a.arrayDiff=void 0;var vH=lr(),Ld=require("vscode"),nu=it();function Fv(t,e){if(t!=null)return t[e]}function Uv(t,e){return t.filter(r=>e.indexOf(r)<0)}_a.arrayDiff=Uv;var $v=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return nu.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let r=Ld.workspace.workspaceFolders;this.initializeWithFolders(r),r===void 0?e.workspaceFolders=null:e.workspaceFolders=r.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let r=this._client;r.onRequest(nu.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=Ld.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=r.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=Fv(Fv(Fv(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=vH.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let r;if(this._initialFolders&&e){let n=Uv(this._initialFolders,e),i=Uv(e,this._initialFolders);(i.length>0||n.length>0)&&(r=this.doSendEvent(i,n))}else this._initialFolders?r=this.doSendEvent([],this._initialFolders):e&&(r=this.doSendEvent(e,[]));r!==void 0&&r.catch(n=>{this._client.error(`Sending notification ${nu.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,r){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:r.map(i=>this.asProtocol(i))}};return this._client.sendNotification(nu.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let r=e.id,n=this._client,i=Ld.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${nu.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(r,i),this.sendInitialEvent(Ld.workspace.workspaceFolders)}unregister(e){let r=this._listeners.get(e);r!==void 0&&(this._listeners.delete(e),r.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};_a.WorkspaceFoldersFeature=$v});var M0=$(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.FoldingRangeFeature=void 0;var q0=require("vscode"),os=it(),iu=Pt(),Hv=class extends iu.TextDocumentLanguageFeature{constructor(e){super(e,os.FoldingRangeRequest.type)}fillClientCapabilities(e){let r=(0,iu.ensure)((0,iu.ensure)(e,"textDocument"),"foldingRange");r.dynamicRegistration=!0,r.rangeLimit=5e3,r.lineFoldingOnly=!0,r.foldingRangeKind={valueSet:[os.FoldingRangeKind.Comment,os.FoldingRangeKind.Imports,os.FoldingRangeKind.Region]},r.foldingRange={collapsedText:!1},(0,iu.ensure)((0,iu.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,r){this._client.onRequest(os.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(r,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new q0.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,p,m)=>{let f={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(os.FoldingRangeRequest.type,f,m).then(g=>m.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(g,m),g=>c.handleFailedRequest(os.FoldingRangeRequest.type,m,g,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[q0.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),i),{provider:i,onDidChangeFoldingRange:n}]}};jd.FoldingRangeFeature=Hv});var L0=$(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.DeclarationFeature=void 0;var yH=require("vscode"),Bv=it(),zv=Pt(),Vv=class extends zv.TextDocumentLanguageFeature{constructor(e){super(e,Bv.DeclarationRequest.type)}fillClientCapabilities(e){let r=(0,zv.ensure)((0,zv.ensure)(e,"textDocument"),"declaration");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(Bv.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(m,p),m=>a.handleFailedRequest(Bv.DeclarationRequest.type,p,m,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return yH.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Fd.DeclarationFeature=Vv});var j0=$(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.SelectionRangeFeature=void 0;var bH=require("vscode"),Wv=it(),Gv=Pt(),Kv=class extends Gv.TextDocumentLanguageFeature{constructor(e){super(e,Wv.SelectionRangeRequest.type)}fillClientCapabilities(e){let r=(0,Gv.ensure)((0,Gv.ensure)(e,"textDocument"),"selectionRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,p)=>{let m={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,p)};return a.sendRequest(Wv.SelectionRangeRequest.type,m,p).then(f=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(f,p),f=>a.handleFailedRequest(Wv.SelectionRangeRequest.type,p,f,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return bH.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Ud.SelectionRangeFeature=Kv});var U0=$($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.ProgressFeature=void 0;var F0=it(),_H=xg();function xH(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Xv=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:F0.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){xH(e,"window").workDoneProgress=!0}initialize(){let e=this._client,r=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new _H.ProgressPart(this._client,i.token,r))};e.onRequest(F0.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};$d.ProgressFeature=Xv});var $0=$(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.CallHierarchyFeature=void 0;var wH=require("vscode"),ss=it(),Qv=Pt(),Zv=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,r,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(ss.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(ss.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,r,n,s):s(e,r,n)}provideCallHierarchyIncomingCalls(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(ss.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(ss.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,r,o):o(e,r)}provideCallHierarchyOutgoingCalls(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(ss.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(ss.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,r,o):o(e,r)}},Yv=class extends Qv.TextDocumentLanguageFeature{constructor(e){super(e,ss.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=e,n=(0,Qv.ensure)((0,Qv.ensure)(r,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new Zv(r);return[wH.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Hd.CallHierarchyFeature=Yv});var H0=$(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.SemanticTokensFeature=void 0;var Bd=require("vscode"),pt=it(),ou=Pt(),CH=Yn(),Jv=class extends ou.TextDocumentLanguageFeature{constructor(e){super(e,pt.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let r=(0,ou.ensure)((0,ou.ensure)(e,"textDocument"),"semanticTokens");r.dynamicRegistration=!0,r.tokenTypes=[pt.SemanticTokenTypes.namespace,pt.SemanticTokenTypes.type,pt.SemanticTokenTypes.class,pt.SemanticTokenTypes.enum,pt.SemanticTokenTypes.interface,pt.SemanticTokenTypes.struct,pt.SemanticTokenTypes.typeParameter,pt.SemanticTokenTypes.parameter,pt.SemanticTokenTypes.variable,pt.SemanticTokenTypes.property,pt.SemanticTokenTypes.enumMember,pt.SemanticTokenTypes.event,pt.SemanticTokenTypes.function,pt.SemanticTokenTypes.method,pt.SemanticTokenTypes.macro,pt.SemanticTokenTypes.keyword,pt.SemanticTokenTypes.modifier,pt.SemanticTokenTypes.comment,pt.SemanticTokenTypes.string,pt.SemanticTokenTypes.number,pt.SemanticTokenTypes.regexp,pt.SemanticTokenTypes.operator,pt.SemanticTokenTypes.decorator],r.tokenModifiers=[pt.SemanticTokenModifiers.declaration,pt.SemanticTokenModifiers.definition,pt.SemanticTokenModifiers.readonly,pt.SemanticTokenModifiers.static,pt.SemanticTokenModifiers.deprecated,pt.SemanticTokenModifiers.abstract,pt.SemanticTokenModifiers.async,pt.SemanticTokenModifiers.modification,pt.SemanticTokenModifiers.documentation,pt.SemanticTokenModifiers.defaultLibrary],r.formats=[pt.TokenFormat.Relative],r.requests={range:!0,full:{delta:!0}},r.multilineTokenSupport=!1,r.overlappingTokenSupport=!1,r.serverCancelSupport=!0,r.augmentsSyntaxTokens=!0,(0,ou.ensure)((0,ou.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,r){this._client.onRequest(pt.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(r,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let r=e.documentSelector,n=CH.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new Bd.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(m,f)=>{let g=this._client,y=g.middleware,b=(x,w)=>{let C={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(x)};return g.sendRequest(pt.SemanticTokensRequest.type,C,w).then(P=>w.isCancellationRequested?null:g.protocol2CodeConverter.asSemanticTokens(P,w),P=>g.handleFailedRequest(pt.SemanticTokensRequest.type,w,P,null))};return y.provideDocumentSemanticTokens?y.provideDocumentSemanticTokens(m,f,b):b(m,f)},provideDocumentSemanticTokensEdits:i?(m,f,g)=>{let y=this._client,b=y.middleware,x=(w,C,P)=>{let k={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(w),previousResultId:C};return y.sendRequest(pt.SemanticTokensDeltaRequest.type,k,P).then(async q=>P.isCancellationRequested?null:pt.SemanticTokens.is(q)?await y.protocol2CodeConverter.asSemanticTokens(q,P):await y.protocol2CodeConverter.asSemanticTokensEdits(q,P),q=>y.handleFailedRequest(pt.SemanticTokensDeltaRequest.type,P,q,null))};return b.provideDocumentSemanticTokensEdits?b.provideDocumentSemanticTokensEdits(m,f,g,x):x(m,f,g)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(m,f,g)=>{let y=this._client,b=y.middleware,x=(w,C,P)=>{let k={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(w),range:y.code2ProtocolConverter.asRange(C)};return y.sendRequest(pt.SemanticTokensRangeRequest.type,k,P).then(q=>P.isCancellationRequested?null:y.protocol2CodeConverter.asSemanticTokens(q,P),q=>y.handleFailedRequest(pt.SemanticTokensRangeRequest.type,P,q,null))};return b.provideDocumentRangeSemanticTokens?b.provideDocumentRangeSemanticTokens(m,f,g,x):x(m,f,g)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=l.protocol2CodeConverter.asDocumentSelector(r);return s!==void 0&&u.push(Bd.languages.registerDocumentSemanticTokensProvider(p,s,d)),c!==void 0&&u.push(Bd.languages.registerDocumentRangeSemanticTokensProvider(p,c,d)),[new Bd.Disposable(()=>u.forEach(m=>m.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};zd.SemanticTokensFeature=Jv});var V0=$(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.WillDeleteFilesFeature=In.WillRenameFilesFeature=In.WillCreateFilesFeature=In.DidDeleteFilesFeature=In.DidRenameFilesFeature=In.DidCreateFilesFeature=void 0;var ii=require("vscode"),EH=pd(),Xi=it(),SH=lr();function B0(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function TH(t,e){return t[e]}function z0(t,e,r){t[e]=r}var su=class t{constructor(e,r,n,i,o){this._client=e,this._event=r,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let r=B0(B0(e,"workspace"),"fileOperations");z0(r,"dynamicRegistration",!0),z0(r,this._clientCapability,!0)}initialize(e){let r=e.workspace?.fileOperations,n=r!==void 0?TH(r,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:SH.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let r=e.registerOptions.filters.map(n=>{let i=new EH.Minimatch(n.pattern.glob,t.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,r)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,r){let n=await Promise.all(e.files.map(async o=>{let s=r(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===ii.FileType.File&&u.kind===Xi.FileOperationPatternKind.file||l===ii.FileType.Directory&&u.kind===Xi.FileOperationPatternKind.folder)return!0}else if(u.kind===Xi.FileOperationPatternKind.folder&&await t.getFileType(s)===ii.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await ii.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let r={dot:!0};return e?.ignoreCase===!0&&(r.nocase=!0),r}},Vd=class extends su{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(r,n)}}},Wd=class extends Vd{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let r=e.fsPath;if(this._fsPathFileTypes.has(r))return this._fsPathFileTypes.get(r);let n=await su.getFileType(e);return n&&this._fsPathFileTypes.set(r,n),n}async cacheFileTypes(e,r){await this.filter(e,r)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},ey=class extends Vd{constructor(e){super(e,ii.workspace.onDidCreateFiles,Xi.DidCreateFilesNotification.type,"didCreate","didCreate",r=>r,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,r):r(e)}};In.DidCreateFilesFeature=ey;var ty=class extends Wd{constructor(e){super(e,ii.workspace.onDidRenameFiles,Xi.DidRenameFilesNotification.type,"didRename","didRename",r=>r.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=ii.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,r=>r.oldUri))}doSend(e,r){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,r):r(e)}};In.DidRenameFilesFeature=ty;var ry=class extends Wd{constructor(e){super(e,ii.workspace.onDidDeleteFiles,Xi.DidDeleteFilesNotification.type,"didDelete","didDelete",r=>r,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=ii.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,r=>r))}doSend(e,r){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,r):r(e)}};In.DidDeleteFilesFeature=ry;var au=class extends su{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let r=this.waitUntil(e);e.waitUntil(r)}async waitUntil(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(r,n)}else return}},ny=class extends au{constructor(e){super(e,ii.workspace.onWillCreateFiles,Xi.WillCreateFilesRequest.type,"willCreate","willCreate",r=>r,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,r):r(e)}};In.WillCreateFilesFeature=ny;var iy=class extends au{constructor(e){super(e,ii.workspace.onWillRenameFiles,Xi.WillRenameFilesRequest.type,"willRename","willRename",r=>r.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,r):r(e)}};In.WillRenameFilesFeature=iy;var oy=class extends au{constructor(e){super(e,ii.workspace.onWillDeleteFiles,Xi.WillDeleteFilesRequest.type,"willDelete","willDelete",r=>r,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,r):r(e)}};In.WillDeleteFilesFeature=oy});var W0=$(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.LinkedEditingFeature=void 0;var RH=require("vscode"),sy=it(),ay=Pt(),cy=class extends ay.TextDocumentLanguageFeature{constructor(e){super(e,sy.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let r=(0,ay.ensure)((0,ay.ensure)(e,"textDocument"),"linkedEditingRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,p)=>a.sendRequest(sy.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),p).then(m=>p.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(m,p),m=>a.handleFailedRequest(sy.LinkedEditingRangeRequest.type,p,m,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return RH.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Gd.LinkedEditingFeature=cy});var G0=$(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.TypeHierarchyFeature=void 0;var PH=require("vscode"),as=it(),uy=Pt(),ly=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,r,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(as.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(as.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,r,n,s):s(e,r,n)}provideTypeHierarchySupertypes(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(as.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(as.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,r,o):o(e,r)}provideTypeHierarchySubtypes(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(as.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(as.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,r,o):o(e,r)}},dy=class extends uy.TextDocumentLanguageFeature{constructor(e){super(e,as.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=(0,uy.ensure)((0,uy.ensure)(e,"textDocument"),"typeHierarchy");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new ly(r);return[PH.languages.registerTypeHierarchyProvider(r.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Kd.TypeHierarchyFeature=dy});var X0=$(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.InlineValueFeature=void 0;var K0=require("vscode"),Xd=it(),cu=Pt(),py=class extends cu.TextDocumentLanguageFeature{constructor(e){super(e,Xd.InlineValueRequest.type)}fillClientCapabilities(e){(0,cu.ensure)((0,cu.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,cu.ensure)((0,cu.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,r){this._client.onRequest(Xd.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(r,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new K0.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(p,m,f,g)=>{let y={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(p),range:u.code2ProtocolConverter.asRange(m),context:u.code2ProtocolConverter.asInlineValueContext(f)};return u.sendRequest(Xd.InlineValueRequest.type,y,g).then(b=>g.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(b,g),b=>u.handleFailedRequest(Xd.InlineValueRequest.type,g,b,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(r,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,r){return K0.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Qd.InlineValueFeature=py});var Z0=$(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.InlayHintsFeature=void 0;var Q0=require("vscode"),xa=it(),uu=Pt(),fy=class extends uu.TextDocumentLanguageFeature{constructor(e){super(e,xa.InlayHintRequest.type)}fillClientCapabilities(e){let r=(0,uu.ensure)((0,uu.ensure)(e,"textDocument"),"inlayHint");r.dynamicRegistration=!0,r.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,uu.ensure)((0,uu.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,r){this._client.onRequest(xa.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(r,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new Q0.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,p,m)=>{let f={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(p)};try{let g=await c.sendRequest(xa.InlayHintRequest.type,f,m);return m.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(g,m)}catch(g){return c.handleFailedRequest(xa.InlayHintRequest.type,m,g,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let p=await a.sendRequest(xa.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let m=a.protocol2CodeConverter.asInlayHint(p,d);return d.isCancellationRequested?null:m}catch(p){return a.handleFailedRequest(xa.InlayHintResolveRequest.type,d,p,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(r,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,r){return Q0.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Zd.InlayHintsFeature=fy});var Y0=$(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.InlineCompletionItemFeature=void 0;var DH=require("vscode"),my=it(),hy=Pt(),IH=lr(),gy=class extends hy.TextDocumentLanguageFeature{constructor(e){super(e,my.InlineCompletionRequest.type)}fillClientCapabilities(e){let r=(0,hy.ensure)((0,hy.ensure)(e,"textDocument"),"inlineCompletion");r.dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.inlineCompletionProvider);n&&this.register({id:IH.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,p,m,f)=>c.sendRequest(my.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,p,m),f).then(g=>f.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(g,f),g=>c.handleFailedRequest(my.InlineCompletionRequest.type,f,g,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[DH.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Yd.InlineCompletionItemFeature=gy});var wy=$(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.ProposedFeatures=Br.BaseLanguageClient=Br.MessageTransports=Br.SuspendMode=Br.State=Br.CloseAction=Br.ErrorAction=Br.RevealOutputChannelOn=void 0;var zt=require("vscode"),ve=it(),OH=PT(),AH=OT(),xi=Yn(),Jd=od(),J0=lr(),kH=xg(),_i=Pt(),NH=$g(),eR=c0(),tR=l0(),wa=d0(),qH=p0(),MH=f0(),LH=m0(),jH=g0(),FH=v0(),UH=pv(),$H=b0(),HH=_0(),BH=x0(),zH=C0(),vy=E0(),VH=T0(),WH=R0(),GH=D0(),KH=I0(),XH=O0(),QH=A0(),ZH=k0(),YH=N0(),JH=M0(),e2=L0(),t2=j0(),r2=U0(),n2=$0(),i2=H0(),Ca=V0(),o2=W0(),s2=G0(),a2=X0(),c2=Z0(),u2=Y0(),cs;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(cs||(Br.RevealOutputChannelOn=cs={}));var du;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(du||(Br.ErrorAction=du={}));var Po;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Po||(Br.CloseAction=Po={}));var lu;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(lu||(Br.State=lu={}));var rR;(function(t){t.off="off",t.on="on"})(rR||(Br.SuspendMode=rR={}));var yy;(function(t){function e(r){return r==null?!1:typeof r=="boolean"||typeof r=="object"&&r!==null&&xi.stringArray(r.enabledCommands)?r:!1}t.sanitizeIsTrusted=e})(yy||(yy={}));var by=class{constructor(e,r){this.client=e,this.maxRestartCount=r,this.restarts=[]}error(e,r,n){return n&&n<=3?{action:du.Continue}:{action:du.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Po.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Po.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Po.Restart})}},_t;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(_t||(_t={}));var nR;(function(t){function e(r){return r&&ve.MessageReader.is(r.reader)&&ve.MessageWriter.is(r.writer)}t.is=e})(nR||(Br.MessageTransports=nR={}));var pu=class t{constructor(e,r,n){this._traceFormat=ve.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new Jd.Semaphore(1),this._id=e,this._name=r,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=yy.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??cs.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=_t.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new Jd.Semaphore(1),this._pendingChangeDelayer=new Jd.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new Jd.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new ve.Emitter,this._stateChangeEmitter=new ve.Emitter,this._trace=ve.Trace.Off,this._tracer={log:(o,s)=>{xi.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=OH.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=AH.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=zt.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let r=this.getPublicState();this._state=e;let n=this.getPublicState();n!==r&&this._stateChangeEmitter.fire({oldState:r,newState:n})}getPublicState(){switch(this.$state){case _t.Starting:return lu.Starting;case _t.Running:return lu.Running;default:return lu.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...r){if(this.$state===_t.StartFailed||this.$state===_t.Stopping||this.$state===_t.Stopped)return Promise.reject(new ve.ResponseError(ve.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();this._didChangeTextDocumentFeature.syncKind===ve.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let o,s;return r.length===1?ve.CancellationToken.is(r[0])?s=r[0]:o=r[0]:r.length===2&&(o=r[0],s=r[1]),i(e,o,s,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)})}else return n.sendRequest(e,...r)}onRequest(e,r){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,r);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,r)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,r),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,r){if(this.$state===_t.StartFailed||this.$state===_t.Stopping||this.$state===_t.Stopped)return Promise.reject(new ve.ResponseError(ve.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===ve.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===ve.DidOpenTextDocumentNotification.method&&(i=r?.textDocument.uri,this._pendingOpenNotifications.add(i));let o=await this.$start();n&&await this.sendPendingFullTextDocumentChanges(o),i!==void 0&&this._pendingOpenNotifications.delete(i);let s=this._clientOptions.middleware?.sendNotification;return s?s(e,o.sendNotification.bind(o),r):o.sendNotification(e,r)}onNotification(e,r){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,r);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,r)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,r),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,r,n){if(this.$state===_t.StartFailed||this.$state===_t.Stopping||this.$state===_t.Stopped)return Promise.reject(new ve.ResponseError(ve.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,r,n)}catch(i){throw this.error(`Sending progress for token ${r} failed.`,i),i}}onProgress(e,r,n){this._progressHandlers.set(r,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=ve.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(r,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(r,i.onProgress(e,r,a)),o={dispose:()=>{let c=this._progressDisposables.get(r);c!==void 0&&(c.dispose(),this._progressDisposables.delete(r))}}):(this._pendingProgressHandlers.set(r,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(r);let c=this._progressDisposables.get(r);c!==void 0&&(c.dispose(),this._progressDisposables.delete(r))}}),{dispose:()=>{this._progressHandlers.delete(r),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new by(this,e??4)}async setTrace(e){this._trace=e;let r=this.activeConnection();r!==void 0&&await r.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof ve.ResponseError){let r=e;return`  Message: ${r.message}
  Code: ${r.code} ${r.data?`
`+r.data.toString():""}`}return e instanceof Error?xi.string(e.stack)?e.stack:e.message:xi.string(e)?e:e.toString()}debug(e,r,n=!0){this.logOutputMessage(ve.MessageType.Debug,cs.Debug,"Debug",e,r,n)}info(e,r,n=!0){this.logOutputMessage(ve.MessageType.Info,cs.Info,"Info",e,r,n)}warn(e,r,n=!0){this.logOutputMessage(ve.MessageType.Warning,cs.Warn,"Warn",e,r,n)}error(e,r,n=!0){this.logOutputMessage(ve.MessageType.Error,cs.Error,"Error",e,r,n)}logOutputMessage(e,r,n,i,o,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=r)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,r){r=r??"A request has failed. See the output for more information.",(e===ve.MessageType.Error?zt.window.showErrorMessage:e===ve.MessageType.Warning?zt.window.showWarningMessage:zt.window.showInformationMessage)(r,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,r){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.traceOutputChannel.appendLine(this.data2String(r))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===_t.Initial||this.$state===_t.Stopping||this.$state===_t.Stopped}needsStop(){return this.$state===_t.Starting||this.$state===_t.Running}activeConnection(){return this.$state===_t.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===_t.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===_t.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,r,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?zt.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):zt.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=_t.Starting;try{let i=await this.createConnection();i.onNotification(ve.LogMessageNotification.type,o=>{switch(o.type){case ve.MessageType.Error:this.error(o.message,void 0,!1);break;case ve.MessageType.Warning:this.warn(o.message,void 0,!1);break;case ve.MessageType.Info:this.info(o.message,void 0,!1);break;case ve.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(ve.ShowMessageNotification.type,o=>{switch(o.type){case ve.MessageType.Error:zt.window.showErrorMessage(o.message);break;case ve.MessageType.Warning:zt.window.showWarningMessage(o.message);break;case ve.MessageType.Info:zt.window.showInformationMessage(o.message);break;default:zt.window.showInformationMessage(o.message)}}),i.onRequest(ve.ShowMessageRequest.type,o=>{let s;switch(o.type){case ve.MessageType.Error:s=zt.window.showErrorMessage;break;case ve.MessageType.Warning:s=zt.window.showWarningMessage;break;case ve.MessageType.Info:s=zt.window.showInformationMessage;break;default:s=zt.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(ve.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(ve.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await zt.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await zt.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),r()}catch(i){this.$state=_t.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,r;return[new Promise((i,o)=>{e=i,r=o}),e,r]}async initialize(e){this.refreshTrace(e,!1);let r=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:zt.env.appName,version:zt.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(zt.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:xi.func(r)?r():r,trace:ve.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=J0.generateUuid(),a=new kH.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,r){try{let n=await e.initialize(r);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==ve.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=_t.Running;let i;xi.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===ve.TextDocumentSyncKind.None?i={openClose:!1,change:ve.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(ve.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(ve.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(ve.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(ve.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(ve.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof ve.ResponseError&&n.data&&n.data.retry?zt.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&zt.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=zt.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,r){if(this.$state===_t.Stopped||this.$state===_t.Initial)return;if(this.$state===_t.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==_t.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=_t.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,ve.RAL)().timer.setTimeout(s,r)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=_t.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let r=this._listeners.splice(0,this._listeners.length);for(let n of r)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let r=this;async function n(o){return r._fileEvents.push(o),r._fileEventDelayer.trigger(async()=>{await r.sendNotification(ve.DidChangeWatchedFilesNotification.type,{changes:r._fileEvents}),r._fileEvents=[]})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{r.error("Notify file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let r=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(r.length===0)return;for(let n of r){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(ve.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,ve.DidChangeTextDocumentNotification.type,i)}}catch(r){throw this.error("Sending pending changes failed",r,!1),r}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let r=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===r&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,ve.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[r,n]=e.value;this._diagnosticQueue.delete(r);let i=new zt.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:r,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(r),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,r){this._diagnostics&&this._diagnostics.set(e,r)}getLocale(){return zt.env.language}async $start(){if(this.$state===_t.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},r=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=l2(n.reader,n.writer,e,r,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===_t.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Po.DoNotRestart};if(this.$state!==_t.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Po.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===_t.Starting?this.$state=_t.StartFailed:this.$state=_t.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Po.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=_t.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(r=>this.error("Restarting server failed",r,"force")))}async handleConnectionError(e,r,n){let i=await this._clientOptions.errorHandler.error(e,r,n);i.action===du.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(zt.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,r=!1){let n=zt.workspace.getConfiguration(this._id),i=ve.Trace.Off,o=ve.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=ve.Trace.fromString(s):(i=ve.Trace.fromString(n.get("trace.server.verbosity","off")),o=ve.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:r,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let r=this._clientOptions.synchronize.fileEvents;if(!r)return;let n;xi.array(r)?n=r:n=[r],n&&this._dynamicFeatures.get(ve.DidChangeWatchedFilesNotification.type.method).registerRaw(J0.generateUuid(),n)}registerFeatures(e){for(let r of e)this.registerFeature(r)}registerFeature(e){if(this._features.push(e),_i.DynamicFeature.is(e)){let r=e.registrationType;this._dynamicFeatures.set(r.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let r=this.getFeature(ve.NotebookDocumentSyncRegistrationType.method);return r===void 0||!(r instanceof eR.NotebookDocumentSyncFeature)?!1:r.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new tR.ConfigurationFeature(this)),this.registerFeature(new wa.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new wa.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new wa.WillSaveFeature(this)),this.registerFeature(new wa.WillSaveWaitUntilFeature(this)),this.registerFeature(new wa.DidSaveTextDocumentFeature(this)),this.registerFeature(new wa.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new KH.FileSystemWatcherFeature(this,r=>this.notifyFileEvent(r))),this.registerFeature(new qH.CompletionItemFeature(this)),this.registerFeature(new MH.HoverFeature(this)),this.registerFeature(new jH.SignatureHelpFeature(this)),this.registerFeature(new LH.DefinitionFeature(this)),this.registerFeature(new HH.ReferencesFeature(this)),this.registerFeature(new FH.DocumentHighlightFeature(this)),this.registerFeature(new UH.DocumentSymbolFeature(this)),this.registerFeature(new $H.WorkspaceSymbolFeature(this)),this.registerFeature(new BH.CodeActionFeature(this)),this.registerFeature(new zH.CodeLensFeature(this)),this.registerFeature(new vy.DocumentFormattingFeature(this)),this.registerFeature(new vy.DocumentRangeFormattingFeature(this)),this.registerFeature(new vy.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new VH.RenameFeature(this)),this.registerFeature(new WH.DocumentLinkFeature(this)),this.registerFeature(new GH.ExecuteCommandFeature(this)),this.registerFeature(new tR.SyncConfigurationFeature(this)),this.registerFeature(new ZH.TypeDefinitionFeature(this)),this.registerFeature(new QH.ImplementationFeature(this)),this.registerFeature(new XH.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new YH.WorkspaceFoldersFeature(this)),this.registerFeature(new JH.FoldingRangeFeature(this)),this.registerFeature(new e2.DeclarationFeature(this)),this.registerFeature(new t2.SelectionRangeFeature(this)),this.registerFeature(new r2.ProgressFeature(this)),this.registerFeature(new n2.CallHierarchyFeature(this)),this.registerFeature(new i2.SemanticTokensFeature(this)),this.registerFeature(new o2.LinkedEditingFeature(this)),this.registerFeature(new Ca.DidCreateFilesFeature(this)),this.registerFeature(new Ca.DidRenameFilesFeature(this)),this.registerFeature(new Ca.DidDeleteFilesFeature(this)),this.registerFeature(new Ca.WillCreateFilesFeature(this)),this.registerFeature(new Ca.WillRenameFilesFeature(this)),this.registerFeature(new Ca.WillDeleteFilesFeature(this)),this.registerFeature(new s2.TypeHierarchyFeature(this)),this.registerFeature(new a2.InlineValueFeature(this)),this.registerFeature(new c2.InlayHintsFeature(this)),this.registerFeature(new NH.DiagnosticFeature(this)),this.registerFeature(new eR.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(xy.createAll(this))}fillInitializeParams(e){for(let r of this._features)xi.func(r.fillInitializeParams)&&r.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,_i.ensure)(e,"workspace").applyEdit=!0;let r=(0,_i.ensure)((0,_i.ensure)(e,"workspace"),"workspaceEdit");r.documentChanges=!0,r.resourceOperations=[ve.ResourceOperationKind.Create,ve.ResourceOperationKind.Rename,ve.ResourceOperationKind.Delete],r.failureHandling=ve.FailureHandlingKind.TextOnlyTransactional,r.normalizesLineEndings=!0,r.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,_i.ensure)((0,_i.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[ve.DiagnosticTag.Unnecessary,ve.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,_i.ensure)(e,"window"),o=(0,_i.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,_i.ensure)(i,"showDocument");s.support=!0;let a=(0,_i.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let r=this._clientOptions.documentSelector;for(let n of this._features)xi.func(n.preInitialize)&&n.preInitialize(this._capabilities,r);for(let n of this._features)n.initialize(this._capabilities,r)}async handleRegistrationRequest(e){let r=this.clientOptions.middleware?.handleRegisterCapability;return r?r(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let r of e.registrations)this._ignoredRegistrations.add(r.id);return}for(let r of e.registrations){let n=this._dynamicFeatures.get(r.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${r.method} found. Registration failed.`));let i=r.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:r.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let r=this.clientOptions.middleware?.handleUnregisterCapability;return r?r(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let r of e.unregisterations){if(this._ignoredRegistrations.has(r.id))continue;let n=this._dynamicFeatures.get(r.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${r.method} found. Unregistration failed.`));n.unregister(r.id)}}async handleApplyWorkspaceEdit(e){let r=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(r)),i=new Map;zt.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(r.documentChanges){for(let s of r.documentChanges)if(ve.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):xi.asPromise(zt.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,r,n,i,o=!0){if(n instanceof ve.ResponseError){if(n.code===ve.ErrorCodes.PendingResponseRejected||n.code===ve.ErrorCodes.ConnectionInactive)return i;if(n.code===ve.LSPErrorCodes.RequestCancelled||n.code===ve.LSPErrorCodes.ServerCancelled){if(r!==void 0&&r.isCancellationRequested)return i;throw n.data!==void 0?new _i.LSPCancellationError(n.data):new zt.CancellationError}else if(n.code===ve.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new zt.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Br.BaseLanguageClient=pu;pu.RequestsToCancelOnContentModified=new Set([ve.SemanticTokensRequest.method,ve.SemanticTokensRangeRequest.method,ve.SemanticTokensDeltaRequest.method]);pu.CancellableResolveCalls=new Set([ve.CompletionResolveRequest.method,ve.CodeLensResolveRequest.method,ve.CodeActionResolveRequest.method,ve.InlayHintResolveRequest.method,ve.DocumentLinkResolveRequest.method,ve.WorkspaceSymbolResolveRequest.method]);var _y=class{error(e){(0,ve.RAL)().console.error(e)}warn(e){(0,ve.RAL)().console.warn(e)}info(e){(0,ve.RAL)().console.info(e)}log(e){(0,ve.RAL)().console.log(e)}};function l2(t,e,r,n,i){let o=new _y,s=(0,ve.createProtocolConnection)(t,e,o,i);return s.onError(c=>{r(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:ve.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(xi.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(ve.InitializeRequest.type,c),shutdown:()=>s.sendRequest(ve.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(ve.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var xy;(function(t){function e(r){return[new u2.InlineCompletionItemFeature(r)]}t.createAll=e})(xy||(Br.ProposedFeatures=xy={}))});var oR=$(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.terminate=void 0;var iR=require("child_process"),d2=require("path"),p2=process.platform==="win32",f2=process.platform==="darwin",m2=process.platform==="linux";function h2(t,e){if(p2)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),iR.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(m2||f2)try{var r=(0,d2.join)(__dirname,"terminateProcess.sh"),n=iR.spawnSync(r,[t.pid.toString()]);return!n.error}catch{return!1}else return t.kill("SIGKILL"),!0}ep.terminate=h2});var Cy=$((RZ,sR)=>{"use strict";sR.exports=it()});var fu=$((PZ,aR)=>{var g2=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};aR.exports=g2});var mu=$((DZ,cR)=>{var v2="2.0.0",y2=Number.MAX_SAFE_INTEGER||9007199254740991,b2=16,_2=250,x2=["major","premajor","minor","preminor","patch","prepatch","prerelease"];cR.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:b2,MAX_SAFE_BUILD_LENGTH:_2,MAX_SAFE_INTEGER:y2,RELEASE_TYPES:x2,SEMVER_SPEC_VERSION:v2,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ea=$((Qi,uR)=>{var{MAX_SAFE_COMPONENT_LENGTH:Ey,MAX_SAFE_BUILD_LENGTH:w2,MAX_LENGTH:C2}=mu(),E2=fu();Qi=uR.exports={};var S2=Qi.re=[],T2=Qi.safeRe=[],Oe=Qi.src=[],Ae=Qi.t={},R2=0,Sy="[a-zA-Z0-9-]",P2=[["\\s",1],["\\d",C2],[Sy,w2]],D2=t=>{for(let[e,r]of P2)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ft=(t,e,r)=>{let n=D2(e),i=R2++;E2(t,i,e),Ae[t]=i,Oe[i]=e,S2[i]=new RegExp(e,r?"g":void 0),T2[i]=new RegExp(n,r?"g":void 0)};ft("NUMERICIDENTIFIER","0|[1-9]\\d*");ft("NUMERICIDENTIFIERLOOSE","\\d+");ft("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Sy}*`);ft("MAINVERSION",`(${Oe[Ae.NUMERICIDENTIFIER]})\\.(${Oe[Ae.NUMERICIDENTIFIER]})\\.(${Oe[Ae.NUMERICIDENTIFIER]})`);ft("MAINVERSIONLOOSE",`(${Oe[Ae.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Ae.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Ae.NUMERICIDENTIFIERLOOSE]})`);ft("PRERELEASEIDENTIFIER",`(?:${Oe[Ae.NUMERICIDENTIFIER]}|${Oe[Ae.NONNUMERICIDENTIFIER]})`);ft("PRERELEASEIDENTIFIERLOOSE",`(?:${Oe[Ae.NUMERICIDENTIFIERLOOSE]}|${Oe[Ae.NONNUMERICIDENTIFIER]})`);ft("PRERELEASE",`(?:-(${Oe[Ae.PRERELEASEIDENTIFIER]}(?:\\.${Oe[Ae.PRERELEASEIDENTIFIER]})*))`);ft("PRERELEASELOOSE",`(?:-?(${Oe[Ae.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Oe[Ae.PRERELEASEIDENTIFIERLOOSE]})*))`);ft("BUILDIDENTIFIER",`${Sy}+`);ft("BUILD",`(?:\\+(${Oe[Ae.BUILDIDENTIFIER]}(?:\\.${Oe[Ae.BUILDIDENTIFIER]})*))`);ft("FULLPLAIN",`v?${Oe[Ae.MAINVERSION]}${Oe[Ae.PRERELEASE]}?${Oe[Ae.BUILD]}?`);ft("FULL",`^${Oe[Ae.FULLPLAIN]}$`);ft("LOOSEPLAIN",`[v=\\s]*${Oe[Ae.MAINVERSIONLOOSE]}${Oe[Ae.PRERELEASELOOSE]}?${Oe[Ae.BUILD]}?`);ft("LOOSE",`^${Oe[Ae.LOOSEPLAIN]}$`);ft("GTLT","((?:<|>)?=?)");ft("XRANGEIDENTIFIERLOOSE",`${Oe[Ae.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ft("XRANGEIDENTIFIER",`${Oe[Ae.NUMERICIDENTIFIER]}|x|X|\\*`);ft("XRANGEPLAIN",`[v=\\s]*(${Oe[Ae.XRANGEIDENTIFIER]})(?:\\.(${Oe[Ae.XRANGEIDENTIFIER]})(?:\\.(${Oe[Ae.XRANGEIDENTIFIER]})(?:${Oe[Ae.PRERELEASE]})?${Oe[Ae.BUILD]}?)?)?`);ft("XRANGEPLAINLOOSE",`[v=\\s]*(${Oe[Ae.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Ae.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Ae.XRANGEIDENTIFIERLOOSE]})(?:${Oe[Ae.PRERELEASELOOSE]})?${Oe[Ae.BUILD]}?)?)?`);ft("XRANGE",`^${Oe[Ae.GTLT]}\\s*${Oe[Ae.XRANGEPLAIN]}$`);ft("XRANGELOOSE",`^${Oe[Ae.GTLT]}\\s*${Oe[Ae.XRANGEPLAINLOOSE]}$`);ft("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ey}})(?:\\.(\\d{1,${Ey}}))?(?:\\.(\\d{1,${Ey}}))?`);ft("COERCE",`${Oe[Ae.COERCEPLAIN]}(?:$|[^\\d])`);ft("COERCEFULL",Oe[Ae.COERCEPLAIN]+`(?:${Oe[Ae.PRERELEASE]})?(?:${Oe[Ae.BUILD]})?(?:$|[^\\d])`);ft("COERCERTL",Oe[Ae.COERCE],!0);ft("COERCERTLFULL",Oe[Ae.COERCEFULL],!0);ft("LONETILDE","(?:~>?)");ft("TILDETRIM",`(\\s*)${Oe[Ae.LONETILDE]}\\s+`,!0);Qi.tildeTrimReplace="$1~";ft("TILDE",`^${Oe[Ae.LONETILDE]}${Oe[Ae.XRANGEPLAIN]}$`);ft("TILDELOOSE",`^${Oe[Ae.LONETILDE]}${Oe[Ae.XRANGEPLAINLOOSE]}$`);ft("LONECARET","(?:\\^)");ft("CARETTRIM",`(\\s*)${Oe[Ae.LONECARET]}\\s+`,!0);Qi.caretTrimReplace="$1^";ft("CARET",`^${Oe[Ae.LONECARET]}${Oe[Ae.XRANGEPLAIN]}$`);ft("CARETLOOSE",`^${Oe[Ae.LONECARET]}${Oe[Ae.XRANGEPLAINLOOSE]}$`);ft("COMPARATORLOOSE",`^${Oe[Ae.GTLT]}\\s*(${Oe[Ae.LOOSEPLAIN]})$|^$`);ft("COMPARATOR",`^${Oe[Ae.GTLT]}\\s*(${Oe[Ae.FULLPLAIN]})$|^$`);ft("COMPARATORTRIM",`(\\s*)${Oe[Ae.GTLT]}\\s*(${Oe[Ae.LOOSEPLAIN]}|${Oe[Ae.XRANGEPLAIN]})`,!0);Qi.comparatorTrimReplace="$1$2$3";ft("HYPHENRANGE",`^\\s*(${Oe[Ae.XRANGEPLAIN]})\\s+-\\s+(${Oe[Ae.XRANGEPLAIN]})\\s*$`);ft("HYPHENRANGELOOSE",`^\\s*(${Oe[Ae.XRANGEPLAINLOOSE]})\\s+-\\s+(${Oe[Ae.XRANGEPLAINLOOSE]})\\s*$`);ft("STAR","(<|>)?=?\\s*\\*");ft("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ft("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var tp=$((IZ,lR)=>{var I2=Object.freeze({loose:!0}),O2=Object.freeze({}),A2=t=>t?typeof t!="object"?I2:t:O2;lR.exports=A2});var Ty=$((OZ,fR)=>{var dR=/^[0-9]+$/,pR=(t,e)=>{let r=dR.test(t),n=dR.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},k2=(t,e)=>pR(e,t);fR.exports={compareIdentifiers:pR,rcompareIdentifiers:k2}});var cn=$((AZ,vR)=>{var rp=fu(),{MAX_LENGTH:mR,MAX_SAFE_INTEGER:np}=mu(),{safeRe:hR,t:gR}=Ea(),N2=tp(),{compareIdentifiers:Sa}=Ty(),Ry=class t{constructor(e,r){if(r=N2(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>mR)throw new TypeError(`version is longer than ${mR} characters`);rp("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?hR[gR.LOOSE]:hR[gR.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>np||this.major<0)throw new TypeError("Invalid major version");if(this.minor>np||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>np||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<np)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(rp("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Sa(this.major,e.major)||Sa(this.minor,e.minor)||Sa(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(rp("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sa(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(rp("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sa(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Sa(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};vR.exports=Ry});var Do=$((kZ,bR)=>{var yR=cn(),q2=(t,e,r=!1)=>{if(t instanceof yR)return t;try{return new yR(t,e)}catch(n){if(!r)return null;throw n}};bR.exports=q2});var xR=$((NZ,_R)=>{var Py=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};_R.exports=Py});var oi=$((qZ,CR)=>{var wR=cn(),M2=(t,e,r)=>new wR(t,r).compare(new wR(e,r));CR.exports=M2});var Dy=$((MZ,ER)=>{var L2=oi(),j2=(t,e,r)=>L2(t,e,r)===0;ER.exports=j2});var Iy=$((LZ,SR)=>{var F2=oi(),U2=(t,e,r)=>F2(t,e,r)!==0;SR.exports=U2});var hu=$((jZ,TR)=>{var $2=oi(),H2=(t,e,r)=>$2(t,e,r)>0;TR.exports=H2});var ip=$((FZ,RR)=>{var B2=oi(),z2=(t,e,r)=>B2(t,e,r)>=0;RR.exports=z2});var op=$((UZ,PR)=>{var V2=oi(),W2=(t,e,r)=>V2(t,e,r)<0;PR.exports=W2});var sp=$(($Z,DR)=>{var G2=oi(),K2=(t,e,r)=>G2(t,e,r)<=0;DR.exports=K2});var Oy=$((HZ,IR)=>{var X2=Dy(),Q2=Iy(),Z2=hu(),Y2=ip(),J2=op(),eB=sp(),tB=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return X2(t,r,n);case"!=":return Q2(t,r,n);case">":return Z2(t,r,n);case">=":return Y2(t,r,n);case"<":return J2(t,r,n);case"<=":return eB(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};IR.exports=tB});var vu=$((BZ,MR)=>{var gu=Symbol("SemVer ANY"),Ny=class t{static get ANY(){return gu}constructor(e,r){if(r=OR(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),ky("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===gu?this.value="":this.value=this.operator+this.semver.version,ky("comp",this)}parse(e){let r=this.options.loose?AR[kR.COMPARATORLOOSE]:AR[kR.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new NR(n[2],this.options.loose):this.semver=gu}toString(){return this.value}test(e){if(ky("Comparator.test",e,this.options.loose),this.semver===gu||e===gu)return!0;if(typeof e=="string")try{e=new NR(e,this.options)}catch{return!1}return Ay(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new qR(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new qR(this.value,r).test(e.semver):(r=OR(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Ay(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Ay(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};MR.exports=Ny;var OR=tp(),{safeRe:AR,t:kR}=Ea(),Ay=Oy(),ky=fu(),NR=cn(),qR=si()});var si=$((zZ,UR)=>{var rB=/\s+/g,qy=class t{constructor(e,r){if(r=iB(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof My)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(rB," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!jR(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&dB(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&uB)|(this.options.loose&&lB))+":"+e,i=LR.get(n);if(i)return i;let o=this.options.loose,s=o?On[yn.HYPHENRANGELOOSE]:On[yn.HYPHENRANGE];e=e.replace(s,xB(this.options.includePrerelease)),rr("hyphen replace",e),e=e.replace(On[yn.COMPARATORTRIM],sB),rr("comparator trim",e),e=e.replace(On[yn.TILDETRIM],aB),rr("tilde trim",e),e=e.replace(On[yn.CARETTRIM],cB),rr("caret trim",e);let a=e.split(" ").map(d=>pB(d,this.options)).join(" ").split(/\s+/).map(d=>_B(d,this.options));o&&(a=a.filter(d=>(rr("loose invalid filter",d,this.options),!!d.match(On[yn.COMPARATORLOOSE])))),rr("range list",a);let c=new Map,u=a.map(d=>new My(d,this.options));for(let d of u){if(jR(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return LR.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>FR(n,r)&&e.set.some(i=>FR(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new oB(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(wB(this.set[r],e,this.options))return!0;return!1}};UR.exports=qy;var nB=xR(),LR=new nB,iB=tp(),My=vu(),rr=fu(),oB=cn(),{safeRe:On,t:yn,comparatorTrimReplace:sB,tildeTrimReplace:aB,caretTrimReplace:cB}=Ea(),{FLAG_INCLUDE_PRERELEASE:uB,FLAG_LOOSE:lB}=mu(),jR=t=>t.value==="<0.0.0-0",dB=t=>t.value==="",FR=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},pB=(t,e)=>(rr("comp",t,e),t=hB(t,e),rr("caret",t),t=fB(t,e),rr("tildes",t),t=vB(t,e),rr("xrange",t),t=bB(t,e),rr("stars",t),t),bn=t=>!t||t.toLowerCase()==="x"||t==="*",fB=(t,e)=>t.trim().split(/\s+/).map(r=>mB(r,e)).join(" "),mB=(t,e)=>{let r=e.loose?On[yn.TILDELOOSE]:On[yn.TILDE];return t.replace(r,(n,i,o,s,a)=>{rr("tilde",t,n,i,o,s,a);let c;return bn(i)?c="":bn(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:bn(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(rr("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,rr("tilde return",c),c})},hB=(t,e)=>t.trim().split(/\s+/).map(r=>gB(r,e)).join(" "),gB=(t,e)=>{rr("caret",t,e);let r=e.loose?On[yn.CARETLOOSE]:On[yn.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,c)=>{rr("caret",t,i,o,s,a,c);let u;return bn(o)?u="":bn(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:bn(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(rr("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(rr("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),rr("caret return",u),u})},vB=(t,e)=>(rr("replaceXRanges",t,e),t.split(/\s+/).map(r=>yB(r,e)).join(" ")),yB=(t,e)=>{t=t.trim();let r=e.loose?On[yn.XRANGELOOSE]:On[yn.XRANGE];return t.replace(r,(n,i,o,s,a,c)=>{rr("xRange",t,n,i,o,s,a,c);let u=bn(o),l=u||bn(s),d=l||bn(a),p=d;return i==="="&&p&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),rr("xRange return",n),n})},bB=(t,e)=>(rr("replaceStars",t,e),t.trim().replace(On[yn.STAR],"")),_B=(t,e)=>(rr("replaceGTE0",t,e),t.trim().replace(On[e.includePrerelease?yn.GTE0PRE:yn.GTE0],"")),xB=t=>(e,r,n,i,o,s,a,c,u,l,d,p)=>(bn(n)?r="":bn(i)?r=`>=${n}.0.0${t?"-0":""}`:bn(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,bn(u)?c="":bn(l)?c=`<${+u+1}.0.0-0`:bn(d)?c=`<${u}.${+l+1}.0-0`:p?c=`<=${u}.${l}.${d}-${p}`:t?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),wB=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(rr(t[n].semver),t[n].semver!==My.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ta=$((VZ,$R)=>{var CB=si(),EB=(t,e,r)=>{try{e=new CB(e,r)}catch{return!1}return e.test(t)};$R.exports=EB});var BR=$(Bn=>{"use strict";var SB=Bn&&Bn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ly=Bn&&Bn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SB(e,t,r)};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.DiagnosticPullMode=Bn.vsdiag=void 0;Ly(it(),Bn);Ly(Pt(),Bn);var HR=$g();Object.defineProperty(Bn,"vsdiag",{enumerable:!0,get:function(){return HR.vsdiag}});Object.defineProperty(Bn,"DiagnosticPullMode",{enumerable:!0,get:function(){return HR.DiagnosticPullMode}});Ly(wy(),Bn)});var Wy=$(An=>{"use strict";var TB=An&&An.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WR=An&&An.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&TB(e,t,r)};Object.defineProperty(An,"__esModule",{value:!0});An.SettingMonitor=An.LanguageClient=An.TransportKind=void 0;var Zi=require("child_process"),jy=require("fs"),Fy=require("path"),Oo=require("vscode"),dr=Yn(),zR=wy(),RB=oR(),mr=Cy(),PB=Do(),DB=Ta();WR(Cy(),An);WR(BR(),An);var VR="^1.82.0",hr;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(hr||(An.TransportKind=hr={}));var Io;(function(t){function e(r){let n=r;return n&&n.kind===hr.socket&&dr.number(n.port)}t.isSocket=e})(Io||(Io={}));var Uy;(function(t){function e(r){return dr.string(r.command)}t.is=e})(Uy||(Uy={}));var $y;(function(t){function e(r){return dr.string(r.module)}t.is=e})($y||($y={}));var Hy;(function(t){function e(r){let n=r;return n&&n.writer!==void 0&&n.reader!==void 0}t.is=e})(Hy||(Hy={}));var By;(function(t){function e(r){let n=r;return n&&n.process!==void 0&&typeof n.detached=="boolean"}t.is=e})(By||(By={}));var zy=class extends zR.BaseLanguageClient{constructor(e,r,n,i,o){let s,a,c,u,l;dr.string(r)?(s=e,a=r,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=r,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw dr.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=PB(Oo.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Oo.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!DB(e,VR))throw new Error(`The language client requires VS Code version ${VR} but received version ${Oo.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let r=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(r),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,RB.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function r(l,d){if(!l&&!d)return;let p=Object.create(null);return Object.keys(process.env).forEach(m=>p[m]=process.env[m]),d&&(p.ELECTRON_RUN_AS_NODE="1",p.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(m=>p[m]=l[m]),p}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(p=>d.startsWith(p))||i.some(p=>d===p)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(dr.func(a))return a().then(l=>{if(zR.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Hy.is(l))return this._isDetached=!!l.detached,{reader:new mr.StreamMessageReader(l.reader),writer:new mr.StreamMessageWriter(l.writer)};{let d;return By.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",p=>this.outputChannel.append(dr.string(p)?p:p.toString(e))),{reader:new mr.StreamMessageReader(d.stdout),writer:new mr.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if($y.is(c)&&c.module){let d=c,p=d.transport||hr.stdio;if(d.runtime){let m=[],f=d.options??Object.create(null);f.execArgv&&f.execArgv.forEach(x=>m.push(x)),m.push(d.module),d.args&&d.args.forEach(x=>m.push(x));let g=Object.create(null);g.cwd=l,g.env=r(f.env,!1);let y=this._getRuntimePath(d.runtime,l),b;if(p===hr.ipc?(g.stdio=[null,null,null,"ipc"],m.push("--node-ipc")):p===hr.stdio?m.push("--stdio"):p===hr.pipe?(b=(0,mr.generateRandomPipeName)(),m.push(`--pipe=${b}`)):Io.isSocket(p)&&m.push(`--socket=${p.port}`),m.push(`--clientProcessId=${process.pid.toString()}`),p===hr.ipc||p===hr.stdio){let x=Zi.spawn(y,m,g);return!x||!x.pid?Ra(x,`Launching server using runtime ${y} failed.`):(this._serverProcess=x,x.stderr.on("data",w=>this.outputChannel.append(dr.string(w)?w:w.toString(e))),p===hr.ipc?(x.stdout.on("data",w=>this.outputChannel.append(dr.string(w)?w:w.toString(e))),Promise.resolve({reader:new mr.IPCMessageReader(x),writer:new mr.IPCMessageWriter(x)})):Promise.resolve({reader:new mr.StreamMessageReader(x.stdout),writer:new mr.StreamMessageWriter(x.stdin)}))}else{if(p===hr.pipe)return(0,mr.createClientPipeTransport)(b).then(x=>{let w=Zi.spawn(y,m,g);return!w||!w.pid?Ra(w,`Launching server using runtime ${y} failed.`):(this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),x.onConnected().then(C=>({reader:C[0],writer:C[1]})))});if(Io.isSocket(p))return(0,mr.createClientSocketTransport)(p.port).then(x=>{let w=Zi.spawn(y,m,g);return!w||!w.pid?Ra(w,`Launching server using runtime ${y} failed.`):(this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),x.onConnected().then(C=>({reader:C[0],writer:C[1]})))})}}else{let m;return new Promise((f,g)=>{let y=(d.args&&d.args.slice())??[];p===hr.ipc?y.push("--node-ipc"):p===hr.stdio?y.push("--stdio"):p===hr.pipe?(m=(0,mr.generateRandomPipeName)(),y.push(`--pipe=${m}`)):Io.isSocket(p)&&y.push(`--socket=${p.port}`),y.push(`--clientProcessId=${process.pid.toString()}`);let b=d.options??Object.create(null);if(b.env=r(b.env,!0),b.execArgv=b.execArgv||[],b.cwd=l,b.silent=!0,p===hr.ipc||p===hr.stdio){let x=Zi.fork(d.module,y||[],b);s(x),this._serverProcess=x,x.stderr.on("data",w=>this.outputChannel.append(dr.string(w)?w:w.toString(e))),p===hr.ipc?(x.stdout.on("data",w=>this.outputChannel.append(dr.string(w)?w:w.toString(e))),f({reader:new mr.IPCMessageReader(this._serverProcess),writer:new mr.IPCMessageWriter(this._serverProcess)})):f({reader:new mr.StreamMessageReader(x.stdout),writer:new mr.StreamMessageWriter(x.stdin)})}else p===hr.pipe?(0,mr.createClientPipeTransport)(m).then(x=>{let w=Zi.fork(d.module,y||[],b);s(w),this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),x.onConnected().then(C=>{f({reader:C[0],writer:C[1]})},g)},g):Io.isSocket(p)&&(0,mr.createClientSocketTransport)(p.port).then(x=>{let w=Zi.fork(d.module,y||[],b);s(w),this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(dr.string(C)?C:C.toString(e))),x.onConnected().then(C=>{f({reader:C[0],writer:C[1]})},g)},g)})}}else if(Uy.is(c)&&c.command){let d=c,p=c.args!==void 0?c.args.slice(0):[],m,f=c.transport;if(f===hr.stdio)p.push("--stdio");else if(f===hr.pipe)m=(0,mr.generateRandomPipeName)(),p.push(`--pipe=${m}`);else if(Io.isSocket(f))p.push(`--socket=${f.port}`);else if(f===hr.ipc)throw new Error("Transport kind ipc is not support for command executable");let g=Object.assign({},d.options);if(g.cwd=g.cwd||l,f===void 0||f===hr.stdio){let y=Zi.spawn(d.command,p,g);return!y||!y.pid?Ra(y,`Launching server using command ${d.command} failed.`):(y.stderr.on("data",b=>this.outputChannel.append(dr.string(b)?b:b.toString(e))),this._serverProcess=y,this._isDetached=!!g.detached,Promise.resolve({reader:new mr.StreamMessageReader(y.stdout),writer:new mr.StreamMessageWriter(y.stdin)}))}else{if(f===hr.pipe)return(0,mr.createClientPipeTransport)(m).then(y=>{let b=Zi.spawn(d.command,p,g);return!b||!b.pid?Ra(b,`Launching server using command ${d.command} failed.`):(this._serverProcess=b,this._isDetached=!!g.detached,b.stderr.on("data",x=>this.outputChannel.append(dr.string(x)?x:x.toString(e))),b.stdout.on("data",x=>this.outputChannel.append(dr.string(x)?x:x.toString(e))),y.onConnected().then(x=>({reader:x[0],writer:x[1]})))});if(Io.isSocket(f))return(0,mr.createClientSocketTransport)(f.port).then(y=>{let b=Zi.spawn(d.command,p,g);return!b||!b.pid?Ra(b,`Launching server using command ${d.command} failed.`):(this._serverProcess=b,this._isDetached=!!g.detached,b.stderr.on("data",x=>this.outputChannel.append(dr.string(x)?x:x.toString(e))),b.stdout.on("data",x=>this.outputChannel.append(dr.string(x)?x:x.toString(e))),y.onConnected().then(x=>({reader:x[0],writer:x[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,d)=>{l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),d!==null&&this.error(`Server process exited with signal ${d}.`,void 0,!1)})})}_getRuntimePath(e,r){if(Fy.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=Fy.join(n,e);if(jy.existsSync(i))return i}if(r!==void 0){let i=Fy.join(r,e);if(jy.existsSync(i))return i}return e}_mainGetRootPath(){let e=Oo.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}_getServerWorkingDir(e){let r=e&&e.cwd;return r||(r=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),r?new Promise(n=>{jy.lstat(r,(i,o)=>{n(!i&&o.isDirectory()?r:void 0)})}):Promise.resolve(void 0)}};An.LanguageClient=zy;var Vy=class{constructor(e,r){this._client=e,this._setting=r,this._listeners=[]}start(){return Oo.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Oo.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),r=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?Oo.workspace.getConfiguration(r).get(n,!1):Oo.workspace.getConfiguration(r);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};An.SettingMonitor=Vy;function Ra(t,e){return t===null?Promise.reject(e):new Promise((r,n)=>{t.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var Gy=$((KZ,GR)=>{"use strict";GR.exports=Wy()});var uP=$(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.sync=Ia.isexe=void 0;var kB=require("fs"),NB=require("fs/promises"),qB=async(t,e={})=>{let{ignoreErrors:r=!1}=e;try{return cP(await(0,NB.stat)(t),e)}catch(n){let i=n;if(r||i.code==="EACCES")return!1;throw i}};Ia.isexe=qB;var MB=(t,e={})=>{let{ignoreErrors:r=!1}=e;try{return cP((0,kB.statSync)(t),e)}catch(n){let i=n;if(r||i.code==="EACCES")return!1;throw i}};Ia.sync=MB;var cP=(t,e)=>t.isFile()&&LB(t,e),LB=(t,e)=>{let r=e.uid??process.getuid?.(),n=e.groups??process.getgroups?.()??[],i=e.gid??process.getgid?.()??n[0];if(r===void 0||i===void 0)throw new Error("cannot get uid or gid");let o=new Set([i,...n]),s=t.mode,a=t.uid,c=t.gid,u=parseInt("100",8),l=parseInt("010",8),d=parseInt("001",8),p=u|l;return!!(s&d||s&l&&o.has(c)||s&u&&a===r||s&p&&r===0)}});var dP=$(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.sync=Oa.isexe=void 0;var jB=require("fs"),FB=require("fs/promises"),UB=async(t,e={})=>{let{ignoreErrors:r=!1}=e;try{return lP(await(0,FB.stat)(t),t,e)}catch(n){let i=n;if(r||i.code==="EACCES")return!1;throw i}};Oa.isexe=UB;var $B=(t,e={})=>{let{ignoreErrors:r=!1}=e;try{return lP((0,jB.statSync)(t),t,e)}catch(n){let i=n;if(r||i.code==="EACCES")return!1;throw i}};Oa.sync=$B;var HB=(t,e)=>{let{pathExt:r=process.env.PATHEXT||""}=e,n=r.split(";");if(n.indexOf("")!==-1)return!0;for(let i=0;i<n.length;i++){let o=n[i].toLowerCase(),s=t.substring(t.length-o.length).toLowerCase();if(o&&s===o)return!0}return!1},lP=(t,e,r)=>t.isFile()&&HB(e,r)});var fP=$(pP=>{"use strict";Object.defineProperty(pP,"__esModule",{value:!0})});var bP=$(Lr=>{"use strict";var mP=Lr&&Lr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BB=Lr&&Lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hP=Lr&&Lr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mP(e,t,r);return BB(e,t),e},zB=Lr&&Lr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mP(e,t,r)};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.sync=Lr.isexe=Lr.posix=Lr.win32=void 0;var gP=hP(uP());Lr.posix=gP;var vP=hP(dP());Lr.win32=vP;zB(fP(),Lr);var VB=process.env._ISEXE_TEST_PLATFORM_||process.platform,yP=VB==="win32"?vP:gP;Lr.isexe=yP.isexe;Lr.sync=yP.sync});var DP=$((gY,PP)=>{var{isexe:WB,sync:GB}=bP(),{join:KB,delimiter:XB,sep:_P,posix:xP}=require("path"),wP=process.platform==="win32",CP=new RegExp(`[${xP.sep}${_P===xP.sep?"":_P}]`.replace(/(\\)/g,"\\$1")),QB=new RegExp(`^\\.${CP.source}`),EP=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),SP=(t,{path:e=process.env.PATH,pathExt:r=process.env.PATHEXT,delimiter:n=XB})=>{let i=t.match(CP)?[""]:[...wP?[process.cwd()]:[],...(e||"").split(n)];if(wP){let o=r||[".EXE",".CMD",".BAT",".COM"].join(n),s=o.split(n).flatMap(a=>[a,a.toLowerCase()]);return t.includes(".")&&s[0]!==""&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:o}}return{pathEnv:i,pathExt:[""]}},TP=(t,e)=>{let r=/^".*"$/.test(t)?t.slice(1,-1):t;return(!r&&QB.test(e)?e.slice(0,2):"")+KB(r,e)},RP=async(t,e={})=>{let{pathEnv:r,pathExt:n,pathExtExe:i}=SP(t,e),o=[];for(let s of r){let a=TP(s,t);for(let c of n){let u=a+c;if(await WB(u,{pathExt:i,ignoreErrors:!0})){if(!e.all)return u;o.push(u)}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw EP(t)},ZB=(t,e={})=>{let{pathEnv:r,pathExt:n,pathExtExe:i}=SP(t,e),o=[];for(let s of r){let a=TP(s,t);for(let c of n){let u=a+c;if(GB(u,{pathExt:i,ignoreErrors:!0})){if(!e.all)return u;o.push(u)}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw EP(t)};PP.exports=RP;RP.sync=ZB});var aD=$((VY,sD)=>{var oD=require("stream").Stream,$z=require("util");sD.exports=Si;function Si(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}$z.inherits(Si,oD);Si.create=function(t,e){var r=new this;e=e||{};for(var n in e)r[n]=e[n];r.source=t;var i=t.emit;return t.emit=function(){return r._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(Si.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Si.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Si.prototype.resume=function(){this._released||this.release(),this.source.resume()};Si.prototype.pause=function(){this.source.pause()};Si.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Si.prototype.pipe=function(){var t=oD.prototype.pipe.apply(this,arguments);return this.resume(),t};Si.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Si.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var dD=$((WY,lD)=>{var Hz=require("util"),uD=require("stream").Stream,cD=aD();lD.exports=Cr;function Cr(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Hz.inherits(Cr,uD);Cr.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Cr.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Cr.prototype.append=function(t){var e=Cr.isStreamLike(t);if(e){if(!(t instanceof cD)){var r=cD.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Cr.prototype.pipe=function(t,e){return uD.prototype.pipe.call(this,t,e),this.resume(),t};Cr.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Cr.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var n=Cr.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Cr.prototype._pipeNext=function(t){this._currentStream=t;var e=Cr.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Cr.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Cr.prototype.write=function(t){this.emit("data",t)};Cr.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Cr.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Cr.prototype.end=function(){this._reset(),this.emit("end")};Cr.prototype.destroy=function(){this._reset(),this.emit("close")};Cr.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Cr.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Cr.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Cr.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var pD=$((GY,Bz)=>{Bz.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var mD=$((KY,fD)=>{fD.exports=pD()});var vD=$(kn=>{"use strict";var Dp=mD(),zz=require("path").extname,hD=/^\s*([^;\s]*)(?:;|\s|$)/,Vz=/^text\//i;kn.charset=gD;kn.charsets={lookup:gD};kn.contentType=Wz;kn.extension=Gz;kn.extensions=Object.create(null);kn.lookup=Kz;kn.types=Object.create(null);Xz(kn.extensions,kn.types);function gD(t){if(!t||typeof t!="string")return!1;var e=hD.exec(t),r=e&&Dp[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&Vz.test(e[1])?"UTF-8":!1}function Wz(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?kn.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=kn.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function Gz(t){if(!t||typeof t!="string")return!1;var e=hD.exec(t),r=e&&kn.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function Kz(t){if(!t||typeof t!="string")return!1;var e=zz("x."+t).toLowerCase().substr(1);return e&&kn.types[e]||!1}function Xz(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Dp).forEach(function(i){var o=Dp[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var u=r.indexOf(Dp[e[c]].source),l=r.indexOf(o.source);if(e[c]!=="application/octet-stream"&&(u>l||u===l&&e[c].substr(0,12)==="application/"))continue}e[c]=i}}})}});var bD=$((QY,yD)=>{yD.exports=Qz;function Qz(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var ib=$((ZY,xD)=>{var _D=bD();xD.exports=Zz;function Zz(t){var e=!1;return _D(function(){e=!0}),function(n,i){e?t(n,i):_D(function(){t(n,i)})}}});var ob=$((YY,wD)=>{wD.exports=Yz;function Yz(t){Object.keys(t.jobs).forEach(Jz.bind(t)),t.jobs={}}function Jz(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var sb=$((JY,ED)=>{var CD=ib(),eV=ob();ED.exports=tV;function tV(t,e,r,n){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=rV(e,i,t[i],function(o,s){i in r.jobs&&(delete r.jobs[i],o?eV(r):r.results[i]=s,n(o,r.results))})}function rV(t,e,r,n){var i;return t.length==2?i=t(r,CD(n)):i=t(r,e,CD(n)),i}});var ab=$((e7,SD)=>{SD.exports=nV;function nV(t,e){var r=!Array.isArray(t),n={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&n.keyedList.sort(r?e:function(i,o){return e(t[i],t[o])}),n}});var cb=$((t7,TD)=>{var iV=ob(),oV=ib();TD.exports=sV;function sV(t){Object.keys(this.jobs).length&&(this.index=this.size,iV(this),oV(t)(null,this.results))}});var PD=$((r7,RD)=>{var aV=sb(),cV=ab(),uV=cb();RD.exports=lV;function lV(t,e,r){for(var n=cV(t);n.index<(n.keyedList||t).length;)aV(t,e,n,function(i,o){if(i){r(i,o);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return uV.bind(n,r)}});var ub=$((n7,Ip)=>{var DD=sb(),dV=ab(),pV=cb();Ip.exports=fV;Ip.exports.ascending=ID;Ip.exports.descending=mV;function fV(t,e,r,n){var i=dV(t,r);return DD(t,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){DD(t,e,i,o);return}n(null,i.results)}),pV.bind(i,n)}function ID(t,e){return t<e?-1:t>e?1:0}function mV(t,e){return-1*ID(t,e)}});var AD=$((i7,OD)=>{var hV=ub();OD.exports=gV;function gV(t,e,r){return hV(t,e,null,r)}});var ND=$((o7,kD)=>{kD.exports={parallel:PD(),serial:AD(),serialOrdered:ub()}});var MD=$((s7,qD)=>{qD.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var FD=$((a7,jD)=>{var fb=dD(),LD=require("util"),lb=require("path"),vV=require("http"),yV=require("https"),bV=require("url").parse,_V=require("fs"),xV=require("stream").Stream,db=vD(),wV=ND(),pb=MD();jD.exports=kt;LD.inherits(kt,fb);function kt(t){if(!(this instanceof kt))return new kt(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],fb.call(this),t=t||{};for(var e in t)this[e]=t[e]}kt.LINE_BREAK=`\r
`;kt.DEFAULT_CONTENT_TYPE="application/octet-stream";kt.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=fb.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),LD.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,r),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,r)};kt.prototype._trackLength=function(t,e,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+kt.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof xV))&&(r.knownLength||this._valuesToMeasure.push(e))};kt.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):_V.stat(t.path,function(r,n){var i;if(r){e(r);return}i=n.size-(t.start?t.start:0),e(null,i)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};kt.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(e,r),i=this._getContentType(e,r),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof r.header=="object"&&pb(s,r.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=c+": "+a.join("; ")+kt.LINE_BREAK)));return"--"+this.getBoundary()+kt.LINE_BREAK+o+kt.LINE_BREAK};kt.prototype._getContentDisposition=function(t,e){var r,n;return typeof e.filepath=="string"?r=lb.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=lb.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=lb.basename(t.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};kt.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=db.lookup(t.name)),!r&&t.path&&(r=db.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=db.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=kt.DEFAULT_CONTENT_TYPE),r};kt.prototype._multiPartFooter=function(){return function(t){var e=kt.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};kt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+kt.LINE_BREAK};kt.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};kt.prototype.setBoundary=function(t){this._boundary=t};kt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};kt.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(kt.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};kt.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};kt.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};kt.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};kt.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}wV.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){t(r);return}n.forEach(function(i){e+=i}),t(null,e)})};kt.prototype.submit=function(t,e){var r,n,i={method:"post"};return typeof t=="string"?(t=bV(t),n=pb({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(n=pb(t,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(t.headers),n.protocol=="https:"?r=yV.request(n):r=vV.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&r.setHeader("Content-Length",s),this.pipe(r),e){var a,c=function(u,l){return r.removeListener("error",c),r.removeListener("response",a),e.call(this,u,l)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};kt.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};kt.prototype.toString=function(){return"[object FormData]"}});var eI=$(JD=>{"use strict";var FV=require("url").parse,UV={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},$V=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function HV(t){var e=typeof t=="string"?FV(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||UV[r]||0,!BV(n,i)))return"";var o=ja("npm_config_"+r+"_proxy")||ja(r+"_proxy")||ja("npm_config_proxy")||ja("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function BV(t,e){var r=(ja("npm_config_no_proxy")||ja("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!$V.call(t,o)):t!==o}):!0}function ja(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}JD.getProxyForUrl=HV});var rI=$((cJ,tI)=>{var Fa=1e3,Ua=Fa*60,$a=Ua*60,ps=$a*24,zV=ps*7,VV=ps*365.25;tI.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return WV(t);if(r==="number"&&isFinite(t))return e.long?KV(t):GV(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function WV(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*VV;case"weeks":case"week":case"w":return r*zV;case"days":case"day":case"d":return r*ps;case"hours":case"hour":case"hrs":case"hr":case"h":return r*$a;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ua;case"seconds":case"second":case"secs":case"sec":case"s":return r*Fa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function GV(t){var e=Math.abs(t);return e>=ps?Math.round(t/ps)+"d":e>=$a?Math.round(t/$a)+"h":e>=Ua?Math.round(t/Ua)+"m":e>=Fa?Math.round(t/Fa)+"s":t+"ms"}function KV(t){var e=Math.abs(t);return e>=ps?Np(t,e,ps,"day"):e>=$a?Np(t,e,$a,"hour"):e>=Ua?Np(t,e,Ua,"minute"):e>=Fa?Np(t,e,Fa,"second"):t+" ms"}function Np(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Sb=$((uJ,nI)=>{function XV(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=rI(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let d=0;for(let p=0;p<l.length;p++)d=(d<<5)-d+l.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(l){let d,p=null,m,f;function g(...y){if(!g.enabled)return;let b=g,x=Number(new Date),w=x-(d||x);b.diff=w,b.prev=d,b.curr=x,d=x,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(k,q)=>{if(k==="%%")return"%";C++;let j=r.formatters[q];if(typeof j=="function"){let Q=y[C];k=j.call(b,Q),y.splice(C,1),C--}return k}),r.formatArgs.call(b,y),(b.log||r.log).apply(b,y)}return g.namespace=l,g.useColors=r.useColors(),g.color=r.selectColor(l),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,f=r.enabled(l)),f),set:y=>{p=y}}),typeof r.init=="function"&&r.init(g),g}function n(l,d){let p=r(this.namespace+(typeof d>"u"?":":d)+l);return p.log=this.log,p}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let d,p=(typeof l=="string"?l:"").split(/[\s,]+/),m=p.length;for(d=0;d<m;d++)p[d]&&(l=p[d].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,p;for(d=0,p=r.skips.length;d<p;d++)if(r.skips[d].test(l))return!1;for(d=0,p=r.names.length;d<p;d++)if(r.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}nI.exports=XV});var iI=$((Wn,qp)=>{Wn.formatArgs=ZV;Wn.save=YV;Wn.load=JV;Wn.useColors=QV;Wn.storage=e3();Wn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function QV(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ZV(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+qp.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Wn.log=console.debug||console.log||(()=>{});function YV(t){try{t?Wn.storage.setItem("debug",t):Wn.storage.removeItem("debug")}catch{}}function JV(){let t;try{t=Wn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function e3(){try{return localStorage}catch{}}qp.exports=Sb()(Wn);var{formatters:t3}=qp.exports;t3.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var sI=$((lJ,oI)=>{"use strict";oI.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var cI=$((dJ,aI)=>{"use strict";var r3=require("os"),Ti=sI(),un=process.env,Ha;Ti("no-color")||Ti("no-colors")||Ti("color=false")?Ha=!1:(Ti("color")||Ti("colors")||Ti("color=true")||Ti("color=always"))&&(Ha=!0);"FORCE_COLOR"in un&&(Ha=un.FORCE_COLOR.length===0||parseInt(un.FORCE_COLOR,10)!==0);function n3(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function i3(t){if(Ha===!1)return 0;if(Ti("color=16m")||Ti("color=full")||Ti("color=truecolor"))return 3;if(Ti("color=256"))return 2;if(t&&!t.isTTY&&Ha!==!0)return 0;let e=Ha?1:0;if(process.platform==="win32"){let r=r3.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in un)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in un)||un.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in un)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(un.TEAMCITY_VERSION)?1:0;if(un.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in un){let r=parseInt((un.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(un.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(un.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(un.TERM)||"COLORTERM"in un?1:(un.TERM==="dumb",e)}function Tb(t){let e=i3(t);return n3(e)}aI.exports={supportsColor:Tb,stdout:Tb(process.stdout),stderr:Tb(process.stderr)}});var lI=$((zr,Lp)=>{var o3=require("tty"),Mp=require("util");zr.init=p3;zr.log=u3;zr.formatArgs=a3;zr.save=l3;zr.load=d3;zr.useColors=s3;zr.destroy=Mp.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");zr.colors=[6,2,3,4,5,1];try{let t=cI();t&&(t.stderr||t).level>=2&&(zr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}zr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function s3(){return"colors"in zr.inspectOpts?!!zr.inspectOpts.colors:o3.isatty(process.stderr.fd)}function a3(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+Lp.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=c3()+e+" "+t[0]}function c3(){return zr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function u3(...t){return process.stderr.write(Mp.formatWithOptions(zr.inspectOpts,...t)+`
`)}function l3(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function d3(){return process.env.DEBUG}function p3(t){t.inspectOpts={};let e=Object.keys(zr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=zr.inspectOpts[e[r]]}Lp.exports=Sb()(zr);var{formatters:uI}=Lp.exports;uI.o=function(t){return this.inspectOpts.colors=this.useColors,Mp.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};uI.O=function(t){return this.inspectOpts.colors=this.useColors,Mp.inspect(t,this.inspectOpts)}});var dI=$((pJ,Rb)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Rb.exports=iI():Rb.exports=lI()});var fI=$((fJ,pI)=>{var Iu;pI.exports=function(){if(!Iu){try{Iu=dI()("follow-redirects")}catch{}typeof Iu!="function"&&(Iu=function(){})}Iu.apply(null,arguments)}});var yI=$((mJ,Fb)=>{var ku=require("url"),Ou=ku.URL,f3=require("http"),m3=require("https"),Ab=require("stream").Writable,kb=require("assert"),mI=fI(),Nb=!1;try{kb(new Ou)}catch(t){Nb=t.code==="ERR_INVALID_URL"}var h3=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],qb=["abort","aborted","connect","error","socket","timeout"],Mb=Object.create(null);qb.forEach(function(t){Mb[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Db=Nu("ERR_INVALID_URL","Invalid URL",TypeError),Ib=Nu("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g3=Nu("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Ib),v3=Nu("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),y3=Nu("ERR_STREAM_WRITE_AFTER_END","write after end"),b3=Ab.prototype.destroy||gI;function Nn(t,e){Ab.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof Ib?i:new Ib({cause:i}))}},this._performRequest()}Nn.prototype=Object.create(Ab.prototype);Nn.prototype.abort=function(){jb(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Nn.prototype.destroy=function(t){return jb(this._currentRequest,t),b3.call(this,t),this};Nn.prototype.write=function(t,e,r){if(this._ending)throw new y3;if(!fs(t)&&!w3(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Au(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new v3),this.abort())};Nn.prototype.end=function(t,e,r){if(Au(t)?(r=t,t=e=null):Au(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};Nn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Nn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Nn.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),r.removeListener("close",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Nn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Nn.prototype,t,{get:function(){return this._currentRequest[t]}})});Nn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Nn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of qb)n.on(i,Mb[i]);if(this._currentUrl=/^\//.test(this._options.path)?ku.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};Nn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(jb(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g3;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Pb(/^content-/i,this._options.headers));var s=Pb(/^host$/i,this._options.headers),a=Lb(this._currentUrl),c=s||a.host,u=/^\w+:/.test(r)?this._currentUrl:ku.format(Object.assign(a,{host:c})),l=_3(r,u);if(mI("redirecting to",l.href),this._isRedirect=!0,Ob(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==c&&!x3(l.host,c))&&Pb(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),Au(i)){var d={headers:t.headers,statusCode:e},p={url:u,method:o,headers:n};i(this._options,d,p),this._sanitizeOptions(this._options)}this._performRequest()};function hI(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(u,l,d){return C3(u)?u=Ob(u):fs(u)?u=Ob(Lb(u)):(d=l,l=vI(u),u={protocol:i}),Au(l)&&(d=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,!fs(l.host)&&!fs(l.hostname)&&(l.hostname="::1"),kb.equal(l.protocol,i,"protocol mismatch"),mI("options",l),new Nn(l,d)}function c(u,l,d){var p=s.request(u,l,d);return p.end(),p}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function gI(){}function Lb(t){var e;if(Nb)e=new Ou(t);else if(e=vI(ku.parse(t)),!fs(e.protocol))throw new Db({input:t});return e}function _3(t,e){return Nb?new Ou(t,e):Lb(ku.resolve(e,t))}function vI(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new Db({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new Db({input:t.href||t});return t}function Ob(t,e){var r=e||{};for(var n of h3)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Pb(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Nu(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function jb(t,e){for(var r of qb)t.removeListener(r,Mb[r]);t.on("error",gI),t.destroy(e)}function x3(t,e){kb(fs(t)&&fs(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function fs(t){return typeof t=="string"||t instanceof String}function Au(t){return typeof t=="function"}function w3(t){return typeof t=="object"&&"length"in t}function C3(t){return Ou&&t instanceof Ou}Fb.exports=hI({http:f3,https:m3});Fb.exports.wrap=hI});var CO=$((cre,wO)=>{"use strict";wO.exports=Error});var SO=$((ure,EO)=>{"use strict";EO.exports=EvalError});var RO=$((lre,TO)=>{"use strict";TO.exports=RangeError});var DO=$((dre,PO)=>{"use strict";PO.exports=ReferenceError});var o_=$((pre,IO)=>{"use strict";IO.exports=SyntaxError});var Vu=$((fre,OO)=>{"use strict";OO.exports=TypeError});var kO=$((mre,AO)=>{"use strict";AO.exports=URIError});var qO=$((hre,NO)=>{"use strict";NO.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var jO=$((gre,LO)=>{"use strict";var MO=typeof Symbol<"u"&&Symbol,_G=qO();LO.exports=function(){return typeof MO!="function"||typeof Symbol!="function"||typeof MO("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_G()}});var UO=$((vre,FO)=>{"use strict";var s_={__proto__:null,foo:{}},xG=Object;FO.exports=function(){return{__proto__:s_}.foo===s_.foo&&!(s_ instanceof xG)}});var BO=$((yre,HO)=>{"use strict";var wG="Function.prototype.bind called on incompatible ",CG=Object.prototype.toString,EG=Math.max,SG="[object Function]",$O=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},TG=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},RG=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};HO.exports=function(e){var r=this;if(typeof r!="function"||CG.apply(r)!==SG)throw new TypeError(wG+r);for(var n=TG(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,$O(n,arguments));return Object(l)===l?l:this}return r.apply(e,$O(n,arguments))},s=EG(0,r.length-n.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+RG(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var Zp=$((bre,zO)=>{"use strict";var PG=BO();zO.exports=Function.prototype.bind||PG});var WO=$((_re,VO)=>{"use strict";var DG=Function.prototype.call,IG=Object.prototype.hasOwnProperty,OG=Zp();VO.exports=OG.call(DG,IG)});var Ns=$((xre,ZO)=>{"use strict";var Et,AG=CO(),kG=SO(),NG=RO(),qG=DO(),nc=o_(),rc=Vu(),MG=kO(),QO=Function,a_=function(t){try{return QO('"use strict"; return ('+t+").constructor;")()}catch{}},As=Object.getOwnPropertyDescriptor;if(As)try{As({},"")}catch{As=null}var c_=function(){throw new rc},LG=As?function(){try{return arguments.callee,c_}catch{try{return As(arguments,"callee").get}catch{return c_}}}():c_,ec=jO()(),jG=UO()(),Wr=Object.getPrototypeOf||(jG?function(t){return t.__proto__}:null),tc={},FG=typeof Uint8Array>"u"||!Wr?Et:Wr(Uint8Array),ks={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Et:ArrayBuffer,"%ArrayIteratorPrototype%":ec&&Wr?Wr([][Symbol.iterator]()):Et,"%AsyncFromSyncIteratorPrototype%":Et,"%AsyncFunction%":tc,"%AsyncGenerator%":tc,"%AsyncGeneratorFunction%":tc,"%AsyncIteratorPrototype%":tc,"%Atomics%":typeof Atomics>"u"?Et:Atomics,"%BigInt%":typeof BigInt>"u"?Et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":AG,"%eval%":eval,"%EvalError%":kG,"%Float32Array%":typeof Float32Array>"u"?Et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Et:FinalizationRegistry,"%Function%":QO,"%GeneratorFunction%":tc,"%Int8Array%":typeof Int8Array>"u"?Et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ec&&Wr?Wr(Wr([][Symbol.iterator]())):Et,"%JSON%":typeof JSON=="object"?JSON:Et,"%Map%":typeof Map>"u"?Et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ec||!Wr?Et:Wr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Et:Promise,"%Proxy%":typeof Proxy>"u"?Et:Proxy,"%RangeError%":NG,"%ReferenceError%":qG,"%Reflect%":typeof Reflect>"u"?Et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ec||!Wr?Et:Wr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ec&&Wr?Wr(""[Symbol.iterator]()):Et,"%Symbol%":ec?Symbol:Et,"%SyntaxError%":nc,"%ThrowTypeError%":LG,"%TypedArray%":FG,"%TypeError%":rc,"%Uint8Array%":typeof Uint8Array>"u"?Et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Et:Uint32Array,"%URIError%":MG,"%WeakMap%":typeof WeakMap>"u"?Et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Et:WeakSet};if(Wr)try{null.error}catch(t){GO=Wr(Wr(t)),ks["%Error.prototype%"]=GO}var GO,UG=function t(e){var r;if(e==="%AsyncFunction%")r=a_("async function () {}");else if(e==="%GeneratorFunction%")r=a_("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=a_("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Wr&&(r=Wr(i.prototype))}return ks[e]=r,r},KO={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wu=Zp(),Yp=WO(),$G=Wu.call(Function.call,Array.prototype.concat),HG=Wu.call(Function.apply,Array.prototype.splice),XO=Wu.call(Function.call,String.prototype.replace),Jp=Wu.call(Function.call,String.prototype.slice),BG=Wu.call(Function.call,RegExp.prototype.exec),zG=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,VG=/\\(\\)?/g,WG=function(e){var r=Jp(e,0,1),n=Jp(e,-1);if(r==="%"&&n!=="%")throw new nc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new nc("invalid intrinsic syntax, expected opening `%`");var i=[];return XO(e,zG,function(o,s,a,c){i[i.length]=a?XO(c,VG,"$1"):s||o}),i},GG=function(e,r){var n=e,i;if(Yp(KO,n)&&(i=KO[n],n="%"+i[0]+"%"),Yp(ks,n)){var o=ks[n];if(o===tc&&(o=UG(n)),typeof o>"u"&&!r)throw new rc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new nc("intrinsic "+e+" does not exist!")};ZO.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new rc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new rc('"allowMissing" argument must be a boolean');if(BG(/^%?[^%]*%?$/,e)===null)throw new nc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=WG(e),i=n.length>0?n[0]:"",o=GG("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],HG(n,$G([0,1],u)));for(var l=1,d=!0;l<n.length;l+=1){var p=n[l],m=Jp(p,0,1),f=Jp(p,-1);if((m==='"'||m==="'"||m==="`"||f==='"'||f==="'"||f==="`")&&m!==f)throw new nc("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(c=!0),i+="."+p,s="%"+i+"%",Yp(ks,s))a=ks[s];else if(a!=null){if(!(p in a)){if(!r)throw new rc("base intrinsic for "+e+" exists, but the property is not available.");return}if(As&&l+1>=n.length){var g=As(a,p);d=!!g,d&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[p]}else d=Yp(a,p),a=a[p];d&&!c&&(ks[s]=a)}}return a}});var tf=$((wre,YO)=>{"use strict";var KG=Ns(),ef=KG("%Object.defineProperty%",!0)||!1;if(ef)try{ef({},"a",{value:1})}catch{ef=!1}YO.exports=ef});var u_=$((Cre,JO)=>{"use strict";var XG=Ns(),rf=XG("%Object.getOwnPropertyDescriptor%",!0);if(rf)try{rf([],"length")}catch{rf=null}JO.exports=rf});var nA=$((Ere,rA)=>{"use strict";var eA=tf(),QG=o_(),ic=Vu(),tA=u_();rA.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ic("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ic("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ic("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ic("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ic("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ic("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!tA&&tA(e,r);if(eA)eA(e,r,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:o===null&&c?c.writable:!o});else if(a||!i&&!o&&!s)e[r]=n;else throw new QG("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var sA=$((Sre,oA)=>{"use strict";var l_=tf(),iA=function(){return!!l_};iA.hasArrayLengthDefineBug=function(){if(!l_)return null;try{return l_([],"length",{value:1}).length!==1}catch{return!0}};oA.exports=iA});var dA=$((Tre,lA)=>{"use strict";var ZG=Ns(),aA=nA(),YG=sA()(),cA=u_(),uA=Vu(),JG=ZG("%Math.floor%");lA.exports=function(e,r){if(typeof e!="function")throw new uA("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||JG(r)!==r)throw new uA("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&cA){var s=cA(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(YG?aA(e,"length",r,!0,!0):aA(e,"length",r)),e}});var vA=$((Rre,nf)=>{"use strict";var d_=Zp(),of=Ns(),e4=dA(),t4=Vu(),mA=of("%Function.prototype.apply%"),hA=of("%Function.prototype.call%"),gA=of("%Reflect.apply%",!0)||d_.call(hA,mA),pA=tf(),r4=of("%Math.max%");nf.exports=function(e){if(typeof e!="function")throw new t4("a function is required");var r=gA(d_,hA,arguments);return e4(r,1+r4(0,e.length-(arguments.length-1)),!0)};var fA=function(){return gA(d_,mA,arguments)};pA?pA(nf.exports,"apply",{value:fA}):nf.exports.apply=fA});var xA=$((Pre,_A)=>{"use strict";var yA=Ns(),bA=vA(),n4=bA(yA("String.prototype.indexOf"));_A.exports=function(e,r){var n=yA(e,!!r);return typeof n=="function"&&n4(e,".prototype.")>-1?bA(n):n}});var CA=$((Dre,wA)=>{wA.exports=require("util").inspect});var BA=$((Ire,HA)=>{var x_=typeof Map=="function"&&Map.prototype,p_=Object.getOwnPropertyDescriptor&&x_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,af=x_&&p_&&typeof p_.get=="function"?p_.get:null,EA=x_&&Map.prototype.forEach,w_=typeof Set=="function"&&Set.prototype,f_=Object.getOwnPropertyDescriptor&&w_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,cf=w_&&f_&&typeof f_.get=="function"?f_.get:null,SA=w_&&Set.prototype.forEach,i4=typeof WeakMap=="function"&&WeakMap.prototype,Ku=i4?WeakMap.prototype.has:null,o4=typeof WeakSet=="function"&&WeakSet.prototype,Xu=o4?WeakSet.prototype.has:null,s4=typeof WeakRef=="function"&&WeakRef.prototype,TA=s4?WeakRef.prototype.deref:null,a4=Boolean.prototype.valueOf,c4=Object.prototype.toString,u4=Function.prototype.toString,l4=String.prototype.match,C_=String.prototype.slice,$o=String.prototype.replace,d4=String.prototype.toUpperCase,RA=String.prototype.toLowerCase,MA=RegExp.prototype.test,PA=Array.prototype.concat,Fi=Array.prototype.join,p4=Array.prototype.slice,DA=Math.floor,g_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,m_=Object.getOwnPropertySymbols,v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,oc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",dn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===oc||!0)?Symbol.toStringTag:null,LA=Object.prototype.propertyIsEnumerable,IA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function OA(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||MA.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-DA(-t):DA(t);if(n!==t){var i=String(n),o=C_.call(e,i.length+1);return $o.call(i,r,"$&_")+"."+$o.call($o.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $o.call(e,r,"$&_")}var y_=CA(),AA=y_.custom,kA=FA(AA)?AA:null;HA.exports=function t(e,r,n,i){var o=r||{};if(Uo(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Uo(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Uo(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Uo(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Uo(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return $A(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?OA(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?OA(e,u):u}var l=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return b_(e)?"[Array]":"[Object]";var d=I4(o,n);if(typeof i>"u")i=[];else if(UA(i,e)>=0)return"[Circular]";function p(ae,ee,xe){if(ee&&(i=p4.call(i),i.push(ee)),xe){var de={depth:o.depth};return Uo(o,"quoteStyle")&&(de.quoteStyle=o.quoteStyle),t(ae,de,n+1,i)}return t(ae,o,n+1,i)}if(typeof e=="function"&&!NA(e)){var m=x4(e),f=sf(e,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(f.length>0?" { "+Fi.call(f,", ")+" }":"")}if(FA(e)){var g=oc?$o.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):v_.call(e);return typeof e=="object"&&!oc?Gu(g):g}if(R4(e)){for(var y="<"+RA.call(String(e.nodeName)),b=e.attributes||[],x=0;x<b.length;x++)y+=" "+b[x].name+"="+jA(f4(b[x].value),"double",o);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+RA.call(String(e.nodeName))+">",y}if(b_(e)){if(e.length===0)return"[]";var w=sf(e,p);return d&&!D4(w)?"["+__(w,d)+"]":"[ "+Fi.call(w,", ")+" ]"}if(h4(e)){var C=sf(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!LA.call(e,"cause")?"{ ["+String(e)+"] "+Fi.call(PA.call("[cause]: "+p(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Fi.call(C,", ")+" }"}if(typeof e=="object"&&s){if(kA&&typeof e[kA]=="function"&&y_)return y_(e,{depth:l-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(w4(e)){var P=[];return EA&&EA.call(e,function(ae,ee){P.push(p(ee,e,!0)+" => "+p(ae,e))}),qA("Map",af.call(e),P,d)}if(S4(e)){var k=[];return SA&&SA.call(e,function(ae){k.push(p(ae,e))}),qA("Set",cf.call(e),k,d)}if(C4(e))return h_("WeakMap");if(T4(e))return h_("WeakSet");if(E4(e))return h_("WeakRef");if(v4(e))return Gu(p(Number(e)));if(b4(e))return Gu(p(g_.call(e)));if(y4(e))return Gu(a4.call(e));if(g4(e))return Gu(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!m4(e)&&!NA(e)){var q=sf(e,p),j=IA?IA(e)===Object.prototype:e instanceof Object||e.constructor===Object,Q=e instanceof Object?"":"null prototype",ne=!j&&dn&&Object(e)===e&&dn in e?C_.call(Ho(e),8,-1):Q?"Object":"",X=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=X+(ne||Q?"["+Fi.call(PA.call([],ne||[],Q||[]),": ")+"] ":"");return q.length===0?H+"{}":d?H+"{"+__(q,d)+"}":H+"{ "+Fi.call(q,", ")+" }"}return String(e)};function jA(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function f4(t){return $o.call(String(t),/"/g,"&quot;")}function b_(t){return Ho(t)==="[object Array]"&&(!dn||!(typeof t=="object"&&dn in t))}function m4(t){return Ho(t)==="[object Date]"&&(!dn||!(typeof t=="object"&&dn in t))}function NA(t){return Ho(t)==="[object RegExp]"&&(!dn||!(typeof t=="object"&&dn in t))}function h4(t){return Ho(t)==="[object Error]"&&(!dn||!(typeof t=="object"&&dn in t))}function g4(t){return Ho(t)==="[object String]"&&(!dn||!(typeof t=="object"&&dn in t))}function v4(t){return Ho(t)==="[object Number]"&&(!dn||!(typeof t=="object"&&dn in t))}function y4(t){return Ho(t)==="[object Boolean]"&&(!dn||!(typeof t=="object"&&dn in t))}function FA(t){if(oc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!v_)return!1;try{return v_.call(t),!0}catch{}return!1}function b4(t){if(!t||typeof t!="object"||!g_)return!1;try{return g_.call(t),!0}catch{}return!1}var _4=Object.prototype.hasOwnProperty||function(t){return t in this};function Uo(t,e){return _4.call(t,e)}function Ho(t){return c4.call(t)}function x4(t){if(t.name)return t.name;var e=l4.call(u4.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function UA(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function w4(t){if(!af||!t||typeof t!="object")return!1;try{af.call(t);try{cf.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function C4(t){if(!Ku||!t||typeof t!="object")return!1;try{Ku.call(t,Ku);try{Xu.call(t,Xu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function E4(t){if(!TA||!t||typeof t!="object")return!1;try{return TA.call(t),!0}catch{}return!1}function S4(t){if(!cf||!t||typeof t!="object")return!1;try{cf.call(t);try{af.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function T4(t){if(!Xu||!t||typeof t!="object")return!1;try{Xu.call(t,Xu);try{Ku.call(t,Ku)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function R4(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function $A(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return $A(C_.call(t,0,e.maxStringLength),e)+n}var i=$o.call($o.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,P4);return jA(i,"single",e)}function P4(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+d4.call(e.toString(16))}function Gu(t){return"Object("+t+")"}function h_(t){return t+" { ? }"}function qA(t,e,r,n){var i=n?__(r,n):Fi.call(r,", ");return t+" ("+e+") {"+i+"}"}function D4(t){for(var e=0;e<t.length;e++)if(UA(t[e],`
`)>=0)return!1;return!0}function I4(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Fi.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Fi.call(Array(e+1),r)}}function __(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Fi.call(t,","+r)+`
`+e.prev}function sf(t,e){var r=b_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Uo(t,i)?e(t[i],t):""}var o=typeof m_=="function"?m_(t):[],s;if(oc){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in t)Uo(t,c)&&(r&&String(Number(c))===c&&c<t.length||oc&&s["$"+c]instanceof Symbol||(MA.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof m_=="function")for(var u=0;u<o.length;u++)LA.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}});var VA=$((Ore,zA)=>{"use strict";var E_=Ns(),sc=xA(),O4=BA(),A4=E_("%TypeError%"),uf=E_("%WeakMap%",!0),lf=E_("%Map%",!0),k4=sc("WeakMap.prototype.get",!0),N4=sc("WeakMap.prototype.set",!0),q4=sc("WeakMap.prototype.has",!0),M4=sc("Map.prototype.get",!0),L4=sc("Map.prototype.set",!0),j4=sc("Map.prototype.has",!0),S_=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},F4=function(t,e){var r=S_(t,e);return r&&r.value},U4=function(t,e,r){var n=S_(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},$4=function(t,e){return!!S_(t,e)};zA.exports=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new A4("Side channel does not contain "+O4(o))},get:function(o){if(uf&&o&&(typeof o=="object"||typeof o=="function")){if(e)return k4(e,o)}else if(lf){if(r)return M4(r,o)}else if(n)return F4(n,o)},has:function(o){if(uf&&o&&(typeof o=="object"||typeof o=="function")){if(e)return q4(e,o)}else if(lf){if(r)return j4(r,o)}else if(n)return $4(n,o);return!1},set:function(o,s){uf&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new uf),N4(e,o,s)):lf?(r||(r=new lf),L4(r,o,s)):(n||(n={key:{},next:null}),U4(n,o,s))}};return i}});var df=$((Are,WA)=>{"use strict";var H4=String.prototype.replace,B4=/%20/g,T_={RFC1738:"RFC1738",RFC3986:"RFC3986"};WA.exports={default:T_.RFC3986,formatters:{RFC1738:function(t){return H4.call(t,B4,"+")},RFC3986:function(t){return String(t)}},RFC1738:T_.RFC1738,RFC3986:T_.RFC3986}});var P_=$((kre,KA)=>{"use strict";var z4=df(),R_=Object.prototype.hasOwnProperty,qs=Array.isArray,Ui=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),V4=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(qs(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},GA=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},W4=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(qs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!R_.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return qs(e)&&!qs(r)&&(i=GA(e,n)),qs(e)&&qs(r)?(r.forEach(function(o,s){if(R_.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return R_.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},G4=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},K4=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},X4=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<s.length;++c){var u=s.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===z4.RFC1738&&(u===40||u===41)){a+=s.charAt(c);continue}if(u<128){a=a+Ui[u];continue}if(u<2048){a=a+(Ui[192|u>>6]+Ui[128|u&63]);continue}if(u<55296||u>=57344){a=a+(Ui[224|u>>12]+Ui[128|u>>6&63]+Ui[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|s.charCodeAt(c)&1023),a+=Ui[240|u>>18]+Ui[128|u>>12&63]+Ui[128|u>>6&63]+Ui[128|u&63]}return a},Q4=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:u}),n.push(l))}return V4(r),e},Z4=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Y4=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},J4=function(e,r){return[].concat(e,r)},eK=function(e,r){if(qs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};KA.exports={arrayToObject:GA,assign:G4,combine:J4,compact:Q4,decode:K4,encode:X4,isBuffer:Y4,isRegExp:Z4,maybeMap:eK,merge:W4}});var ek=$((Nre,JA)=>{"use strict";var ZA=VA(),pf=P_(),Qu=df(),tK=Object.prototype.hasOwnProperty,XA={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},oo=Array.isArray,rK=Array.prototype.push,YA=function(t,e){rK.apply(t,oo(e)?e:[e])},nK=Date.prototype.toISOString,QA=Qu.default,pn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pf.encode,encodeValuesOnly:!1,format:QA,formatter:Qu.formatters[QA],indices:!1,serializeDate:function(e){return nK.call(e)},skipNulls:!1,strictNullHandling:!1},iK=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},D_={},oK=function t(e,r,n,i,o,s,a,c,u,l,d,p,m,f,g,y){for(var b=e,x=y,w=0,C=!1;(x=x.get(D_))!==void 0&&!C;){var P=x.get(e);if(w+=1,typeof P<"u"){if(P===w)throw new RangeError("Cyclic object value");C=!0}typeof x.get(D_)>"u"&&(w=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=d(b):n==="comma"&&oo(b)&&(b=pf.maybeMap(b,function(de){return de instanceof Date?d(de):de})),b===null){if(o)return a&&!f?a(r,pn.encoder,g,"key",p):r;b=""}if(iK(b)||pf.isBuffer(b)){if(a){var k=f?r:a(r,pn.encoder,g,"key",p);return[m(k)+"="+m(a(b,pn.encoder,g,"value",p))]}return[m(r)+"="+m(String(b))]}var q=[];if(typeof b>"u")return q;var j;if(n==="comma"&&oo(b))f&&a&&(b=pf.maybeMap(b,a)),j=[{value:b.length>0?b.join(",")||null:void 0}];else if(oo(c))j=c;else{var Q=Object.keys(b);j=u?Q.sort(u):Q}for(var ne=i&&oo(b)&&b.length===1?r+"[]":r,X=0;X<j.length;++X){var H=j[X],ae=typeof H=="object"&&typeof H.value<"u"?H.value:b[H];if(!(s&&ae===null)){var ee=oo(b)?typeof n=="function"?n(ne,H):ne:ne+(l?"."+H:"["+H+"]");y.set(e,w);var xe=ZA();xe.set(D_,y),YA(q,t(ae,ee,n,i,o,s,n==="comma"&&f&&oo(b)?null:a,c,u,l,d,p,m,f,g,xe))}}return q},sK=function(e){if(!e)return pn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||pn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Qu.default;if(typeof e.format<"u"){if(!tK.call(Qu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Qu.formatters[n],o=pn.filter;return(typeof e.filter=="function"||oo(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:pn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?pn.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pn.charsetSentinel,delimiter:typeof e.delimiter>"u"?pn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:pn.encode,encoder:typeof e.encoder=="function"?e.encoder:pn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:pn.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:pn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:pn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pn.strictNullHandling}};JA.exports=function(t,e){var r=t,n=sK(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):oo(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in XA?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=XA[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=ZA(),d=0;d<i.length;++d){var p=i[d];n.skipNulls&&r[p]===null||YA(s,oK(r[p],p,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var m=s.join(n.delimiter),f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),m.length>0?f+m:""}});var nk=$((qre,rk)=>{"use strict";var ac=P_(),I_=Object.prototype.hasOwnProperty,aK=Array.isArray,Gr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ac.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},cK=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},tk=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},uK="utf8=%26%2310003%3B",lK="utf8=%E2%9C%93",dK=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===lK?u="utf-8":s[c]===uK&&(u="iso-8859-1"),a=c,c=s.length);for(c=0;c<s.length;++c)if(c!==a){var l=s[c],d=l.indexOf("]="),p=d===-1?l.indexOf("="):d+1,m,f;p===-1?(m=r.decoder(l,Gr.decoder,u,"key"),f=r.strictNullHandling?null:""):(m=r.decoder(l.slice(0,p),Gr.decoder,u,"key"),f=ac.maybeMap(tk(l.slice(p+1),r),function(g){return r.decoder(g,Gr.decoder,u,"value")})),f&&r.interpretNumericEntities&&u==="iso-8859-1"&&(f=cK(f)),l.indexOf("[]=")>-1&&(f=aK(f)?[f]:f),I_.call(n,m)?n[m]=ac.combine(n[m],f):n[m]=f}return n},pK=function(t,e,r,n){for(var i=n?e:tk(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?s={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[],s[u]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},fK=function(e,r,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&s.exec(o),u=c?o.slice(0,c.index):o,l=[];if(u){if(!n.plainObjects&&I_.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var d=0;n.depth>0&&(c=a.exec(o))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&I_.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+o.slice(c.index)+"]"),pK(l,r,n,i)}},mK=function(e){if(!e)return Gr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Gr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Gr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Gr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Gr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Gr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Gr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Gr.comma,decoder:typeof e.decoder=="function"?e.decoder:Gr.decoder,delimiter:typeof e.delimiter=="string"||ac.isRegExp(e.delimiter)?e.delimiter:Gr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Gr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Gr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Gr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Gr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Gr.strictNullHandling}};rk.exports=function(t,e){var r=mK(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?dK(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],c=fK(a,n[a],r,typeof t=="string");i=ac.merge(i,c,r)}return r.allowSparse===!0?i:ac.compact(i)}});var ok=$((Mre,ik)=>{"use strict";var hK=ek(),gK=nk(),vK=df();ik.exports={formats:vK,parse:gK,stringify:hK}});var Rk=$(($ie,Tk)=>{var i9=Do(),o9=(t,e)=>{let r=i9(t,e);return r?r.version:null};Tk.exports=o9});var Dk=$((Hie,Pk)=>{var s9=Do(),a9=(t,e)=>{let r=s9(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Pk.exports=a9});var Ak=$((Bie,Ok)=>{var Ik=cn(),c9=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Ik(t instanceof Ik?t.version:t,r).inc(e,n,i).version}catch{return null}};Ok.exports=c9});var qk=$((zie,Nk)=>{var kk=Do(),u9=(t,e)=>{let r=kk(t,null,!0),n=kk(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};Nk.exports=u9});var Lk=$((Vie,Mk)=>{var l9=cn(),d9=(t,e)=>new l9(t,e).major;Mk.exports=d9});var Fk=$((Wie,jk)=>{var p9=cn(),f9=(t,e)=>new p9(t,e).minor;jk.exports=f9});var $k=$((Gie,Uk)=>{var m9=cn(),h9=(t,e)=>new m9(t,e).patch;Uk.exports=h9});var Bk=$((Kie,Hk)=>{var g9=Do(),v9=(t,e)=>{let r=g9(t,e);return r&&r.prerelease.length?r.prerelease:null};Hk.exports=v9});var Vk=$((Xie,zk)=>{var y9=oi(),b9=(t,e,r)=>y9(e,t,r);zk.exports=b9});var Gk=$((Qie,Wk)=>{var _9=oi(),x9=(t,e)=>_9(t,e,!0);Wk.exports=x9});var _f=$((Zie,Xk)=>{var Kk=cn(),w9=(t,e,r)=>{let n=new Kk(t,r),i=new Kk(e,r);return n.compare(i)||n.compareBuild(i)};Xk.exports=w9});var Zk=$((Yie,Qk)=>{var C9=_f(),E9=(t,e)=>t.sort((r,n)=>C9(r,n,e));Qk.exports=E9});var Jk=$((Jie,Yk)=>{var S9=_f(),T9=(t,e)=>t.sort((r,n)=>S9(n,r,e));Yk.exports=T9});var tN=$((eoe,eN)=>{var R9=cn(),P9=Do(),{safeRe:xf,t:wf}=Ea(),D9=(t,e)=>{if(t instanceof R9)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?xf[wf.COERCEFULL]:xf[wf.COERCE]);else{let c=e.includePrerelease?xf[wf.COERCERTLFULL]:xf[wf.COERCERTL],u;for(;(u=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return P9(`${n}.${i}.${o}${s}${a}`,e)};eN.exports=D9});var nN=$((toe,rN)=>{var I9=si(),O9=(t,e)=>new I9(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));rN.exports=O9});var oN=$((roe,iN)=>{var A9=cn(),k9=si(),N9=(t,e,r)=>{let n=null,i=null,o=null;try{o=new k9(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new A9(n,r))}),n};iN.exports=N9});var aN=$((noe,sN)=>{var q9=cn(),M9=si(),L9=(t,e,r)=>{let n=null,i=null,o=null;try{o=new M9(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new q9(n,r))}),n};sN.exports=L9});var lN=$((ioe,uN)=>{var ex=cn(),j9=si(),cN=hu(),F9=(t,e)=>{t=new j9(t,e);let r=new ex("0.0.0");if(t.test(r)||(r=new ex("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new ex(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||cN(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||cN(r,o))&&(r=o)}return r&&t.test(r)?r:null};uN.exports=F9});var pN=$((ooe,dN)=>{var U9=si(),$9=(t,e)=>{try{return new U9(t,e).range||"*"}catch{return null}};dN.exports=$9});var Cf=$((soe,gN)=>{var H9=cn(),hN=vu(),{ANY:B9}=hN,z9=si(),V9=Ta(),fN=hu(),mN=op(),W9=sp(),G9=ip(),K9=(t,e,r,n)=>{t=new H9(t,n),e=new z9(e,n);let i,o,s,a,c;switch(r){case">":i=fN,o=W9,s=mN,a=">",c=">=";break;case"<":i=mN,o=G9,s=fN,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(V9(t,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,p=null;if(l.forEach(m=>{m.semver===B9&&(m=new hN(">=0.0.0")),d=d||m,p=p||m,i(m.semver,d.semver,n)?d=m:s(m.semver,p.semver,n)&&(p=m)}),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&o(t,p.semver))return!1;if(p.operator===c&&s(t,p.semver))return!1}return!0};gN.exports=K9});var yN=$((aoe,vN)=>{var X9=Cf(),Q9=(t,e,r)=>X9(t,e,">",r);vN.exports=Q9});var _N=$((coe,bN)=>{var Z9=Cf(),Y9=(t,e,r)=>Z9(t,e,"<",r);bN.exports=Y9});var CN=$((uoe,wN)=>{var xN=si(),J9=(t,e,r)=>(t=new xN(t,r),e=new xN(e,r),t.intersects(e,r));wN.exports=J9});var SN=$((loe,EN)=>{var e6=Ta(),t6=oi();EN.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((l,d)=>t6(l,d,r));for(let l of s)e6(l,e,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var ON=$((doe,IN)=>{var TN=si(),rx=vu(),{ANY:tx}=rx,el=Ta(),nx=oi(),r6=(t,e,r={})=>{if(t===e)return!0;t=new TN(t,r),e=new TN(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=i6(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},n6=[new rx(">=0.0.0-0")],RN=[new rx(">=0.0.0")],i6=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===tx){if(e.length===1&&e[0].semver===tx)return!0;r.includePrerelease?t=n6:t=RN}if(e.length===1&&e[0].semver===tx){if(r.includePrerelease)return!0;e=RN}let n=new Set,i,o;for(let m of t)m.operator===">"||m.operator===">="?i=PN(i,m,r):m.operator==="<"||m.operator==="<="?o=DN(o,m,r):n.add(m.semver);if(n.size>1)return null;let s;if(i&&o){if(s=nx(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let m of n){if(i&&!el(m,String(i),r)||o&&!el(m,String(o),r))return null;for(let f of e)if(!el(m,String(f),r))return!1;return!0}let a,c,u,l,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of e){if(l=l||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(a=PN(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!el(i.semver,String(m),r))return!1}if(o){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=DN(o,m,r),c===m&&c!==o)return!1}else if(o.operator==="<="&&!el(o.semver,String(m),r))return!1}if(!m.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||p||d)},PN=(t,e,r)=>{if(!t)return e;let n=nx(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},DN=(t,e,r)=>{if(!t)return e;let n=nx(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};IN.exports=r6});var qN=$((poe,NN)=>{var ix=Ea(),AN=mu(),o6=cn(),kN=Ty(),s6=Do(),a6=Rk(),c6=Dk(),u6=Ak(),l6=qk(),d6=Lk(),p6=Fk(),f6=$k(),m6=Bk(),h6=oi(),g6=Vk(),v6=Gk(),y6=_f(),b6=Zk(),_6=Jk(),x6=hu(),w6=op(),C6=Dy(),E6=Iy(),S6=ip(),T6=sp(),R6=Oy(),P6=tN(),D6=vu(),I6=si(),O6=Ta(),A6=nN(),k6=oN(),N6=aN(),q6=lN(),M6=pN(),L6=Cf(),j6=yN(),F6=_N(),U6=CN(),$6=SN(),H6=ON();NN.exports={parse:s6,valid:a6,clean:c6,inc:u6,diff:l6,major:d6,minor:p6,patch:f6,prerelease:m6,compare:h6,rcompare:g6,compareLoose:v6,compareBuild:y6,sort:b6,rsort:_6,gt:x6,lt:w6,eq:C6,neq:E6,gte:S6,lte:T6,cmp:R6,coerce:P6,Comparator:D6,Range:I6,satisfies:O6,toComparators:A6,maxSatisfying:k6,minSatisfying:N6,minVersion:q6,validRange:M6,outside:L6,gtr:j6,ltr:F6,intersects:U6,simplifyRange:$6,subset:H6,SemVer:o6,re:ix.re,src:ix.src,tokens:ix.t,SEMVER_SPEC_VERSION:AN.SEMVER_SPEC_VERSION,RELEASE_TYPES:AN.RELEASE_TYPES,compareIdentifiers:kN.compareIdentifiers,rcompareIdentifiers:kN.rcompareIdentifiers}});var iq=$(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.pathToRegexp=mn.tokensToRegexp=mn.regexpToFunction=mn.match=mn.tokensToFunction=mn.compile=mn.parse=void 0;function d8(t){for(var e=[],r=0;r<t.length;){var n=t[r];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(n==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(n==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(n===":"){for(var i="",o=r+1;o<t.length;){var s=t.charCodeAt(o);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){i+=t[o++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:i}),r=o;continue}if(n==="("){var a=1,c="",o=r+1;if(t[o]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(o));for(;o<t.length;){if(t[o]==="\\"){c+=t[o++]+t[o++];continue}if(t[o]===")"){if(a--,a===0){o++;break}}else if(t[o]==="("&&(a++,t[o+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(o));c+=t[o++]}if(a)throw new TypeError("Unbalanced pattern at ".concat(r));if(!c)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:c}),r=o;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function bx(t,e){e===void 0&&(e={});for(var r=d8(t),n=e.prefixes,i=n===void 0?"./":n,o="[^".concat(mc(e.delimiter||"/#?"),"]+?"),s=[],a=0,c=0,u="",l=function(k){if(c<r.length&&r[c].type===k)return r[c++].value},d=function(k){var q=l(k);if(q!==void 0)return q;var j=r[c],Q=j.type,ne=j.index;throw new TypeError("Unexpected ".concat(Q," at ").concat(ne,", expected ").concat(k))},p=function(){for(var k="",q;q=l("CHAR")||l("ESCAPED_CHAR");)k+=q;return k};c<r.length;){var m=l("CHAR"),f=l("NAME"),g=l("PATTERN");if(f||g){var y=m||"";i.indexOf(y)===-1&&(u+=y,y=""),u&&(s.push(u),u=""),s.push({name:f||a++,prefix:y,suffix:"",pattern:g||o,modifier:l("MODIFIER")||""});continue}var b=m||l("ESCAPED_CHAR");if(b){u+=b;continue}u&&(s.push(u),u="");var x=l("OPEN");if(x){var y=p(),w=l("NAME")||"",C=l("PATTERN")||"",P=p();d("CLOSE"),s.push({name:w||(C?a++:""),pattern:w&&!C?o:C,prefix:y,suffix:P,modifier:l("MODIFIER")||""});continue}d("END")}return s}mn.parse=bx;function p8(t,e){return tq(bx(t,e),e)}mn.compile=p8;function tq(t,e){e===void 0&&(e={});var r=_x(e),n=e.encode,i=n===void 0?function(c){return c}:n,o=e.validate,s=o===void 0?!0:o,a=t.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),r)});return function(c){for(var u="",l=0;l<t.length;l++){var d=t[l];if(typeof d=="string"){u+=d;continue}var p=c?c[d.name]:void 0,m=d.modifier==="?"||d.modifier==="*",f=d.modifier==="*"||d.modifier==="+";if(Array.isArray(p)){if(!f)throw new TypeError('Expected "'.concat(d.name,'" to not repeat, but got an array'));if(p.length===0){if(m)continue;throw new TypeError('Expected "'.concat(d.name,'" to not be empty'))}for(var g=0;g<p.length;g++){var y=i(p[g],d);if(s&&!a[l].test(y))throw new TypeError('Expected all "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(y,'"'));u+=d.prefix+y+d.suffix}continue}if(typeof p=="string"||typeof p=="number"){var y=i(String(p),d);if(s&&!a[l].test(y))throw new TypeError('Expected "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(y,'"'));u+=d.prefix+y+d.suffix;continue}if(!m){var b=f?"an array":"a string";throw new TypeError('Expected "'.concat(d.name,'" to be ').concat(b))}}return u}}mn.tokensToFunction=tq;function f8(t,e){var r=[],n=xx(t,r,e);return rq(n,r,e)}mn.match=f8;function rq(t,e,r){r===void 0&&(r={});var n=r.decode,i=n===void 0?function(o){return o}:n;return function(o){var s=t.exec(o);if(!s)return!1;for(var a=s[0],c=s.index,u=Object.create(null),l=function(p){if(s[p]===void 0)return"continue";var m=e[p-1];m.modifier==="*"||m.modifier==="+"?u[m.name]=s[p].split(m.prefix+m.suffix).map(function(f){return i(f,m)}):u[m.name]=i(s[p],m)},d=1;d<s.length;d++)l(d);return{path:a,index:c,params:u}}}mn.regexpToFunction=rq;function mc(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function _x(t){return t&&t.sensitive?"":"i"}function m8(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(t.source);i;)e.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(t.source);return t}function h8(t,e,r){var n=t.map(function(i){return xx(i,e,r).source});return new RegExp("(?:".concat(n.join("|"),")"),_x(r))}function g8(t,e,r){return nq(bx(t,r),e,r)}function nq(t,e,r){r===void 0&&(r={});for(var n=r.strict,i=n===void 0?!1:n,o=r.start,s=o===void 0?!0:o,a=r.end,c=a===void 0?!0:a,u=r.encode,l=u===void 0?function(ne){return ne}:u,d=r.delimiter,p=d===void 0?"/#?":d,m=r.endsWith,f=m===void 0?"":m,g="[".concat(mc(f),"]|$"),y="[".concat(mc(p),"]"),b=s?"^":"",x=0,w=t;x<w.length;x++){var C=w[x];if(typeof C=="string")b+=mc(l(C));else{var P=mc(l(C.prefix)),k=mc(l(C.suffix));if(C.pattern)if(e&&e.push(C),P||k)if(C.modifier==="+"||C.modifier==="*"){var q=C.modifier==="*"?"?":"";b+="(?:".concat(P,"((?:").concat(C.pattern,")(?:").concat(k).concat(P,"(?:").concat(C.pattern,"))*)").concat(k,")").concat(q)}else b+="(?:".concat(P,"(").concat(C.pattern,")").concat(k,")").concat(C.modifier);else C.modifier==="+"||C.modifier==="*"?b+="((?:".concat(C.pattern,")").concat(C.modifier,")"):b+="(".concat(C.pattern,")").concat(C.modifier);else b+="(?:".concat(P).concat(k,")").concat(C.modifier)}}if(c)i||(b+="".concat(y,"?")),b+=r.endsWith?"(?=".concat(g,")"):"$";else{var j=t[t.length-1],Q=typeof j=="string"?y.indexOf(j[j.length-1])>-1:j===void 0;i||(b+="(?:".concat(y,"(?=").concat(g,"))?")),Q||(b+="(?=".concat(y,"|").concat(g,")"))}return new RegExp(b,_x(r))}mn.tokensToRegexp=nq;function xx(t,e,r){return t instanceof RegExp?m8(t,e):Array.isArray(t)?h8(t,e,r):g8(t,e,r)}mn.pathToRegexp=xx});var i5={};Kx(i5,{activate:()=>r5,deactivate:()=>n5});module.exports=Z1(i5);var Dr=je(require("vscode")),y1=je(Bw()),gn=je(Gy());var XR=je(require("net")),cp=je(require("vscode"));var Zr=je(require("vscode"));function wr(t,e){return Zr.workspace.getConfiguration(t,e)}function Ky(t,e){let r=Zr.ConfigurationTarget.Global,n=Zr.workspace.getConfiguration(t).inspect(e);return n===void 0||(n.globalValue&&(r=Zr.ConfigurationTarget.Global),n.workspaceFolderValue&&(r=Zr.ConfigurationTarget.WorkspaceFolder),n.workspaceValue&&(r=Zr.ConfigurationTarget.Workspace)),r}function Ao(){return Zr.window.visibleTextEditors.find(t=>!!t.viewColumn)}function ap(t){return t===void 0||t.isUntitled?!1:!!t.fileName.endsWith("tf")}function IB(t){return t.data?.retry!==void 0}async function KR(t,e,r){let n="Unknown Error";if(!IB(t))if(t instanceof Error?(n=t.message,r.sendTelemetryException(t)):typeof t=="string"&&(n=t,r.sendTelemetryException(new Error(t))),n==="INVALID_URI_WSL"){if(e.globalState.get("terraform.disableWSLNotification")===!0)return;let i="It looks like you opened a WSL url using a Windows UNC path outside of the [Remote WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl). The HashiCorp Terraform Extension works seamlessly with the Remote WSL Extension, but cannot work with this URL. Would you like to reopen this folder in the WSL Extension?",o=await Zr.window.showErrorMessage(i,{detail:i,modal:!1},{title:"Reopen Folder in WSL"},{title:"More Info"},{title:"Supress"});if(o===void 0)return;switch(o.title){case"Suppress":r.sendTelemetryEvent("disableWSLNotification"),e.globalState.update("terraform.disableWSLNotification",!0);break;case"Reopen Folder in WSL":r.sendTelemetryEvent("reopenInWSL"),await Zr.commands.executeCommand("remote-wsl.reopenInWSL");break;case"More Info":r.sendTelemetryEvent("wslMoreInfo"),await Zr.commands.executeCommand("vscode.open",Zr.Uri.parse("https://github.com/hashicorp/vscode-terraform/blob/v2.24.0/README.md#remote-extension-support"))}}else await Zr.window.showErrorMessage(n)}async function QR(t,e){let r,n=wr("terraform").get("languageServer.tcp.port");if(n){let a=cp.workspace.getConfiguration("terraform").inspect("languageServer.path");return a!==void 0&&(a.globalValue||a.workspaceFolderValue||a.workspaceValue)&&cp.window.showWarningMessage("You cannot use terraform.languageServer.tcp.port with terraform.languageServer.path. Ignoring terraform.languageServer.path and proceeding to connect via TCP"),r=async()=>{let c=new XR.Socket;return c.connect({port:n,host:"localhost"}),{writer:c,reader:c}},e.appendLine(`Connecting to language server via TCP at localhost:${n}`),r}let i=await t.resolvedPathToBinary(),o=wr("terraform").get("languageServer.args",[]);e.appendLine(`Launching language server: ${i} ${o.join(" ")}`);let s={command:i,args:o,options:{}};return r={run:s,debug:s},r}function ZR(t,e){return t?t.capabilities.executeCommandProvider?.commands.includes(e)??!1:!1}var YR=je(require("child_process")),Pa=je(require("os")),wi=je(require("vscode")),up=class{constructor(e){this.ctx=e;this.ctx.subscriptions.push(wi.commands.registerCommand("terraform.generateBugReport",async()=>{let r=await wi.window.showInputBox({title:"Generate a Bug Report",prompt:"Enter a short description of the problem or hit enter to submit now",placeHolder:"For example: I'm having trouble getting autocomplete to work when I..."}),n=this.getExtensions(),i=this.generateBody(n,r),s=`https://github.com/hashicorp/vscode-terraform/issues/new?body=${encodeURIComponent(i)}`;wi.commands.executeCommand("vscode.open",wi.Uri.parse(s))}))}dispose(){}generateBody(e,r){return r||(r=`Steps To Reproduce
=====

Steps to reproduce the behavior:

1. Go to '...'
2. Type '...'
3. See error

Include any relevant Terraform configuration or project structure:

\`\`\`terraform
resource "github_repository" "test" {
  name = "vscode-terraform"
}
\`\`\`


You can use 'tree' to output ASCII-based hierarchy of your project.

If applicable, add screenshots to help explain your problem.

Expected Behavior
-----

<!-- What should have happened? -->

Actual Behavior
-----

<!-- What actually happened? -->

Additional context
-----

<!--
Add any other context about the problem here.
Note whether you use any tools for managing Terraform version/execution (e.g. 'tfenv')
any credentials helpers, or whether you have any other Terraform extensions installed.
-->
`),`Issue Description
=====

${r}

Environment Information
=====

Terraform Information
-----

${this.generateRuntimeMarkdown(this.getRuntimeInfo())}

Visual Studio Code
-----

| Name | Version |
| --- | --- |
| Operating System | ${Pa.type()} ${Pa.arch()} ${Pa.release()} |
| VSCode | ${wi.version}|

Visual Studio Code Extensions
-----

<details><summary>Visual Studio Code Extensions(Click to Expand)</summary>

${this.generateExtesnionMarkdown(e)}
</details>

Extension Logs
-----

> Find this from the first few lines of the relevant Output pane:
View -> Output -> 'HashiCorp Terraform'

`}generateExtesnionMarkdown(e){if(!e.length)return"none";let r=`|Extension|Author|Version|
|---|---|---|`,n=e.map(o=>`|${o.name}|${o.publisher}|${o.version}|`).join(`
`);return`${r}
${n}`}generateRuntimeMarkdown(e){return`
Version:	${e.version}
Platform:	${e.platform}
Outdated:	${e.outdated}
    `}getExtensions(){return wi.extensions.all.filter(r=>r.packageJSON.isBuiltin===!1).sort((r,n)=>r.packageJSON.name.toLowerCase()<n.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>n.packageJSON.name.toLowerCase()?1:0).map(r=>({name:r.packageJSON.name,publisher:r.packageJSON.publisher,version:r.packageJSON.version}))}getRuntimeInfo(){let e="terraform",r=YR.spawnSync,n=r(e,["version","-json"]);if(n.error===void 0)try{let o=n.stdout.toString(),s=JSON.parse(o);return{version:s.terraform_version,platform:s.platform,outdated:s.terraform_outdated}}catch{}let i=r(e,["version"]);if(i.error===void 0)try{let o=i.stdout.toString()||i.stderr.toString(),a=new RegExp("v?(?<version>[0-9]+(?:.[0-9]+)*(?:-[A-Za-z0-9.]+)?)").exec(o),c=a&&a.length>1?a[1]:"Not found",u=o.split(`
`)[1].replace("on ","");return{version:c,platform:u,outdated:!0}}catch{}return{version:"Not found",platform:"Not found",outdated:!1}}};var aP=je(require("path"));var Yr=je(require("vscode")),eP=je(Gy());var JR;(()=>{"use strict";var t={470:i=>{function o(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,u){for(var l,d="",p=0,m=-1,f=0,g=0;g<=c.length;++g){if(g<c.length)l=c.charCodeAt(g);else{if(l===47)break;l=47}if(l===47){if(!(m===g-1||f===1))if(m!==g-1&&f===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var y=d.lastIndexOf("/");if(y!==d.length-1){y===-1?(d="",p=0):p=(d=d.slice(0,y)).length-1-d.lastIndexOf("/"),m=g,f=0;continue}}else if(d.length===2||d.length===1){d="",p=0,m=g,f=0;continue}}u&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+c.slice(m+1,g):d=c.slice(m+1,g),p=g-m-1;m=g,f=0}else l===46&&f!==-1?++f:f=-1}return d}var a={resolve:function(){for(var c,u="",l=!1,d=arguments.length-1;d>=-1&&!l;d--){var p;d>=0?p=arguments[d]:(c===void 0&&(c=process.cwd()),p=c),o(p),p.length!==0&&(u=p+"/"+u,l=p.charCodeAt(0)===47)}return u=s(u,!l),l?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(o(c),c.length===0)return".";var u=c.charCodeAt(0)===47,l=c.charCodeAt(c.length-1)===47;return(c=s(c,!u)).length!==0||u||(c="."),c.length>0&&l&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return o(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var l=arguments[u];o(l),l.length>0&&(c===void 0?c=l:c+="/"+l)}return c===void 0?".":a.normalize(c)},relative:function(c,u){if(o(c),o(u),c===u||(c=a.resolve(c))===(u=a.resolve(u)))return"";for(var l=1;l<c.length&&c.charCodeAt(l)===47;++l);for(var d=c.length,p=d-l,m=1;m<u.length&&u.charCodeAt(m)===47;++m);for(var f=u.length-m,g=p<f?p:f,y=-1,b=0;b<=g;++b){if(b===g){if(f>g){if(u.charCodeAt(m+b)===47)return u.slice(m+b+1);if(b===0)return u.slice(m+b)}else p>g&&(c.charCodeAt(l+b)===47?y=b:b===0&&(y=0));break}var x=c.charCodeAt(l+b);if(x!==u.charCodeAt(m+b))break;x===47&&(y=b)}var w="";for(b=l+y+1;b<=d;++b)b!==d&&c.charCodeAt(b)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+u.slice(m+y):(m+=y,u.charCodeAt(m)===47&&++m,u.slice(m))},_makeLong:function(c){return c},dirname:function(c){if(o(c),c.length===0)return".";for(var u=c.charCodeAt(0),l=u===47,d=-1,p=!0,m=c.length-1;m>=1;--m)if((u=c.charCodeAt(m))===47){if(!p){d=m;break}}else p=!1;return d===-1?l?"/":".":l&&d===1?"//":c.slice(0,d)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');o(c);var l,d=0,p=-1,m=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var f=u.length-1,g=-1;for(l=c.length-1;l>=0;--l){var y=c.charCodeAt(l);if(y===47){if(!m){d=l+1;break}}else g===-1&&(m=!1,g=l+1),f>=0&&(y===u.charCodeAt(f)?--f==-1&&(p=l):(f=-1,p=g))}return d===p?p=g:p===-1&&(p=c.length),c.slice(d,p)}for(l=c.length-1;l>=0;--l)if(c.charCodeAt(l)===47){if(!m){d=l+1;break}}else p===-1&&(m=!1,p=l+1);return p===-1?"":c.slice(d,p)},extname:function(c){o(c);for(var u=-1,l=0,d=-1,p=!0,m=0,f=c.length-1;f>=0;--f){var g=c.charCodeAt(f);if(g!==47)d===-1&&(p=!1,d=f+1),g===46?u===-1?u=f:m!==1&&(m=1):u!==-1&&(m=-1);else if(!p){l=f+1;break}}return u===-1||d===-1||m===0||m===1&&u===d-1&&u===l+1?"":c.slice(u,d)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,l){var d=l.dir||l.root,p=l.base||(l.name||"")+(l.ext||"");return d?d===l.root?d+p:d+"/"+p:p}(0,c)},parse:function(c){o(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var l,d=c.charCodeAt(0),p=d===47;p?(u.root="/",l=1):l=0;for(var m=-1,f=0,g=-1,y=!0,b=c.length-1,x=0;b>=l;--b)if((d=c.charCodeAt(b))!==47)g===-1&&(y=!1,g=b+1),d===46?m===-1?m=b:x!==1&&(x=1):m!==-1&&(x=-1);else if(!y){f=b+1;break}return m===-1||g===-1||x===0||x===1&&m===g-1&&m===f+1?g!==-1&&(u.base=u.name=f===0&&p?c.slice(1,g):c.slice(f,g)):(f===0&&p?(u.name=c.slice(1,m),u.base=c.slice(1,g)):(u.name=c.slice(f,m),u.base=c.slice(f,g)),u.ext=c.slice(m,g)),f>0?u.dir=c.slice(0,f-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.d=(i,o)=>{for(var s in o)r.o(o,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},r.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>p,Utils:()=>ne}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(X,H){if(!X.scheme&&H)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${X.authority}", path: "${X.path}", query: "${X.query}", fragment: "${X.fragment}"}`);if(X.scheme&&!o.test(X.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(X.path){if(X.authority){if(!s.test(X.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(X.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(H){return H instanceof p||!!H&&typeof H.authority=="string"&&typeof H.fragment=="string"&&typeof H.path=="string"&&typeof H.query=="string"&&typeof H.scheme=="string"&&typeof H.fsPath=="string"&&typeof H.with=="function"&&typeof H.toString=="function"}scheme;authority;path;query;fragment;constructor(H,ae,ee,xe,de,z=!1){typeof H=="object"?(this.scheme=H.scheme||u,this.authority=H.authority||u,this.path=H.path||u,this.query=H.query||u,this.fragment=H.fragment||u):(this.scheme=function(Y,te){return Y||te?Y:"file"}(H,z),this.authority=ae||u,this.path=function(Y,te){switch(Y){case"https":case"http":case"file":te?te[0]!==l&&(te=l+te):te=l}return te}(this.scheme,ee||u),this.query=xe||u,this.fragment=de||u,c(this,z))}get fsPath(){return x(this,!1)}with(H){if(!H)return this;let{scheme:ae,authority:ee,path:xe,query:de,fragment:z}=H;return ae===void 0?ae=this.scheme:ae===null&&(ae=u),ee===void 0?ee=this.authority:ee===null&&(ee=u),xe===void 0?xe=this.path:xe===null&&(xe=u),de===void 0?de=this.query:de===null&&(de=u),z===void 0?z=this.fragment:z===null&&(z=u),ae===this.scheme&&ee===this.authority&&xe===this.path&&de===this.query&&z===this.fragment?this:new f(ae,ee,xe,de,z)}static parse(H,ae=!1){let ee=d.exec(H);return ee?new f(ee[2]||u,k(ee[4]||u),k(ee[5]||u),k(ee[7]||u),k(ee[9]||u),ae):new f(u,u,u,u,u)}static file(H){let ae=u;if(i&&(H=H.replace(/\\/g,l)),H[0]===l&&H[1]===l){let ee=H.indexOf(l,2);ee===-1?(ae=H.substring(2),H=l):(ae=H.substring(2,ee),H=H.substring(ee)||l)}return new f("file",ae,H,u,u)}static from(H){let ae=new f(H.scheme,H.authority,H.path,H.query,H.fragment);return c(ae,!0),ae}toString(H=!1){return w(this,H)}toJSON(){return this}static revive(H){if(H){if(H instanceof p)return H;{let ae=new f(H);return ae._formatted=H.external,ae._fsPath=H._sep===m?H.fsPath:null,ae}}return H}}let m=i?1:void 0;class f extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(H=!1){return H?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let H={$mid:1};return this._fsPath&&(H.fsPath=this._fsPath,H._sep=m),this._formatted&&(H.external=this._formatted),this.path&&(H.path=this.path),this.scheme&&(H.scheme=this.scheme),this.authority&&(H.authority=this.authority),this.query&&(H.query=this.query),this.fragment&&(H.fragment=this.fragment),H}}let g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(X,H,ae){let ee,xe=-1;for(let de=0;de<X.length;de++){let z=X.charCodeAt(de);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===45||z===46||z===95||z===126||H&&z===47||ae&&z===91||ae&&z===93||ae&&z===58)xe!==-1&&(ee+=encodeURIComponent(X.substring(xe,de)),xe=-1),ee!==void 0&&(ee+=X.charAt(de));else{ee===void 0&&(ee=X.substr(0,de));let Y=g[z];Y!==void 0?(xe!==-1&&(ee+=encodeURIComponent(X.substring(xe,de)),xe=-1),ee+=Y):xe===-1&&(xe=de)}}return xe!==-1&&(ee+=encodeURIComponent(X.substring(xe))),ee!==void 0?ee:X}function b(X){let H;for(let ae=0;ae<X.length;ae++){let ee=X.charCodeAt(ae);ee===35||ee===63?(H===void 0&&(H=X.substr(0,ae)),H+=g[ee]):H!==void 0&&(H+=X[ae])}return H!==void 0?H:X}function x(X,H){let ae;return ae=X.authority&&X.path.length>1&&X.scheme==="file"?`//${X.authority}${X.path}`:X.path.charCodeAt(0)===47&&(X.path.charCodeAt(1)>=65&&X.path.charCodeAt(1)<=90||X.path.charCodeAt(1)>=97&&X.path.charCodeAt(1)<=122)&&X.path.charCodeAt(2)===58?H?X.path.substr(1):X.path[1].toLowerCase()+X.path.substr(2):X.path,i&&(ae=ae.replace(/\//g,"\\")),ae}function w(X,H){let ae=H?b:y,ee="",{scheme:xe,authority:de,path:z,query:Y,fragment:te}=X;if(xe&&(ee+=xe,ee+=":"),(de||xe==="file")&&(ee+=l,ee+=l),de){let pe=de.indexOf("@");if(pe!==-1){let ge=de.substr(0,pe);de=de.substr(pe+1),pe=ge.lastIndexOf(":"),pe===-1?ee+=ae(ge,!1,!1):(ee+=ae(ge.substr(0,pe),!1,!1),ee+=":",ee+=ae(ge.substr(pe+1),!1,!0)),ee+="@"}de=de.toLowerCase(),pe=de.lastIndexOf(":"),pe===-1?ee+=ae(de,!1,!0):(ee+=ae(de.substr(0,pe),!1,!0),ee+=de.substr(pe))}if(z){if(z.length>=3&&z.charCodeAt(0)===47&&z.charCodeAt(2)===58){let pe=z.charCodeAt(1);pe>=65&&pe<=90&&(z=`/${String.fromCharCode(pe+32)}:${z.substr(3)}`)}else if(z.length>=2&&z.charCodeAt(1)===58){let pe=z.charCodeAt(0);pe>=65&&pe<=90&&(z=`${String.fromCharCode(pe+32)}:${z.substr(2)}`)}ee+=ae(z,!0,!1)}return Y&&(ee+="?",ee+=ae(Y,!1,!1)),te&&(ee+="#",ee+=H?te:y(te,!1,!1)),ee}function C(X){try{return decodeURIComponent(X)}catch{return X.length>3?X.substr(0,3)+C(X.substr(3)):X}}let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function k(X){return X.match(P)?X.replace(P,H=>C(H)):X}var q=r(470);let j=q.posix||q,Q="/";var ne;(function(X){X.joinPath=function(H,...ae){return H.with({path:j.join(H.path,...ae)})},X.resolvePath=function(H,...ae){let ee=H.path,xe=!1;ee[0]!==Q&&(ee=Q+ee,xe=!0);let de=j.resolve(ee,...ae);return xe&&de[0]===Q&&!H.authority&&(de=de.substring(1)),H.with({path:de})},X.dirname=function(H){if(H.path.length===0||H.path===Q)return H;let ae=j.dirname(H.path);return ae.length===1&&ae.charCodeAt(0)===46&&(ae=""),H.with({path:ae})},X.basename=function(H){return j.basename(H.path)},X.extname=function(H){return j.extname(H.path)}})(ne||(ne={}))})(),JR=n})();var{URI:JZ,Utils:ko}=JR;async function tP(t,e,r){return await Da("terraform-ls.module.terraform",t,e,r)}async function OB(t,e,r){return await Da("terraform-ls.module.callers",t,e,r)}async function rP(t,e,r){return await Da("terraform-ls.module.calls",t,e,r)}async function nP(t,e,r){return await Da("terraform-ls.module.providers",t,e,r)}async function iP(t,e){try{let r=Yr.workspace.workspaceFolders,n=await Yr.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:"Choose which workspace to initialize with terraform init",defaultUri:r?r[0]?.uri:void 0,openLabel:"Initialize"});if(n===void 0)return;let i=n[0];await Da("terraform-ls.terraform.init",i.toString(),t,e)}catch(r){r instanceof Error?Yr.window.showErrorMessage(r.message):typeof r=="string"&&Yr.window.showErrorMessage(r)}}async function oP(t,e){try{await sP("initCurrent",t,e)}catch(r){r instanceof Error?Yr.window.showErrorMessage(r.message):typeof r=="string"&&Yr.window.showErrorMessage(r)}}async function lp(t,e,r,n=!1){try{await sP(t,e,r,n)}catch(i){i instanceof Error?Yr.window.showErrorMessage(i.message):typeof i=="string"&&Yr.window.showErrorMessage(i)}}async function sP(t,e,r,n=!1){let i=Ao();if(i===void 0){Yr.window.showErrorMessage(`Open a Terraform module file and then run terraform ${t} again`);return}let o=ko.dirname(i.document.uri),s=await OB(o.toString(),e,r),a=await AB(o,s.callers);if(a===void 0)return;if(n){let u=`Terraform ${a}`,l=Yr.Uri.parse(a),d=await Yr.window.showInputBox({value:`terraform ${t}`,prompt:`Run in ${a}`});if(d===void 0)return;let p=Yr.window.terminals.find(m=>m.name===u)??Yr.window.createTerminal({name:`Terraform ${a}`,cwd:l});p.sendText(d),p.show(),r.sendTelemetryEvent("execShellCommand",{command:t});return}let c=`terraform-ls.terraform.${t}`;await Da(c,a,e,r)}async function Da(t,e,r,n){if(t==="terraform-ls.terraform.initCurrent"&&(n.sendTelemetryEvent("execWorkspaceCommand",{command:t}),t="terraform-ls.terraform.init"),!ZR(r.initializeResult,t))throw new Error(`${t} not supported by this terraform-ls version`);let o={command:t,arguments:[`uri=${e}`]};return r.sendRequest(eP.ExecuteCommandRequest.type,o)}async function AB(t,e){let r;if(e.length>1){let n=await Yr.window.showQuickPick(e.map(i=>i.uri),{canPickMany:!1,title:"Choose which workspace to initialize with terraform init"});if(n===void 0)return n;r=n}else e.length===1?r=e[0].uri:r=t.toString();return r}var Ut=je(require("vscode"));var Xy=class extends Ut.TreeItem{constructor(r,n,i,o,s,a,c){super(r,c.length>=1?Ut.TreeItemCollapsibleState.Collapsed:Ut.TreeItemCollapsibleState.None);this.label=r;this.sourceAddr=n;this.version=i;this.sourceType=o;this.docsLink=s;this.terraformIcon=a;this.children=c;this.description=this.version?this.version:"",this.version===void 0?this.tooltip=this.sourceAddr:this.tooltip=`${this.sourceAddr}@${this.version}`,this.iconPath=this.getIcon(this.sourceType)}getIcon(r){switch(r){case"tfregistry":return{light:this.terraformIcon,dark:this.terraformIcon};case"local":return new Ut.ThemeIcon("symbol-folder");case"github":return new Ut.ThemeIcon("github");case"git":return new Ut.ThemeIcon("git-branch");default:return new Ut.ThemeIcon("extensions-view-icon")}}},pp=class{constructor(e,r,n){this.client=r;this.reporter=n;this.svg=e.asAbsolutePath(aP.join("assets","icons","terraform.svg")),e.subscriptions.push(Ut.commands.registerCommand("terraform.modules.refreshList",()=>{this.refresh()}),Ut.commands.registerCommand("terraform.modules.openDocumentation",i=>{i.docsLink&&Ut.env.openExternal(Ut.Uri.parse(i.docsLink))}),Ut.window.onDidChangeActiveTextEditor(()=>{this.refresh()}))}_onDidChangeTreeData=new Ut.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;svg="";refresh(){this._onDidChangeTreeData.fire(void 0)}getTreeItem(e){return e}getChildren(e){if(e)return Promise.resolve(e.children);{let r=this.getModules();return Promise.resolve(r)}}async getModules(){let e=Ao();if(await Ut.commands.executeCommand("setContext","terraform.modules.documentOpened",!0),await Ut.commands.executeCommand("setContext","terraform.modules.documentIsTerraform",!0),await Ut.commands.executeCommand("setContext","terraform.modules.lspConnected",!0),await Ut.commands.executeCommand("setContext","terraform.modules.noResponse",!1),await Ut.commands.executeCommand("setContext","terraform.modules.noModules",!1),e?.document===void 0)return await Ut.commands.executeCommand("setContext","terraform.modules.documentOpened",!1),[];if(!ap(e.document))return await Ut.commands.executeCommand("setContext","terraform.modules.documentIsTerraform",!1),[];let r=e.document.uri,n=ko.dirname(r),i;try{i=await rP(n.toString(),this.client,this.reporter)}catch{return await Ut.commands.executeCommand("setContext","terraform.modules.noResponse",!0),[]}try{let o=i.module_calls.map(s=>this.toModuleCall(s.name,s.source_addr,s.version,s.source_type,s.docs_link,this.svg,s.dependent_modules));return o.length===0&&await Ut.commands.executeCommand("setContext","terraform.modules.noModules",!0),o}catch{return await Ut.commands.executeCommand("setContext","terraform.modules.noResponse",!0),[]}}toModuleCall(e,r,n,i,o,s,a){let c=[];return a.length!==0&&(c=a.map(u=>this.toModuleCall(u.name,u.source_addr,u.version,u.source_type,u.docs_link,s,u.dependent_modules))),new Xy(e,r,n,i,o,s,c)}};var Qt=je(require("vscode"));var Qy=class extends Qt.TreeItem{constructor(r,n,i,o,s){super(n,Qt.TreeItemCollapsibleState.None);this.fullName=r;this.displayName=n;this.requiredVersion=i;this.installedVersion=o;this.docsLink=s;this.description=o??"",this.iconPath=new Qt.ThemeIcon("package"),this.tooltip=`${r} ${i??""}`,s&&(this.contextValue="moduleProviderHasDocs")}},fp=class{constructor(e,r,n){this.client=r;this.reporter=n;e.subscriptions.push(Qt.commands.registerCommand("terraform.providers.refreshList",()=>{this.refresh()}),Qt.window.onDidChangeActiveTextEditor(()=>{this.refresh()}),Qt.commands.registerCommand("terraform.providers.openDocumentation",i=>{i.docsLink&&Qt.env.openExternal(Qt.Uri.parse(i.docsLink))}))}didChangeTreeData=new Qt.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;refresh(){this.didChangeTreeData.fire(void 0)}getTreeItem(e){return e}getChildren(e){return e?[]:this.getProvider()}async getProvider(){let e=Ao();if(await Qt.commands.executeCommand("setContext","terraform.providers.documentOpened",!0),await Qt.commands.executeCommand("setContext","terraform.providers.documentIsTerraform",!0),await Qt.commands.executeCommand("setContext","terraform.providers.lspConnected",!0),await Qt.commands.executeCommand("setContext","terraform.providers.noResponse",!1),await Qt.commands.executeCommand("setContext","terraform.providers.noProviders",!1),e?.document===void 0)return await Qt.commands.executeCommand("setContext","terraform.providers.documentOpened",!1),[];if(!ap(e.document))return await Qt.commands.executeCommand("setContext","terraform.providers.documentIsTerraform",!1),[];let r=e.document.uri,n=ko.dirname(r),i;try{i=await nP(n.toString(),this.client,this.reporter)}catch{return await Qt.commands.executeCommand("setContext","terraform.providers.noResponse",!0),[]}try{let o=Object.entries(i.provider_requirements).map(([s,a])=>new Qy(s,a.display_name,a.version_constraint,i.installed_providers[s],a.docs_link));return o.length===0&&await Qt.commands.executeCommand("setContext","terraform.providers.noProviders",!0),o}catch{return await Qt.commands.executeCommand("setContext","terraform.providers.noResponse",!0),[]}}};var No=je(require("path")),hp=je(require("vscode")),IP=je(DP());var YB="bin",mp=class{constructor(e){this.context=e;this.customBinPath=wr("terraform").get("languageServer.path")}customBinPath;installPath(){return No.join(this.context.extensionPath,YB)}hasCustomBinPath(){return!!this.customBinPath}binPath(){return this.customBinPath?this.customBinPath:No.resolve(this.installPath(),this.binName())}binName(){return this.customBinPath?No.basename(this.customBinPath):process.platform==="win32"?"terraform-ls.exe":"terraform-ls"}async resolvedPathToBinary(){let e=this.binPath(),r;try{No.isAbsolute(e)?(await hp.workspace.fs.stat(hp.Uri.file(e)),r=e):r=IP.sync(e),console.log(`Found server at ${r}`)}catch(n){let i="";throw this.customBinPath&&(i='. Check "terraform.languageServer.path" in your settings.'),new Error(`Unable to launch language server: ${n instanceof Error?n.message:n}${i}`)}return r}};var AP=je(require("vscode")),OP=1,gp=class{constructor(e,r,n){this.context=e;this.client=r;this.reporter=n}clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={}),e.experimental.telemetryVersion=OP}initialize(){AP.env.isTelemetryEnabled&&this.context.subscriptions.push(this.client.onTelemetry(e=>{if(e.v!==OP){console.log(`unsupported telemetry event: ${e.name}`);return}this.reporter.sendRawTelemetryEvent(e.name,e.properties)}))}dispose(){}};var Yi=je(require("vscode")),NP=je(Wy());var kP="client.showReferences",JB="editor.action.showReferences",vp=class{constructor(e){this._client=e}registeredCommands=[];isEnabled=wr("terraform").get("codelens.referenceCount",!1);clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){this.isEnabled&&(e.experimental||(e.experimental={}),e.experimental.showReferencesCommandId=kP)}initialize(e){if(!e.experimental?.referenceCountCodeLens||!this.isEnabled)return;let r=Yi.commands.registerCommand(kP,async(n,i)=>{let o=this._client,s=Yi.window.activeTextEditor?.document;if(!s)return;let a=new Yi.Position(n.line,n.character),c={includeDeclaration:i.includeDeclaration},u=o.getFeature(NP.ReferencesRequest.method).getProvider(s);if(!u)return;let l=new Yi.CancellationTokenSource,d=await u.provideReferences(s,a,c,l.token);await Yi.commands.executeCommand(JB,s.uri,a,d)});this.registeredCommands.push(r)}dispose(){this.registeredCommands.forEach(function(e,r,n){e.dispose(),n.splice(r,1)})}};var yp=class{constructor(e,r){this._client=e;this.manifest=r}clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){if(!e.textDocument?.semanticTokens)return;let r=this.tokenTypesFromExtManifest(this.manifest),n=this.tokenModifiersFromExtManifest(this.manifest),i=e.textDocument.semanticTokens.tokenTypes;e.textDocument.semanticTokens.tokenTypes=i.concat(r);let o=e.textDocument.semanticTokens.tokenModifiers;e.textDocument.semanticTokens.tokenModifiers=o.concat(n)}initialize(e){}dispose(){}tokenTypesFromExtManifest(e){return e.contributes.semanticTokenTypes?e.contributes.semanticTokenTypes.map(r=>r.id):[]}tokenModifiersFromExtManifest(e){return e.contributes.semanticTokenModifiers?e.contributes.semanticTokenModifiers.map(r=>r.id):[]}};var yu=je(require("vscode")),qP="client.refreshModuleProviders",bp=class{constructor(e,r,n){this.context=e;this.client=r;this.view=n}clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={}),e.experimental.refreshModuleProvidersCommandId=qP}initialize(e){if(this.context.subscriptions.push(yu.window.registerTreeDataProvider("terraform.providers",this.view)),!e.experimental?.refreshModuleProviders){console.log("Server doesn't support client.refreshModuleProviders"),yu.commands.executeCommand("setContext","terraform.providers.supported",!1);return}yu.commands.executeCommand("setContext","terraform.providers.supported",!0);let r=this.client.onRequest(qP,()=>{this.view.refresh()});this.context.subscriptions.push(r)}dispose(){}};var bu=je(require("vscode")),MP="client.refreshModuleCalls",_p=class{constructor(e,r,n){this.context=e;this.client=r;this.view=n}clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={}),e.experimental.refreshModuleCallsCommandId=MP}initialize(e){if(this.context.subscriptions.push(bu.window.registerTreeDataProvider("terraform.modules",this.view)),!e.experimental?.refreshModuleCalls){console.log("Server does not support client.refreshModuleCalls"),bu.commands.executeCommand("setContext","terraform.modules.supported",!1);return}bu.commands.executeCommand("setContext","terraform.modules.supported",!0);let r=this.client.onRequest(MP,()=>{this.view.refresh()});this.context.subscriptions.push(r)}dispose(){}};var _u=je(require("vscode")),Ci=_u.languages.createLanguageStatusItem("terraform-ls.status",[{language:"terraform"},{language:"terraform-vars"},{language:"terraform-stack"},{language:"terraform-deploy"},{language:"terraform-test"},{language:"terraform-mock"}]);Ci.name="Terraform LS";Ci.detail="Terraform LS";function LP(t){Ci.text=t}function xu(){Ci.busy=!1}function jP(){Ci.busy=!0}function FP(){Ci.busy=!0}function UP(){Ci.severity=_u.LanguageStatusSeverity.Warning,Ci.busy=!1}function Zy(t,e,r=_u.LanguageStatusSeverity.Information){Ci.busy=e,Ci.detail=t,Ci.severity=r}var $P=je(require("vscode")),wu=$P.languages.createLanguageStatusItem("terraform.installedVersion",[{language:"terraform"},{language:"terraform-vars"}]);wu.name="TerraformInstalledVersion";wu.detail="Terraform Installed";function HP(t){wu.text=t}function Jy(){wu.busy=!1}function BP(){wu.busy=!0}var zP=je(require("vscode")),Cu=zP.languages.createLanguageStatusItem("terraform.requiredVersion",[{language:"terraform"},{language:"terraform-vars"}]);Cu.name="TerraformRequiredVersion";Cu.detail="Terraform Required";function VP(t){Cu.text=t}function eb(){Cu.busy=!1}function WP(){Cu.busy=!0}var xp=class{constructor(e,r,n,i){this.context=e;this.client=r;this.reporter=n;this.outputChannel=i}clientTerraformVersionCommandId="client.refreshTerraformVersion";clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental=e.experimental||{},e.experimental.refreshTerraformVersionCommandId=this.clientTerraformVersionCommandId}initialize(e){if(!e.experimental?.refreshTerraformVersion){this.outputChannel.appendLine("Server doesn't support client.refreshTerraformVersion");return}let r=this.client.onRequest(this.clientTerraformVersionCommandId,async()=>{let n=Ao();if(n===void 0)return;let i=ko.dirname(n.document.uri);try{BP(),WP(),FP();let o=await tP(i.toString(),this.client,this.reporter);HP(o.discovered_version??"unknown"),VP(o.required_version??"any"),xu(),Jy(),eb()}catch(o){let s="Unknown Error";o instanceof Error?s=o.message:typeof o=="string"&&(s=o),this.outputChannel.appendLine(s),xu(),Jy(),eb()}});this.context.subscriptions.push(r)}dispose(){}};var wp=class{constructor(e,r,n){this.client=e;this.reporter=r;this.outputChannel=n}clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={})}initialize(){this.reporter.sendTelemetryEvent("startClient"),this.outputChannel.appendLine("Started client");let e=this.client.initializeResult;e!==void 0&&LP(e.serverInfo?.version??"")}};function GP(){let t=wr("terraform").get("validation",{enableEnhancedValidation:!0}),e=wr("terraform").get("languageServer.terraform",{path:"",timeout:"",logFilePath:""}),r=wr("terraform").get("languageServer.indexing",{ignoreDirectoryNames:[],ignorePaths:[]}),n=wr("terraform").get("languageServer.ignoreSingleFileWarning",!1),i=wr("terraform").get("experimentalFeatures"),o=wr("terraform").get("languageServer.rootModules",[]);if(o.length>0&&r.ignorePaths.length>0)throw new Error("Only one of rootModules and indexing.ignorePaths can be set at the same time, please remove the conflicting config and reload");return{validation:t,experimentalFeatures:i,ignoreSingleFileWarning:n,terraform:e,...o.length>0&&{rootModulePaths:o},indexing:r}}var ai=je(require("vscode"));var Cp=class{constructor(e){this.context=e;this.context.subscriptions.push(ai.workspace.onDidChangeConfiguration(async r=>{(r.affectsConfiguration("terraform")||r.affectsConfiguration("terraform-ls"))&&await ai.window.showInformationMessage("Reload VSCode window to apply language server changes","Reload")==="Reload"&&ai.commands.executeCommand("workbench.action.reloadWindow")}),ai.commands.registerCommand("terraform.enableLanguageServer",async()=>{if(wr("terraform").get("languageServer.enable")===!0)return;let r=Ky("terraform","languageServer.enable");await wr("terraform").update("languageServer.enable",!0,r)}),ai.commands.registerCommand("terraform.disableLanguageServer",async()=>{if(wr("terraform").get("languageServer.enable")===!1)return;let r=Ky("terraform","languageServer.enable");await wr("terraform").update("languageServer.enable",!1,r)}),ai.commands.registerCommand("terraform.openSettingsJson",async()=>await ai.workspace.getConfiguration("workbench").get("settings.editor")==="json"?await ai.commands.executeCommand("workbench.action.openSettingsJson",{revealSetting:{key:"terraform.languageServer.enable",edit:!0}}):await ai.commands.executeCommand("workbench.action.openSettings",{focusSearch:!0,query:"@ext:hashicorp.terraform"})))}dispose(){}};var Aa=je(require("vscode"));var Ep=class{constructor(e,r,n){this.client=e;this.reporter=r;this.context=n;this.context.subscriptions.push(Aa.commands.registerCommand("terraform.init",async()=>{await iP(this.client,this.reporter)}),Aa.commands.registerCommand("terraform.initCurrent",async()=>{await oP(this.client,this.reporter)}),Aa.commands.registerCommand("terraform.apply",async()=>{await lp("apply",this.client,this.reporter,!0)}),Aa.commands.registerCommand("terraform.plan",async()=>{await lp("plan",this.client,this.reporter,!0)}),Aa.commands.registerCommand("terraform.validate",async()=>{await lp("validate",this.client,this.reporter)}))}dispose(){}};var Zt=je(require("vscode"));var Je=je(require("vscode"));var lc=je(require("vscode"));function Eu(t,e){return function(){return t.apply(e,arguments)}}var{toString:rz}=Object.prototype,{getPrototypeOf:nb}=Object,Tp=(t=>e=>{let r=rz.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ei=t=>(t=t.toLowerCase(),e=>Tp(e)===t),Rp=t=>e=>typeof e===t,{isArray:ka}=Array,Su=Rp("undefined");function nz(t){return t!==null&&!Su(t)&&t.constructor!==null&&!Su(t.constructor)&&zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var QP=Ei("ArrayBuffer");function iz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QP(t.buffer),e}var oz=Rp("string"),zn=Rp("function"),ZP=Rp("number"),Pp=t=>t!==null&&typeof t=="object",sz=t=>t===!0||t===!1,Sp=t=>{if(Tp(t)!=="object")return!1;let e=nb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},az=Ei("Date"),cz=Ei("File"),uz=Ei("Blob"),lz=Ei("FileList"),dz=t=>Pp(t)&&zn(t.pipe),pz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zn(t.append)&&((e=Tp(t))==="formdata"||e==="object"&&zn(t.toString)&&t.toString()==="[object FormData]"))},fz=Ei("URLSearchParams"),[mz,hz,gz,vz]=["ReadableStream","Request","Response","Headers"].map(Ei),yz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ka(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function YP(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JP=t=>!Su(t)&&t!==us;function rb(){let{caseless:t}=JP(this)&&this||{},e={},r=(n,i)=>{let o=t&&YP(e,i)||i;Sp(e[o])&&Sp(n)?e[o]=rb(e[o],n):Sp(n)?e[o]=rb({},n):ka(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Tu(arguments[n],r);return e}var bz=(t,e,r,{allOwnKeys:n}={})=>(Tu(e,(i,o)=>{r&&zn(i)?t[o]=Eu(i,r):t[o]=i},{allOwnKeys:n}),t),_z=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xz=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},wz=(t,e,r,n)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&nb(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Cz=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},Ez=t=>{if(!t)return null;if(ka(t))return t;let e=t.length;if(!ZP(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Sz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nb(Uint8Array)),Tz=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},Rz=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Pz=Ei("HTMLFormElement"),Dz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),KP=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Iz=Ei("RegExp"),eD=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};Tu(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Oz=t=>{eD(t,(e,r)=>{if(zn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(zn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Az=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return ka(t)?n(t):n(String(t).split(e)),r},kz=()=>{},Nz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,tb="abcdefghijklmnopqrstuvwxyz",XP="0123456789",tD={DIGIT:XP,ALPHA:tb,ALPHA_DIGIT:tb+tb.toUpperCase()+XP},qz=(t=16,e=tD.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Mz(t){return!!(t&&zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var Lz=t=>{let e=new Array(10),r=(n,i)=>{if(Pp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=ka(n)?[]:{};return Tu(n,(s,a)=>{let c=r(s,i+1);!Su(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return r(t,0)},jz=Ei("AsyncFunction"),Fz=t=>t&&(Pp(t)||zn(t))&&zn(t.then)&&zn(t.catch),rD=((t,e)=>t?setImmediate:e?((r,n)=>(us.addEventListener("message",({source:i,data:o})=>{i===us&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),us.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",zn(us.postMessage)),Uz=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||rD,G={isArray:ka,isArrayBuffer:QP,isBuffer:nz,isFormData:pz,isArrayBufferView:iz,isString:oz,isNumber:ZP,isBoolean:sz,isObject:Pp,isPlainObject:Sp,isReadableStream:mz,isRequest:hz,isResponse:gz,isHeaders:vz,isUndefined:Su,isDate:az,isFile:cz,isBlob:uz,isRegExp:Iz,isFunction:zn,isStream:dz,isURLSearchParams:fz,isTypedArray:Sz,isFileList:lz,forEach:Tu,merge:rb,extend:bz,trim:yz,stripBOM:_z,inherits:xz,toFlatObject:wz,kindOf:Tp,kindOfTest:Ei,endsWith:Cz,toArray:Ez,forEachEntry:Tz,matchAll:Rz,isHTMLForm:Pz,hasOwnProperty:KP,hasOwnProp:KP,reduceDescriptors:eD,freezeMethods:Oz,toObjectSet:Az,toCamelCase:Dz,noop:kz,toFiniteNumber:Nz,findKey:YP,global:us,isContextDefined:JP,ALPHABET:tD,generateString:qz,isSpecCompliantForm:Mz,toJSONObject:Lz,isAsyncFn:jz,isThenable:Fz,setImmediate:rD,asap:Uz};function Na(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Na,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});var nD=Na.prototype,iD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iD[t]={value:t}});Object.defineProperties(Na,iD);Object.defineProperty(nD,"isAxiosError",{value:!0});Na.from=(t,e,r,n,i,o)=>{let s=Object.create(nD);return G.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Na.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var Se=Na;var UD=je(FD(),1),Op=UD.default;function mb(t){return G.isPlainObject(t)||G.isArray(t)}function HD(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function $D(t,e,r){return t?t.concat(e).map(function(i,o){return i=HD(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function CV(t){return G.isArray(t)&&!t.some(mb)}var EV=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function SV(t,e,r){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new(Op||FormData),r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!G.isUndefined(y[g])});let n=r.metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(G.isDate(f))return f.toISOString();if(!c&&G.isBlob(f))throw new Se("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(f)||G.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,g,y){let b=f;if(f&&!y&&typeof f=="object"){if(G.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(G.isArray(f)&&CV(f)||(G.isFileList(f)||G.endsWith(g,"[]"))&&(b=G.toArray(f)))return g=HD(g),b.forEach(function(w,C){!(G.isUndefined(w)||w===null)&&e.append(s===!0?$D([g],C,o):s===null?g:g+"[]",u(w))}),!1}return mb(f)?!0:(e.append($D(y,g,o),u(f)),!1)}let d=[],p=Object.assign(EV,{defaultVisitor:l,convertValue:u,isVisitable:mb});function m(f,g){if(!G.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(f),G.forEach(f,function(b,x){(!(G.isUndefined(b)||b===null)&&i.call(e,b,G.isString(x)?x.trim():x,g,p))===!0&&m(b,g?g.concat(x):[x])}),d.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return m(t),e}var qo=SV;function BD(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function zD(t,e){this._pairs=[],t&&qo(t,this,e)}var VD=zD.prototype;VD.append=function(e,r){this._pairs.push([e,r])};VD.toString=function(e){let r=e?function(n){return e.call(this,n,BD)}:BD;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var WD=zD;function TV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ls(t,e,r){if(!e)return t;let n=r&&r.encode||TV;G.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize,o;if(i?o=i(e,r):o=G.isURLSearchParams(e)?e.toString():new WD(e,r).toString(n),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var hb=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(n){n!==null&&e(n)})}},gb=hb;var qa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var GD=je(require("url"),1),KD=GD.default.URLSearchParams;var XD={isNode:!0,classes:{URLSearchParams:KD,FormData:Op,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};var bb={};Kx(bb,{hasBrowserEnv:()=>yb,hasStandardBrowserEnv:()=>RV,hasStandardBrowserWebWorkerEnv:()=>PV,navigator:()=>vb,origin:()=>DV});var yb=typeof window<"u"&&typeof document<"u",vb=typeof navigator=="object"&&navigator||void 0,RV=yb&&(!vb||["ReactNative","NativeScript","NS"].indexOf(vb.product)<0),PV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DV=yb&&window.location.href||"http://localhost";var Wt={...bb,...XD};function _b(t,e){return qo(t,new Wt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Wt.isNode&&G.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function IV(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function OV(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function AV(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),c=o>=r.length;return s=!s&&G.isArray(i)?i.length:s,c?(G.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!G.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&G.isArray(i[s])&&(i[s]=OV(i[s])),!a)}if(G.isFormData(t)&&G.isFunction(t.entries)){let r={};return G.forEachEntry(t,(n,i)=>{e(IV(n),i,r,0)}),r}return null}var Ap=AV;function kV(t,e,r){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var xb={transitional:qa,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(Ap(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _b(e,this.formSerializer).toString();if((a=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return qo(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),kV(e)):e}],transformResponse:[function(e){let r=this.transitional||xb.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Se.from(a,Se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{xb.headers[t]={}});var Ma=xb;var NV=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QD=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&NV[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};var ZD=Symbol("internals");function Ru(t){return t&&String(t).trim().toLowerCase()}function kp(t){return t===!1||t==null?t:G.isArray(t)?t.map(kp):String(t)}function qV(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var MV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wb(t,e,r,n,i){if(G.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!G.isString(e)){if(G.isString(n))return e.indexOf(n)!==-1;if(G.isRegExp(n))return n.test(e)}}function LV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function jV(t,e){let r=G.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var La=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function o(a,c,u){let l=Ru(c);if(!l)throw new Error("header name must be a non-empty string");let d=G.findKey(i,l);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=kp(a))}let s=(a,c)=>G.forEach(a,(u,l)=>o(u,l,c));if(G.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(G.isString(e)&&(e=e.trim())&&!MV(e))s(QD(e),r);else if(G.isHeaders(e))for(let[a,c]of e.entries())o(c,a,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=Ru(e),e){let n=G.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return qV(i);if(G.isFunction(r))return r.call(this,i,n);if(G.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ru(e),e){let n=G.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||wb(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function o(s){if(s=Ru(s),s){let a=G.findKey(n,s);a&&(!r||wb(n,n[a],a,r))&&(delete n[a],i=!0)}}return G.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||wb(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let r=this,n={};return G.forEach(this,(i,o)=>{let s=G.findKey(n,o);if(s){r[s]=kp(i),delete r[o];return}let a=e?LV(o):String(o).trim();a!==o&&delete r[o],r[a]=kp(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return G.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&G.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[ZD]=this[ZD]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=Ru(s);n[a]||(jV(i,s),n[a]=!0)}return G.isArray(e)?e.forEach(o):o(e),this}};La.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(La.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});G.freezeMethods(La);var gr=La;function Pu(t,e){let r=this||Ma,n=e||r,i=gr.from(n.headers),o=n.data;return G.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Du(t){return!!(t&&t.__CANCEL__)}function YD(t,e,r){Se.call(this,t??"canceled",Se.ERR_CANCELED,e,r),this.name="CanceledError"}G.inherits(YD,Se,{__CANCEL__:!0});var Vn=YD;function qi(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Se("Request failed with status code "+r.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Cb(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Eb(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ds(t,e){return t&&!Cb(e)?Eb(t,e):e}var NI=je(eI(),1),qI=je(require("http"),1),MI=je(require("https"),1),LI=je(require("util"),1),jI=je(yI(),1),eo=je(require("zlib"),1);var ms="1.7.9";function qu(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var E3=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Ub(t,e,r){let n=r&&r.Blob||Wt.classes.Blob,i=qu(t);if(e===void 0&&n&&(e=!0),i==="data"){t=i.length?t.slice(i.length+1):t;let o=E3.exec(t);if(!o)throw new Se("Invalid URL",Se.ERR_INVALID_URL);let s=o[1],a=o[2],c=o[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!n)throw new Se("Blob is not supported",Se.ERR_NOT_SUPPORT);return new n([u],{type:s})}return u}throw new Se("Unsupported protocol "+i,Se.ERR_NOT_SUPPORT)}var hs=je(require("stream"),1);var bI=je(require("stream"),1);var $b=Symbol("internals"),Hb=class extends bI.default.Transform{constructor(e){e=G.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(n,i)=>!G.isUndefined(i[n])),super({readableHighWaterMark:e.chunkSize});let r=this[$b]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",n=>{n==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[$b];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,n){let i=this[$b],o=i.maxRate,s=this.readableHighWaterMark,a=i.timeWindow,c=1e3/a,u=o/c,l=i.minChunkSize!==!1?Math.max(i.minChunkSize,u*.01):0,d=(m,f)=>{let g=Buffer.byteLength(m);i.bytesSeen+=g,i.bytes+=g,i.isCaptured&&this.emit("progress",i.bytesSeen),this.push(m)?process.nextTick(f):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(f)}},p=(m,f)=>{let g=Buffer.byteLength(m),y=null,b=s,x,w=0;if(o){let C=Date.now();(!i.ts||(w=C-i.ts)>=a)&&(i.ts=C,x=u-i.bytes,i.bytes=x<0?-x:0,w=0),x=u-i.bytes}if(o){if(x<=0)return setTimeout(()=>{f(null,m)},a-w);x<b&&(b=x)}b&&g>b&&g-b>l&&(y=m.subarray(b),m=m.subarray(0,b)),d(m,y?()=>{process.nextTick(f,null,y)}:f)};p(e,function m(f,g){if(f)return n(f);g?p(g,m):n(null)})}},Bb=Hb;var FI=require("events");var xI=je(require("util"),1),wI=require("stream");var{asyncIterator:_I}=Symbol,S3=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[_I]?yield*t[_I]():yield t},jp=S3;var T3=G.ALPHABET.ALPHA_DIGIT+"-_",Mu=typeof TextEncoder=="function"?new TextEncoder:new xI.default.TextEncoder,Mo=`\r
`,R3=Mu.encode(Mo),P3=2,zb=class{constructor(e,r){let{escapeName:n}=this.constructor,i=G.isString(r),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&r.name?`; filename="${n(r.name)}"`:""}${Mo}`;i?r=Mu.encode(String(r).replace(/\r?\n|\r\n?/g,Mo)):o+=`Content-Type: ${r.type||"application/octet-stream"}${Mo}`,this.headers=Mu.encode(o+Mo),this.contentLength=i?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+P3,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;G.isTypedArray(e)?yield e:yield*jp(e),yield R3}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},D3=(t,e,r)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+G.generateString(i,T3)}=r||{};if(!G.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=Mu.encode("--"+o+Mo),a=Mu.encode("--"+o+"--"+Mo+Mo),c=a.byteLength,u=Array.from(t.entries()).map(([d,p])=>{let m=new zb(d,p);return c+=m.size,m});c+=s.byteLength*u.length,c=G.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),wI.Readable.from(async function*(){for(let d of u)yield s,yield*d.encode();yield a}())},CI=D3;var EI=je(require("stream"),1),Vb=class extends EI.default.Transform{__transform(e,r,n){this.push(e),n()}_transform(e,r,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,r)}this.__transform(e,r,n)}},SI=Vb;var I3=(t,e)=>G.isAsyncFn(t)?function(...r){let n=r.pop();t.apply(this,r).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:t,TI=I3;function O3(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=n[o];s||(s=u),r[i]=c,n[i]=u;let d=o,p=0;for(;d!==i;)p+=r[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;let m=l&&u-l;return m?Math.round(p*1e3/m):void 0}}var RI=O3;function A3(t,e){let r=0,n=1e3/e,i,o,s=(u,l=Date.now())=>{r=l,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{let l=Date.now(),d=l-r;d>=n?s(u,l):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},n-d)))},()=>i&&s(i)]}var PI=A3;var Ji=(t,e,r=3)=>{let n=0,i=RI(50,250);return PI(o=>{let s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-n,u=i(c),l=s<=a;n=s;let d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},Ba=(t,e)=>{let r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},za=t=>(...e)=>G.asap(()=>t(...e));var DI={flush:eo.default.constants.Z_SYNC_FLUSH,finishFlush:eo.default.constants.Z_SYNC_FLUSH},k3={flush:eo.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:eo.default.constants.BROTLI_OPERATION_FLUSH},II=G.isFunction(eo.default.createBrotliDecompress),{http:N3,https:q3}=jI.default,M3=/https:?/,OI=Wt.protocols.map(t=>t+":"),AI=(t,[e,r])=>(t.on("end",r).on("error",r),e);function L3(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function UI(t,e,r){let n=e;if(!n&&n!==!1){let i=NI.default.getProxyForUrl(r);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let i=n.hostname||n.host;t.hostname=i,t.host=i,t.port=n.port,t.path=r,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(o){UI(o,e,o.href)}}var j3=typeof process<"u"&&G.kindOf(process)==="process",F3=t=>new Promise((e,r)=>{let n,i,o=(c,u)=>{i||(i=!0,n&&n(c,u))},s=c=>{o(c),e(c)},a=c=>{o(c,!0),r(c)};t(s,a,c=>n=c).catch(a)}),U3=({address:t,family:e})=>{if(!G.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},kI=(t,e)=>U3(G.isObject(t)?t:{address:t,family:e}),$I=j3&&function(e){return F3(async function(n,i,o){let{data:s,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,d=e.method.toUpperCase(),p,m=!1,f;if(a){let z=TI(a,Y=>G.isArray(Y)?Y:[Y]);a=(Y,te,pe)=>{z(Y,te,(ge,De,Re)=>{if(ge)return pe(ge);let ze=G.isArray(De)?De.map(We=>kI(We)):[kI(De,Re)];te.all?pe(ge,ze):pe(ge,ze[0].address,ze[0].family)})}}let g=new FI.EventEmitter,y=()=>{e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),g.removeAllListeners()};o((z,Y)=>{p=!0,Y&&(m=!0,y())});function b(z){g.emit("abort",!z||z.type?new Vn(null,e,f):z)}g.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));let x=ds(e.baseURL,e.url),w=new URL(x,Wt.hasBrowserEnv?Wt.origin:void 0),C=w.protocol||OI[0];if(C==="data:"){let z;if(d!=="GET")return qi(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{z=Ub(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(Y){throw Se.from(Y,Se.ERR_BAD_REQUEST,e)}return u==="text"?(z=z.toString(l),(!l||l==="utf8")&&(z=G.stripBOM(z))):u==="stream"&&(z=hs.default.Readable.from(z)),qi(n,i,{data:z,status:200,statusText:"OK",headers:new gr,config:e})}if(OI.indexOf(C)===-1)return i(new Se("Unsupported protocol "+C,Se.ERR_BAD_REQUEST,e));let P=gr.from(e.headers).normalize();P.set("User-Agent","axios/"+ms,!1);let{onUploadProgress:k,onDownloadProgress:q}=e,j=e.maxRate,Q,ne;if(G.isSpecCompliantForm(s)){let z=P.getContentType(/boundary=([-_\w\d]{10,70})/i);s=CI(s,Y=>{P.set(Y)},{tag:`axios-${ms}-boundary`,boundary:z&&z[1]||void 0})}else if(G.isFormData(s)&&G.isFunction(s.getHeaders)){if(P.set(s.getHeaders()),!P.hasContentLength())try{let z=await LI.default.promisify(s.getLength).call(s);Number.isFinite(z)&&z>=0&&P.setContentLength(z)}catch{}}else if(G.isBlob(s)||G.isFile(s))s.size&&P.setContentType(s.type||"application/octet-stream"),P.setContentLength(s.size||0),s=hs.default.Readable.from(jp(s));else if(s&&!G.isStream(s)){if(!Buffer.isBuffer(s))if(G.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(G.isString(s))s=Buffer.from(s,"utf-8");else return i(new Se("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Se.ERR_BAD_REQUEST,e));if(P.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new Se("Request body larger than maxBodyLength limit",Se.ERR_BAD_REQUEST,e))}let X=G.toFiniteNumber(P.getContentLength());G.isArray(j)?(Q=j[0],ne=j[1]):Q=ne=j,s&&(k||Q)&&(G.isStream(s)||(s=hs.default.Readable.from(s,{objectMode:!1})),s=hs.default.pipeline([s,new Bb({maxRate:G.toFiniteNumber(Q)})],G.noop),k&&s.on("progress",AI(s,Ba(X,Ji(za(k),!1,3)))));let H;if(e.auth){let z=e.auth.username||"",Y=e.auth.password||"";H=z+":"+Y}if(!H&&w.username){let z=w.username,Y=w.password;H=z+":"+Y}H&&P.delete("authorization");let ae;try{ae=ls(w.pathname+w.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(z){let Y=new Error(z.message);return Y.config=e,Y.url=e.url,Y.exists=!0,i(Y)}P.set("Accept-Encoding","gzip, compress, deflate"+(II?", br":""),!1);let ee={path:ae,method:d,headers:P.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:H,protocol:C,family:c,beforeRedirect:L3,beforeRedirects:{}};!G.isUndefined(a)&&(ee.lookup=a),e.socketPath?ee.socketPath=e.socketPath:(ee.hostname=w.hostname.startsWith("[")?w.hostname.slice(1,-1):w.hostname,ee.port=w.port,UI(ee,e.proxy,C+"//"+w.hostname+(w.port?":"+w.port:"")+ee.path));let xe,de=M3.test(ee.protocol);if(ee.agent=de?e.httpsAgent:e.httpAgent,e.transport?xe=e.transport:e.maxRedirects===0?xe=de?MI.default:qI.default:(e.maxRedirects&&(ee.maxRedirects=e.maxRedirects),e.beforeRedirect&&(ee.beforeRedirects.config=e.beforeRedirect),xe=de?q3:N3),e.maxBodyLength>-1?ee.maxBodyLength=e.maxBodyLength:ee.maxBodyLength=1/0,e.insecureHTTPParser&&(ee.insecureHTTPParser=e.insecureHTTPParser),f=xe.request(ee,function(Y){if(f.destroyed)return;let te=[Y],pe=+Y.headers["content-length"];if(q||ne){let We=new Bb({maxRate:G.toFiniteNumber(ne)});q&&We.on("progress",AI(We,Ba(pe,Ji(za(q),!0,3)))),te.push(We)}let ge=Y,De=Y.req||f;if(e.decompress!==!1&&Y.headers["content-encoding"])switch((d==="HEAD"||Y.statusCode===204)&&delete Y.headers["content-encoding"],(Y.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":te.push(eo.default.createUnzip(DI)),delete Y.headers["content-encoding"];break;case"deflate":te.push(new SI),te.push(eo.default.createUnzip(DI)),delete Y.headers["content-encoding"];break;case"br":II&&(te.push(eo.default.createBrotliDecompress(k3)),delete Y.headers["content-encoding"])}ge=te.length>1?hs.default.pipeline(te,G.noop):te[0];let Re=hs.default.finished(ge,()=>{Re(),y()}),ze={status:Y.statusCode,statusText:Y.statusMessage,headers:new gr(Y.headers),config:e,request:De};if(u==="stream")ze.data=ge,qi(n,i,ze);else{let We=[],mt=0;ge.on("data",function(ke){We.push(ke),mt+=ke.length,e.maxContentLength>-1&&mt>e.maxContentLength&&(m=!0,ge.destroy(),i(new Se("maxContentLength size of "+e.maxContentLength+" exceeded",Se.ERR_BAD_RESPONSE,e,De)))}),ge.on("aborted",function(){if(m)return;let ke=new Se("stream has been aborted",Se.ERR_BAD_RESPONSE,e,De);ge.destroy(ke),i(ke)}),ge.on("error",function(ke){f.destroyed||i(Se.from(ke,null,e,De))}),ge.on("end",function(){try{let ke=We.length===1?We[0]:Buffer.concat(We);u!=="arraybuffer"&&(ke=ke.toString(l),(!l||l==="utf8")&&(ke=G.stripBOM(ke))),ze.data=ke}catch(ke){return i(Se.from(ke,null,e,ze.request,ze))}qi(n,i,ze)})}g.once("abort",We=>{ge.destroyed||(ge.emit("error",We),ge.destroy())})}),g.once("abort",z=>{i(z),f.destroy(z)}),f.on("error",function(Y){i(Se.from(Y,null,e,f))}),f.on("socket",function(Y){Y.setKeepAlive(!0,1e3*60)}),e.timeout){let z=parseInt(e.timeout,10);if(Number.isNaN(z)){i(new Se("error trying to parse `config.timeout` to int",Se.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(z,function(){if(p)return;let te=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",pe=e.transitional||qa;e.timeoutErrorMessage&&(te=e.timeoutErrorMessage),i(new Se(te,pe.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,f)),b()})}if(G.isStream(s)){let z=!1,Y=!1;s.on("end",()=>{z=!0}),s.once("error",te=>{Y=!0,f.destroy(te)}),s.on("close",()=>{!z&&!Y&&b(new Vn("Request stream has been aborted",e,f))}),s.pipe(f)}else f.end(s)})};var HI=Wt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Wt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0;var BI=Wt.hasStandardBrowserEnv?{write(t,e,r,n,i,o){let s=[t+"="+encodeURIComponent(e)];G.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),G.isString(n)&&s.push("path="+n),G.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var zI=t=>t instanceof gr?{...t}:t;function Ri(t,e){e=e||{};let r={};function n(u,l,d,p){return G.isPlainObject(u)&&G.isPlainObject(l)?G.merge.call({caseless:p},u,l):G.isPlainObject(l)?G.merge({},l):G.isArray(l)?l.slice():l}function i(u,l,d,p){if(G.isUndefined(l)){if(!G.isUndefined(u))return n(void 0,u,d,p)}else return n(u,l,d,p)}function o(u,l){if(!G.isUndefined(l))return n(void 0,l)}function s(u,l){if(G.isUndefined(l)){if(!G.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,d){if(d in e)return n(u,l);if(d in t)return n(void 0,u)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l,d)=>i(zI(u),zI(l),d,!0)};return G.forEach(Object.keys(Object.assign({},t,e)),function(l){let d=c[l]||i,p=d(t[l],e[l],l);G.isUndefined(p)&&d!==a||(r[l]=p)}),r}var Fp=t=>{let e=Ri({},t),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=gr.from(s),e.url=ls(ds(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(G.isFormData(r)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){let[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...l].join("; "))}}if(Wt.hasStandardBrowserEnv&&(n&&G.isFunction(n)&&(n=n(e)),n||n!==!1&&HI(e.url))){let u=i&&o&&BI.read(o);u&&s.set(i,u)}return e};var $3=typeof XMLHttpRequest<"u",VI=$3&&function(t){return new Promise(function(r,n){let i=Fp(t),o=i.data,s=gr.from(i.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,l,d,p,m,f;function g(){m&&m(),f&&f(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function b(){if(!y)return;let w=gr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};qi(function(q){r(q),g()},function(q){n(q),g()},P),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(n(new Se("Request aborted",Se.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new Se("Network Error",Se.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",P=i.transitional||qa;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),n(new Se(C,P.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&G.forEach(s.toJSON(),function(C,P){y.setRequestHeader(P,C)}),G.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([p,f]=Ji(u,!0),y.addEventListener("progress",p)),c&&y.upload&&([d,m]=Ji(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(l=w=>{y&&(n(!w||w.type?new Vn(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));let x=qu(i.url);if(x&&Wt.protocols.indexOf(x)===-1){n(new Se("Unsupported protocol "+x+":",Se.ERR_BAD_REQUEST,t));return}y.send(o||null)})};var H3=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i,o=function(u){if(!i){i=!0,a();let l=u instanceof Error?u:this.reason;n.abort(l instanceof Se?l:new Vn(l instanceof Error?l.message:l))}},s=e&&setTimeout(()=>{s=null,o(new Se(`timeout ${e} of ms exceeded`,Se.ETIMEDOUT))},e),a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));let{signal:c}=n;return c.unsubscribe=()=>G.asap(a),c}},WI=H3;var B3=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},z3=async function*(t,e){for await(let r of V3(t))yield*B3(r,e)},V3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Wb=(t,e,r,n)=>{let i=z3(t,e),o=0,s,a=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{let{done:u,value:l}=await i.next();if(u){a(),c.close();return}let d=l.byteLength;if(r){let p=o+=d;r(p)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})};var $p=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KI=$p&&typeof ReadableStream=="function",W3=$p&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},G3=KI&&XI(()=>{let t=!1,e=new Request(Wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),GI=64*1024,Gb=KI&&XI(()=>G.isReadableStream(new Response("").body)),Up={stream:Gb&&(t=>t.body)};$p&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Up[e]&&(Up[e]=G.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Se(`Response type '${e}' is not supported`,Se.ERR_NOT_SUPPORT,n)})})})(new Response);var K3=async t=>{if(t==null)return 0;if(G.isBlob(t))return t.size;if(G.isSpecCompliantForm(t))return(await new Request(Wt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(G.isArrayBufferView(t)||G.isArrayBuffer(t))return t.byteLength;if(G.isURLSearchParams(t)&&(t=t+""),G.isString(t))return(await W3(t)).byteLength},X3=async(t,e)=>{let r=G.toFiniteNumber(t.getContentLength());return r??K3(e)},QI=$p&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:p}=Fp(t);u=u?(u+"").toLowerCase():"text";let m=WI([i,o&&o.toAbortSignal()],s),f,g=m&&m.unsubscribe&&(()=>{m.unsubscribe()}),y;try{if(c&&G3&&r!=="get"&&r!=="head"&&(y=await X3(l,n))!==0){let P=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(G.isFormData(n)&&(k=P.headers.get("content-type"))&&l.setContentType(k),P.body){let[q,j]=Ba(y,Ji(za(c)));n=Wb(P.body,GI,q,j)}}G.isString(d)||(d=d?"include":"omit");let b="credentials"in Request.prototype;f=new Request(e,{...p,signal:m,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:b?d:void 0});let x=await fetch(f),w=Gb&&(u==="stream"||u==="response");if(Gb&&(a||w&&g)){let P={};["status","statusText","headers"].forEach(Q=>{P[Q]=x[Q]});let k=G.toFiniteNumber(x.headers.get("content-length")),[q,j]=a&&Ba(k,Ji(za(a),!0))||[];x=new Response(Wb(x.body,GI,q,()=>{j&&j(),g&&g()}),P)}u=u||"text";let C=await Up[G.findKey(Up,u)||"text"](x,t);return!w&&g&&g(),await new Promise((P,k)=>{qi(P,k,{data:C,headers:gr.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:f})})}catch(b){throw g&&g(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,t,f),{cause:b.cause||b}):Se.from(b,b&&b.code,t,f)}});var Kb={http:$I,xhr:VI,fetch:QI};G.forEach(Kb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var ZI=t=>`- ${t}`,Q3=t=>G.isFunction(t)||t===null||t===!1,Hp={getAdapter:t=>{t=G.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!Q3(r)&&(n=Kb[(s=String(r)).toLowerCase()],n===void 0))throw new Se(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(ZI).join(`
`):" "+ZI(o[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:Kb};function Xb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vn(null,t)}function Bp(t){return Xb(t),t.headers=gr.from(t.headers),t.data=Pu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Hp.getAdapter(t.adapter||Ma.adapter)(t).then(function(n){return Xb(t),n.data=Pu.call(t,t.transformResponse,n),n.headers=gr.from(n.headers),n},function(n){return Du(n)||(Xb(t),n&&n.response&&(n.response.data=Pu.call(t,t.transformResponse,n.response),n.response.headers=gr.from(n.response.headers))),Promise.reject(n)})}var zp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var YI={};zp.transitional=function(e,r,n){function i(o,s){return"[Axios v"+ms+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new Se(i(s," has been removed"+(r?" in "+r:"")),Se.ERR_DEPRECATED);return r&&!YI[s]&&(YI[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};zp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Z3(t,e,r){if(typeof t!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new Se("option "+o+" must be "+c,Se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Se("Unknown option "+o,Se.ERR_BAD_OPTION)}}var Lu={assertOptions:Z3,validators:zp};var Mi=Lu.validators,Va=class{constructor(e){this.defaults=e,this.interceptors={request:new gb,response:new gb}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ri(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&Lu.assertOptions(n,{silentJSONParsing:Mi.transitional(Mi.boolean),forcedJSONParsing:Mi.transitional(Mi.boolean),clarifyTimeoutError:Mi.transitional(Mi.boolean)},!1),i!=null&&(G.isFunction(i)?r.paramsSerializer={serialize:i}:Lu.assertOptions(i,{encode:Mi.function,serialize:Mi.function},!0)),Lu.assertOptions(r,{baseUrl:Mi.spelling("baseURL"),withXsrfToken:Mi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&G.merge(o.common,o[r.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=gr.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});let u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,d=0,p;if(!c){let f=[Bp.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),p=f.length,l=Promise.resolve(r);d<p;)l=l.then(f[d++],f[d++]);return l}p=a.length;let m=r;for(d=0;d<p;){let f=a[d++],g=a[d++];try{m=f(m)}catch(y){g.call(this,y);break}}try{l=Bp.call(this,m)}catch(f){return Promise.reject(f)}for(d=0,p=u.length;d<p;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=Ri(this.defaults,e);let r=ds(e.baseURL,e.url);return ls(r,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Va.prototype[e]=function(r,n){return this.request(Ri(n||{},{method:e,url:r,data:(n||{}).data}))}});G.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(Ri(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Va.prototype[e]=r(),Va.prototype[e+"Form"]=r(!0)});var ju=Va;var Qb=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Vn(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},JI=Qb;function Zb(t){return function(r){return t.apply(null,r)}}function Yb(t){return G.isObject(t)&&t.isAxiosError===!0}var Jb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jb).forEach(([t,e])=>{Jb[e]=t});var eO=Jb;function tO(t){let e=new ju(t),r=Eu(ju.prototype.request,e);return G.extend(r,ju.prototype,e,{allOwnKeys:!0}),G.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return tO(Ri(t,i))},r}var Nr=tO(Ma);Nr.Axios=ju;Nr.CanceledError=Vn;Nr.CancelToken=JI;Nr.isCancel=Du;Nr.VERSION=ms;Nr.toFormData=qo;Nr.AxiosError=Se;Nr.Cancel=Nr.CanceledError;Nr.all=function(e){return Promise.all(e)};Nr.spread=Zb;Nr.isAxiosError=Yb;Nr.mergeConfig=Ri;Nr.AxiosHeaders=gr;Nr.formToJSON=t=>Ap(G.isHTMLForm(t)?new FormData(t):t);Nr.getAdapter=Hp.getAdapter;Nr.HttpStatusCode=eO;Nr.default=Nr;var vr=Nr;var{Axios:Fte,AxiosError:rO,CanceledError:Ute,isCancel:$te,CancelToken:Hte,VERSION:Bte,all:zte,Cancel:Vte,isAxiosError:Wte,spread:Gte,toFormData:Kte,AxiosHeaders:Xte,HttpStatusCode:Qte,formToJSON:Zte,getAdapter:Yte,mergeConfig:Jte}=vr;var Dt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Dt||(Dt={}));var t_;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(t_||(t_={}));var Ie=Dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ro=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},he=Dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Y3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Gn=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let u=s.path[c];c===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(s))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Gn.create=t=>new Gn(t);var Ka=(t,e)=>{let r;switch(t.code){case he.invalid_type:t.received===Ie.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Dt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${Dt.joinValues(t.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Dt.joinValues(t.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${Dt.joinValues(t.options)}, received '${t.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Dt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case he.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case he.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=e.defaultError,Dt.assertNever(t)}return{message:r}},oO=Ka;function J3(t){oO=t}function Vp(){return oO}var Wp=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},eW=[];function Te(t,e){let r=Vp(),n=Wp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ka?void 0:Ka].filter(i=>!!i)});t.common.issues.push(n)}var ln=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Ye;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let o=await i.key,s=await i.value;n.push({key:o,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Ye;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}},Ye=Object.freeze({status:"aborted"}),Ga=t=>({status:"dirty",value:t}),_n=t=>({status:"valid",value:t}),r_=t=>t.status==="aborted",n_=t=>t.status==="dirty",gs=t=>t.status==="valid",$u=t=>typeof Promise<"u"&&t instanceof Promise;function Gp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sO(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var Fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Fe||(Fe={}));var Fu,Uu,ui=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},nO=(t,e)=>{if(gs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Gn(t.common.issues);return this._error=r,this._error}}};function vt(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var c,u;let{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:(c=l??n)!==null&&c!==void 0?c:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(u=l??r)!==null&&u!==void 0?u:a.defaultError}},description:i}}var yt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}get description(){return this._def.description}_getType(e){return ro(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ro(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ln,ctx:{common:e.parent.common,data:e.data,parsedType:ro(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if($u(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ro(e)},o=this._parseSync({data:e,path:i.path,parent:i});return nO(i,o)}"~validate"(e){var r,n,i;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ro(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:o});return gs(s)?{value:s.value}:{issues:o.common.issues}}catch(s){!((i=(n=(r=s)===null||r===void 0?void 0:r.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(s=>gs(s)?{value:s.value}:{issues:o.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ro(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await($u(i)?i:Promise.resolve(i));return nO(n,o)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue({code:he.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Kn({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ci.create(this,this._def)}nullable(){return ji.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return io.create(this)}promise(){return Fo.create(this,this._def)}or(e){return Cs.create([this,e],this._def)}and(e){return Es.create(this,e,this._def)}transform(e){return new Kn({...vt(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ds({...vt(this._def),innerType:this,defaultValue:r,typeName:Xe.ZodDefault})}brand(){return new Hu({typeName:Xe.ZodBranded,type:this,...vt(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Is({...vt(this._def),innerType:this,catchValue:r,typeName:Xe.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Bu.create(this,e)}readonly(){return Os.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},tW=/^c[^\s-]{8,}$/i,rW=/^[0-9a-z]+$/,nW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oW=/^[a-z0-9_-]{21}$/i,sW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",e_,lW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gW=new RegExp(`^${aO}$`);function cO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function vW(t){return new RegExp(`^${cO(t)}$`)}function uO(t){let e=`${aO}T${cO(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function yW(t,e){return!!((e==="v4"||!e)&&lW.test(t)||(e==="v6"||!e)&&pW.test(t))}function bW(t,e){if(!sW.test(t))return!1;try{let[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function _W(t,e){return!!((e==="v4"||!e)&&dW.test(t)||(e==="v6"||!e)&&fW.test(t))}var Lo=class t extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){let o=this._getOrReturnCtx(e);return Te(o,{code:he.invalid_type,expected:Ie.string,received:o.parsedType}),Ye}let n=new ln,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:he.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:he.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?Te(i,{code:he.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Te(i,{code:he.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")cW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"email",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")e_||(e_=new RegExp(uW,"u")),e_.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"emoji",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")iW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"uuid",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")oW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"nanoid",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")tW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")rW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid2",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")nW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ulid",code:he.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Te(i,{validation:"url",code:he.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"regex",code:he.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Te(i,{code:he.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:he.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:he.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?uO(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:he.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?gW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:he.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?vW(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:he.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?aW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"duration",code:he.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?yW(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ip",code:he.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?bW(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"jwt",code:he.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?_W(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cidr",code:he.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?mW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64",code:he.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?hW.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64url",code:he.invalid_string,message:o.message}),n.dirty()):Dt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:he.invalid_string,...Fe.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Fe.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Fe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Fe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Fe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Fe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Fe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Fe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Fe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Fe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Fe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Fe.errToObj(r)})}nonempty(e){return this.min(1,Fe.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Lo.create=t=>{var e;return new Lo({checks:[],typeName:Xe.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};function xW(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}var vs=class t extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){let o=this._getOrReturnCtx(e);return Te(o,{code:he.invalid_type,expected:Ie.number,received:o.parsedType}),Ye}let n,i=new ln;for(let o of this._def.checks)o.kind==="int"?Dt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{code:he.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Te(n,{code:he.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Te(n,{code:he.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?xW(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),Te(n,{code:he.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{code:he.not_finite,message:o.message}),i.dirty()):Dt.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Fe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Fe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Fe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Fe.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Fe.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Dt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};vs.create=t=>new vs({checks:[],typeName:Xe.ZodNumber,coerce:t?.coerce||!1,...vt(t)});var ys=class t extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let n,i=new ln;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Te(n,{code:he.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Te(n,{code:he.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Te(n,{code:he.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Dt.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return Te(r,{code:he.invalid_type,expected:Ie.bigint,received:r.parsedType}),Ye}gte(e,r){return this.setLimit("min",e,!0,Fe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Fe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Fe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Fe.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Fe.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ys.create=t=>{var e;return new ys({checks:[],typeName:Xe.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};var bs=class extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){let n=this._getOrReturnCtx(e);return Te(n,{code:he.invalid_type,expected:Ie.boolean,received:n.parsedType}),Ye}return _n(e.data)}};bs.create=t=>new bs({typeName:Xe.ZodBoolean,coerce:t?.coerce||!1,...vt(t)});var _s=class t extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){let o=this._getOrReturnCtx(e);return Te(o,{code:he.invalid_type,expected:Ie.date,received:o.parsedType}),Ye}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return Te(o,{code:he.invalid_date}),Ye}let n=new ln,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:he.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:he.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Dt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Fe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Fe.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};_s.create=t=>new _s({checks:[],coerce:t?.coerce||!1,typeName:Xe.ZodDate,...vt(t)});var Xa=class extends yt{_parse(e){if(this._getType(e)!==Ie.symbol){let n=this._getOrReturnCtx(e);return Te(n,{code:he.invalid_type,expected:Ie.symbol,received:n.parsedType}),Ye}return _n(e.data)}};Xa.create=t=>new Xa({typeName:Xe.ZodSymbol,...vt(t)});var xs=class extends yt{_parse(e){if(this._getType(e)!==Ie.undefined){let n=this._getOrReturnCtx(e);return Te(n,{code:he.invalid_type,expected:Ie.undefined,received:n.parsedType}),Ye}return _n(e.data)}};xs.create=t=>new xs({typeName:Xe.ZodUndefined,...vt(t)});var ws=class extends yt{_parse(e){if(this._getType(e)!==Ie.null){let n=this._getOrReturnCtx(e);return Te(n,{code:he.invalid_type,expected:Ie.null,received:n.parsedType}),Ye}return _n(e.data)}};ws.create=t=>new ws({typeName:Xe.ZodNull,...vt(t)});var jo=class extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return _n(e.data)}};jo.create=t=>new jo({typeName:Xe.ZodAny,...vt(t)});var no=class extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _n(e.data)}};no.create=t=>new no({typeName:Xe.ZodUnknown,...vt(t)});var Pi=class extends yt{_parse(e){let r=this._getOrReturnCtx(e);return Te(r,{code:he.invalid_type,expected:Ie.never,received:r.parsedType}),Ye}};Pi.create=t=>new Pi({typeName:Xe.ZodNever,...vt(t)});var Qa=class extends yt{_parse(e){if(this._getType(e)!==Ie.undefined){let n=this._getOrReturnCtx(e);return Te(n,{code:he.invalid_type,expected:Ie.void,received:n.parsedType}),Ye}return _n(e.data)}};Qa.create=t=>new Qa({typeName:Xe.ZodVoid,...vt(t)});var io=class t extends yt{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ie.array)return Te(r,{code:he.invalid_type,expected:Ie.array,received:r.parsedType}),Ye;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(Te(r,{code:s?he.too_big:he.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Te(r,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Te(r,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new ui(r,s,r.path,a)))).then(s=>ln.mergeArray(n,s));let o=[...r.data].map((s,a)=>i.type._parseSync(new ui(r,s,r.path,a)));return ln.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:Fe.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:Fe.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:Fe.toString(r)}})}nonempty(e){return this.min(1,e)}};io.create=(t,e)=>new io({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...vt(e)});function Wa(t){if(t instanceof qn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=ci.create(Wa(n))}return new qn({...t._def,shape:()=>e})}else return t instanceof io?new io({...t._def,type:Wa(t.element)}):t instanceof ci?ci.create(Wa(t.unwrap())):t instanceof ji?ji.create(Wa(t.unwrap())):t instanceof Li?Li.create(t.items.map(e=>Wa(e))):t}var qn=class t extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Dt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ie.object){let u=this._getOrReturnCtx(e);return Te(u,{code:he.invalid_type,expected:Ie.object,received:u.parsedType}),Ye}let{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Pi&&this._def.unknownKeys==="strip"))for(let u in i.data)s.includes(u)||a.push(u);let c=[];for(let u of s){let l=o[u],d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ui(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Pi){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(u==="strict")a.length>0&&(Te(i,{code:he.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of a){let d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ui(i,d,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let d=await l.key,p=await l.value;u.push({key:d,value:p,alwaysSet:l.alwaysSet})}return u}).then(u=>ln.mergeObjectSync(n,u)):ln.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Fe.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o,s,a;let c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Fe.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return Dt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return Dt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return Wa(this)}partial(e){let r={};return Dt.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return Dt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof ci;)o=o._def.innerType;r[n]=o}}),new t({...this._def,shape:()=>r})}keyof(){return lO(Dt.objectKeys(this.shape))}};qn.create=(t,e)=>new qn({shape:()=>t,unknownKeys:"strip",catchall:Pi.create(),typeName:Xe.ZodObject,...vt(e)});qn.strictCreate=(t,e)=>new qn({shape:()=>t,unknownKeys:"strict",catchall:Pi.create(),typeName:Xe.ZodObject,...vt(e)});qn.lazycreate=(t,e)=>new qn({shape:t,unknownKeys:"strip",catchall:Pi.create(),typeName:Xe.ZodObject,...vt(e)});var Cs=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new Gn(a.ctx.common.issues));return Te(r,{code:he.invalid_union,unionErrors:s}),Ye}if(r.common.async)return Promise.all(n.map(async o=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!o&&(o={result:l,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(c=>new Gn(c));return Te(r,{code:he.invalid_union,unionErrors:a}),Ye}}get options(){return this._def.options}};Cs.create=(t,e)=>new Cs({options:t,typeName:Xe.ZodUnion,...vt(e)});var to=t=>t instanceof Ss?to(t.schema):t instanceof Kn?to(t.innerType()):t instanceof Ts?[t.value]:t instanceof Rs?t.options:t instanceof Ps?Dt.objectValues(t.enum):t instanceof Ds?to(t._def.innerType):t instanceof xs?[void 0]:t instanceof ws?[null]:t instanceof ci?[void 0,...to(t.unwrap())]:t instanceof ji?[null,...to(t.unwrap())]:t instanceof Hu||t instanceof Os?to(t.unwrap()):t instanceof Is?to(t._def.innerType):[],Kp=class t extends yt{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return Te(r,{code:he.invalid_type,expected:Ie.object,received:r.parsedType}),Ye;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Te(r,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ye)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let o of r){let s=to(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new t({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...vt(n)})}};function i_(t,e){let r=ro(t),n=ro(e);if(t===e)return{valid:!0,data:t};if(r===Ie.object&&n===Ie.object){let i=Dt.objectKeys(e),o=Dt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(let a of o){let c=i_(t[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(r===Ie.array&&n===Ie.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=e[o],c=i_(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Ie.date&&n===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Es=class extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(r_(o)||r_(s))return Ye;let a=i_(o.value,s.value);return a.valid?((n_(o)||n_(s))&&r.dirty(),{status:r.value,value:a.data}):(Te(n,{code:he.invalid_intersection_types}),Ye)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Es.create=(t,e,r)=>new Es({left:t,right:e,typeName:Xe.ZodIntersection,...vt(r)});var Li=class t extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.array)return Te(n,{code:he.invalid_type,expected:Ie.array,received:n.parsedType}),Ye;if(n.data.length<this._def.items.length)return Te(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ye;!this._def.rest&&n.data.length>this._def.items.length&&(Te(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((s,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new ui(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>ln.mergeArray(r,s)):ln.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Li.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Li({items:t,typeName:Xe.ZodTuple,rest:null,...vt(e)})};var Xp=class t extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.object)return Te(n,{code:he.invalid_type,expected:Ie.object,received:n.parsedType}),Ye;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new ui(n,a,n.path,a)),value:s._parse(new ui(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ln.mergeObjectAsync(r,i):ln.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof yt?new t({keyType:e,valueType:r,typeName:Xe.ZodRecord,...vt(n)}):new t({keyType:Lo.create(),valueType:e,typeName:Xe.ZodRecord,...vt(r)})}},Za=class extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.map)return Te(n,{code:he.invalid_type,expected:Ie.map,received:n.parsedType}),Ye;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,c],u)=>({key:i._parse(new ui(n,a,n.path,[u,"key"])),value:o._parse(new ui(n,c,n.path,[u,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of s){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return Ye;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of s){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return Ye;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}};Za.create=(t,e,r)=>new Za({valueType:e,keyType:t,typeName:Xe.ZodMap,...vt(r)});var Ya=class t extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.set)return Te(n,{code:he.invalid_type,expected:Ie.set,received:n.parsedType}),Ye;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Te(n,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Te(n,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function s(c){let u=new Set;for(let l of c){if(l.status==="aborted")return Ye;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let a=[...n.data.values()].map((c,u)=>o._parse(new ui(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:Fe.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:Fe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ya.create=(t,e)=>new Ya({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...vt(e)});var Qp=class t extends yt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.function)return Te(r,{code:he.invalid_type,expected:Ie.function,received:r.parsedType}),Ye;function n(a,c){return Wp({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vp(),Ka].filter(u=>!!u),issueData:{code:he.invalid_arguments,argumentsError:c}})}function i(a,c){return Wp({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vp(),Ka].filter(u=>!!u),issueData:{code:he.invalid_return_type,returnTypeError:c}})}let o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Fo){let a=this;return _n(async function(...c){let u=new Gn([]),l=await a._def.args.parseAsync(c,o).catch(m=>{throw u.addIssue(n(c,m)),u}),d=await Reflect.apply(s,this,l);return await a._def.returns._def.type.parseAsync(d,o).catch(m=>{throw u.addIssue(i(d,m)),u})})}else{let a=this;return _n(function(...c){let u=a._def.args.safeParse(c,o);if(!u.success)throw new Gn([n(c,u.error)]);let l=Reflect.apply(s,this,u.data),d=a._def.returns.safeParse(l,o);if(!d.success)throw new Gn([i(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Li.create(e).rest(no.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Li.create([]).rest(no.create()),returns:r||no.create(),typeName:Xe.ZodFunction,...vt(n)})}},Ss=class extends yt{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ss.create=(t,e)=>new Ss({getter:t,typeName:Xe.ZodLazy,...vt(e)});var Ts=class extends yt{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Te(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Ye}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ts.create=(t,e)=>new Ts({value:t,typeName:Xe.ZodLiteral,...vt(e)});function lO(t,e){return new Rs({values:t,typeName:Xe.ZodEnum,...vt(e)})}var Rs=class t extends yt{constructor(){super(...arguments),Fu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Te(r,{expected:Dt.joinValues(n),received:r.parsedType,code:he.invalid_type}),Ye}if(Gp(this,Fu,"f")||sO(this,Fu,new Set(this._def.values),"f"),!Gp(this,Fu,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return Te(r,{received:r.data,code:he.invalid_enum_value,options:n}),Ye}return _n(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Fu=new WeakMap;Rs.create=lO;var Ps=class extends yt{constructor(){super(...arguments),Uu.set(this,void 0)}_parse(e){let r=Dt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ie.string&&n.parsedType!==Ie.number){let i=Dt.objectValues(r);return Te(n,{expected:Dt.joinValues(i),received:n.parsedType,code:he.invalid_type}),Ye}if(Gp(this,Uu,"f")||sO(this,Uu,new Set(Dt.getValidEnumValues(this._def.values)),"f"),!Gp(this,Uu,"f").has(e.data)){let i=Dt.objectValues(r);return Te(n,{received:n.data,code:he.invalid_enum_value,options:i}),Ye}return _n(e.data)}get enum(){return this._def.values}};Uu=new WeakMap;Ps.create=(t,e)=>new Ps({values:t,typeName:Xe.ZodNativeEnum,...vt(e)});var Fo=class extends yt{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.promise&&r.common.async===!1)return Te(r,{code:he.invalid_type,expected:Ie.promise,received:r.parsedType}),Ye;let n=r.parsedType===Ie.promise?r.data:Promise.resolve(r.data);return _n(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Fo.create=(t,e)=>new Fo({type:t,typeName:Xe.ZodPromise,...vt(e)});var Kn=class extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{Te(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return Ye;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?Ye:c.status==="dirty"||r.value==="dirty"?Ga(c.value):c});{if(r.value==="aborted")return Ye;let a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?Ye:a.status==="dirty"||r.value==="dirty"?Ga(a.value):a}}if(i.type==="refinement"){let s=a=>{let c=i.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ye:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Ye:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gs(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>gs(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):s);Dt.assertNever(i)}};Kn.create=(t,e,r)=>new Kn({schema:t,typeName:Xe.ZodEffects,effect:e,...vt(r)});Kn.createWithPreprocess=(t,e,r)=>new Kn({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...vt(r)});var ci=class extends yt{_parse(e){return this._getType(e)===Ie.undefined?_n(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ci.create=(t,e)=>new ci({innerType:t,typeName:Xe.ZodOptional,...vt(e)});var ji=class extends yt{_parse(e){return this._getType(e)===Ie.null?_n(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ji.create=(t,e)=>new ji({innerType:t,typeName:Xe.ZodNullable,...vt(e)});var Ds=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===Ie.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ds.create=(t,e)=>new Ds({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});var Is=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $u(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Gn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Is.create=(t,e)=>new Is({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});var Ja=class extends yt{_parse(e){if(this._getType(e)!==Ie.nan){let n=this._getOrReturnCtx(e);return Te(n,{code:he.invalid_type,expected:Ie.nan,received:n.parsedType}),Ye}return{status:"valid",value:e.data}}};Ja.create=t=>new Ja({typeName:Xe.ZodNaN,...vt(t)});var wW=Symbol("zod_brand"),Hu=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Bu=class t extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ye:o.status==="dirty"?(r.dirty(),Ga(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ye:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Xe.ZodPipeline})}},Os=class extends yt{_parse(e){let r=this._def.innerType._parse(e),n=i=>(gs(i)&&(i.value=Object.freeze(i.value)),i);return $u(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Os.create=(t,e)=>new Os({innerType:t,typeName:Xe.ZodReadonly,...vt(e)});function dO(t,e={},r){return t?jo.create().superRefine((n,i)=>{var o,s;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(s=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&s!==void 0?s:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):jo.create()}var CW={object:qn.lazycreate},Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));var EW=(t,e={message:`Input not instance of ${t.name}`})=>dO(r=>r instanceof t,e),pO=Lo.create,fO=vs.create,SW=Ja.create,TW=ys.create,mO=bs.create,RW=_s.create,PW=Xa.create,DW=xs.create,IW=ws.create,OW=jo.create,AW=no.create,kW=Pi.create,NW=Qa.create,qW=io.create,MW=qn.create,LW=qn.strictCreate,jW=Cs.create,FW=Kp.create,UW=Es.create,$W=Li.create,HW=Xp.create,BW=Za.create,zW=Ya.create,VW=Qp.create,WW=Ss.create,GW=Ts.create,KW=Rs.create,XW=Ps.create,QW=Fo.create,iO=Kn.create,ZW=ci.create,YW=ji.create,JW=Kn.createWithPreprocess,eG=Bu.create,tG=()=>pO().optional(),rG=()=>fO().optional(),nG=()=>mO().optional(),iG={string:t=>Lo.create({...t,coerce:!0}),number:t=>vs.create({...t,coerce:!0}),boolean:t=>bs.create({...t,coerce:!0}),bigint:t=>ys.create({...t,coerce:!0}),date:t=>_s.create({...t,coerce:!0})},oG=Ye,B=Object.freeze({__proto__:null,defaultErrorMap:Ka,setErrorMap:J3,getErrorMap:Vp,makeIssue:Wp,EMPTY_PATH:eW,addIssueToContext:Te,ParseStatus:ln,INVALID:Ye,DIRTY:Ga,OK:_n,isAborted:r_,isDirty:n_,isValid:gs,isAsync:$u,get util(){return Dt},get objectUtil(){return t_},ZodParsedType:Ie,getParsedType:ro,ZodType:yt,datetimeRegex:uO,ZodString:Lo,ZodNumber:vs,ZodBigInt:ys,ZodBoolean:bs,ZodDate:_s,ZodSymbol:Xa,ZodUndefined:xs,ZodNull:ws,ZodAny:jo,ZodUnknown:no,ZodNever:Pi,ZodVoid:Qa,ZodArray:io,ZodObject:qn,ZodUnion:Cs,ZodDiscriminatedUnion:Kp,ZodIntersection:Es,ZodTuple:Li,ZodRecord:Xp,ZodMap:Za,ZodSet:Ya,ZodFunction:Qp,ZodLazy:Ss,ZodLiteral:Ts,ZodEnum:Rs,ZodNativeEnum:Ps,ZodPromise:Fo,ZodEffects:Kn,ZodTransformer:Kn,ZodOptional:ci,ZodNullable:ji,ZodDefault:Ds,ZodCatch:Is,ZodNaN:Ja,BRAND:wW,ZodBranded:Hu,ZodPipeline:Bu,ZodReadonly:Os,custom:dO,Schema:yt,ZodSchema:yt,late:CW,get ZodFirstPartyTypeKind(){return Xe},coerce:iG,any:OW,array:qW,bigint:TW,boolean:mO,date:RW,discriminatedUnion:FW,effect:iO,enum:KW,function:VW,instanceof:EW,intersection:UW,lazy:WW,literal:GW,map:BW,nan:SW,nativeEnum:XW,never:kW,null:IW,nullable:YW,number:fO,object:MW,oboolean:nG,onumber:rG,optional:ZW,ostring:tG,pipeline:eG,preprocess:JW,promise:QW,record:HW,set:zW,strictObject:LW,string:pO,symbol:PW,transformer:iO,tuple:$W,undefined:DW,union:jW,unknown:AW,void:NW,NEVER:oG,ZodIssueCode:he,quotelessJson:Y3,ZodError:Gn});function sG(t,e){let r={...t};for(let n of e)delete r[n];return r}var _O=/:([a-zA-Z_][a-zA-Z0-9_]*)/g;function aG(t){let e=t.url,r=t.params;return r&&(e=e.replace(_O,(n,i)=>i in r?`${r[i]}`:n)),e}function hO(t,e,r){return t.find(n=>n.method===e&&n.path===r)}function cG(t,e){return t.find(r=>r.alias===e)}function uG(t,e){var r,n;let i=(r=t.errors)==null?void 0:r.filter(o=>o.status===e.response.status);return i&&i.length>0?i:(n=t.errors)==null?void 0:n.filter(o=>o.status==="default")}function lG(t,e,r){let n=cG(t,e);return n&&r.config&&r.config.url&&n.method===r.config.method&&dG(n.path,r.config.url)?uG(n,r):void 0}function dG(t,e){return new RegExp(`^${t.replace(_O,()=>"([^/]*)")}$`).test(e)}function pG(t){let e=new FormData;for(let r in t)e.append(r,t[r]);return{data:e}}var Vr=class extends Error{constructor(t,e,r,n){super(t),this.config=e,this.data=r,this.cause=n}},fG={name:"form-data",request:async(t,e)=>{if(typeof e.data!="object"||Array.isArray(e.data))throw new Vr("Zodios: multipart/form-data body must be an object",e);let r=pG(e.data);return{...e,data:r.data,headers:{...e.headers,...r.headers}}}};function mG(){return fG}var hG={name:"form-url",request:async(t,e)=>{if(typeof e.data!="object"||Array.isArray(e.data))throw new Vr("Zodios: application/x-www-form-urlencoded body must be an object",e);return{...e,data:new URLSearchParams(e.data).toString(),headers:{...e.headers,"Content-Type":"application/x-www-form-urlencoded"}}}};function gG(){return hG}function gO(t,e){return{request:async(r,n)=>({...n,headers:{...n.headers,[t]:e}})}}function vO(t){return[!0,"response","all"].includes(t)}function yO(t){return[!0,"request","all"].includes(t)}function vG({validate:t,transform:e,sendDefaults:r}){return{name:"zod-validation",request:yO(t)?async(n,i)=>{let o=hO(n,i.method,i.url);if(!o)throw new Error(`No endpoint found for ${i.method} ${i.url}`);let{parameters:s}=o;if(!s)return i;let a={...i,queries:{...i.queries},headers:{...i.headers},params:{...i.params}},c={Query:d=>{var p;return(p=a.queries)==null?void 0:p[d]},Body:d=>a.data,Header:d=>{var p;return(p=a.headers)==null?void 0:p[d]},Path:d=>{var p;return(p=a.params)==null?void 0:p[d]}},u={Query:(d,p)=>a.queries[d]=p,Body:(d,p)=>a.data=p,Header:(d,p)=>a.headers[d]=p,Path:(d,p)=>a.params[d]=p},l=yO(e);for(let d of s){let{name:p,schema:m,type:f}=d,g=c[f](p);if(r||g!==void 0){let y=await m.safeParseAsync(g);if(!y.success)throw new Vr(`Zodios: Invalid ${f} parameter '${p}'`,i,g,y.error);l&&u[f](p,y.data)}}return a}:void 0,response:vO(t)?async(n,i,o)=>{var s,a,c,u;let l=hO(n,i.method,i.url);if(!l)throw new Error(`No endpoint found for ${i.method} ${i.url}`);if((a=(s=o.headers)==null?void 0:s["content-type"])!=null&&a.includes("application/json")||(u=(c=o.headers)==null?void 0:c["content-type"])!=null&&u.includes("application/vnd.api+json")){let d=await l.response.safeParseAsync(o.data);if(!d.success)throw new Vr(`Zodios: Invalid response from endpoint '${l.method} ${l.path}'
status: ${o.status} ${o.statusText}
cause:
${d.error.message}
received:
${JSON.stringify(o.data,null,2)}`,i,o.data,d.error);vO(e)&&(o.data=d.data)}return o}:void 0}}var bO=class{constructor(t,e){this.plugins=[],this.key=`${t}-${e}`}indexOf(t){return this.plugins.findIndex(e=>e?.name===t)}use(t){if(t.name){let e=this.indexOf(t.name);if(e!==-1)return this.plugins[e]=t,{key:this.key,value:e}}return this.plugins.push(t),{key:this.key,value:this.plugins.length-1}}eject(t){if(typeof t=="string"){let e=this.indexOf(t);if(e===-1)throw new Error(`Plugin with name '${t}' not found`);this.plugins[e]=void 0}else{if(t.key!==this.key)throw new Error(`Plugin with key '${t.key}' is not registered for endpoint '${this.key}'`);this.plugins[t.value]=void 0}}async interceptRequest(t,e){let r=e;for(let n of this.plugins)n!=null&&n.request&&(r=await n.request(t,r));return r}async interceptResponse(t,e,r){let n=r;for(let i=this.plugins.length-1;i>=0;i--){let o=this.plugins[i];o&&(n=n.then(o!=null&&o.response?s=>o.response(t,e,s):void 0,o!=null&&o.error?s=>o.error(t,e,s):void 0))}return n}count(){return this.plugins.reduce((t,e)=>e?t+1:t,0)}};function xO(t){let e=new Set;for(let n of t){let i=`${n.method} ${n.path}`;if(e.has(i))throw new Error(`Zodios: Duplicate path '${i}'`);e.add(i)}let r=new Set;for(let n of t)if(n.alias){if(r.has(n.alias))throw new Error(`Zodios: Duplicate alias '${n.alias}'`);r.add(n.alias)}for(let n of t)if(n.parameters&&n.parameters.filter(i=>i.type==="Body").length>1)throw new Error(`Zodios: Multiple body parameters in endpoint '${n.path}'`)}function Er(t){return xO(t),t}var yG=class{constructor(t,e,r){this.endpointPlugins=new Map;let n;if(!t)throw Array.isArray(e)?new Error("Zodios: missing base url"):new Error("Zodios: missing api description");let i;if(typeof t=="string"&&Array.isArray(e))i=t,this.api=e,n=r||{};else if(Array.isArray(t)&&!Array.isArray(e))this.api=t,n=e||{};else throw new Error("Zodios: api must be an array");xO(this.api),this.options={validate:!0,transform:!0,sendDefaults:!1,...n},this.options.axiosInstance?this.axiosInstance=this.options.axiosInstance:this.axiosInstance=vr.create({...this.options.axiosConfig}),i&&(this.axiosInstance.defaults.baseURL=i),this.injectAliasEndpoints(),this.initPlugins(),[!0,"all","request","response"].includes(this.options.validate)&&this.use(vG(this.options))}initPlugins(){this.endpointPlugins.set("any-any",new bO("any","any")),this.api.forEach(t=>{let e=new bO(t.method,t.path);switch(t.requestFormat){case"binary":e.use(gO("Content-Type","application/octet-stream"));break;case"form-data":e.use(mG());break;case"form-url":e.use(gG());break;case"text":e.use(gO("Content-Type","text/plain"));break}this.endpointPlugins.set(`${t.method}-${t.path}`,e)})}getAnyEndpointPlugins(){return this.endpointPlugins.get("any-any")}findAliasEndpointPlugins(t){let e=this.api.find(r=>r.alias===t);if(e)return this.endpointPlugins.get(`${e.method}-${e.path}`)}findEnpointPlugins(t,e){return this.endpointPlugins.get(`${t}-${e}`)}get baseURL(){return this.axiosInstance.defaults.baseURL}get axios(){return this.axiosInstance}use(...t){if(typeof t[0]=="object")return this.getAnyEndpointPlugins().use(t[0]);if(typeof t[0]=="string"&&typeof t[1]=="object"){let e=this.findAliasEndpointPlugins(t[0]);if(!e)throw new Error(`Zodios: no alias '${t[0]}' found to register plugin`);return e.use(t[1])}else if(typeof t[0]=="string"&&typeof t[1]=="string"&&typeof t[2]=="object"){let e=this.findEnpointPlugins(t[0],t[1]);if(!e)throw new Error(`Zodios: no endpoint '${t[0]} ${t[1]}' found to register plugin`);return e.use(t[2])}throw new Error("Zodios: invalid plugin registration")}eject(t){var e;if(typeof t=="string"){this.getAnyEndpointPlugins().eject(t);return}(e=this.endpointPlugins.get(t.key))==null||e.eject(t)}injectAliasEndpoints(){this.api.forEach(t=>{t.alias&&(["post","put","patch","delete"].includes(t.method)?this[t.alias]=(e,r)=>this.request({...r,method:t.method,url:t.path,data:e}):this[t.alias]=e=>this.request({...e,method:t.method,url:t.path}))})}async request(t){let e=t,r=this.getAnyEndpointPlugins(),n=this.findEnpointPlugins(e.method,e.url);e=await r.interceptRequest(this.api,e),n&&(e=await n.interceptRequest(this.api,e));let i=this.axiosInstance.request({...sG(e,["params","queries"]),url:aG(e),params:e.queries});return n&&(i=n.interceptResponse(this.api,e,i)),i=r.interceptResponse(this.api,e,i),(await i).data}async get(t,...[e]){return this.request({...e,method:"get",url:t})}async post(t,e,...[r]){return this.request({...r,method:"post",url:t,data:e})}async put(t,e,...[r]){return this.request({...r,method:"put",url:t,data:e})}async patch(t,e,...[r]){return this.request({...r,method:"patch",url:t,data:e})}async delete(t,e,...[r]){return this.request({...r,method:"delete",url:t,data:e})}},zu=yG;function bG(t,e){if(t instanceof rO||t&&typeof t=="object"&&"isAxiosError"in t){let r=t;if(r.response){let n=e(r);if(n)return n.some(i=>i.schema.safeParse(r.response.data).success)}}return!1}function Di(t,e,r){return bG(r,n=>lG(t,e,n))}var yK=je(ok(),1),O_=t=>e=>{let r=`[object ${t}]`;return e&&(toString.call(e)===r||typeof e.toString=="function"&&e.toString()===r)},Lre=O_("FormData"),jre=O_("Blob"),Fre=O_("File");function ff(t,e){return{request:async(r,n)=>({...n,headers:{...n.headers,[t]:await e()}})}}function bK(t,e){var r;return t&&((r=e.config)!=null&&r.headers)?!e.config.headers.Authorization.includes(t):!1}function A_(t){return{request:async(e,r)=>{let n=await t.getToken();return n?{...r,headers:{...r.headers,Authorization:`Bearer ${n}`}}:r},error:t.renewToken?async(e,r,n)=>{var i;if(vr.isAxiosError(n)&&t.renewToken&&n.config&&((i=n.response)==null?void 0:i.status)===401){let o=await t.renewToken();if(bK(o,n)){let s={...n.config};return s.headers={...s.headers,Authorization:`Bearer ${o}`},vr(s)}}throw n}:void 0}}function k_(t){return{name:"pluginBaseURL",request:async(e,r)=>({...r,baseURL:t})}}var N_=je(require("os")),q_=je(require("path")),It=je(require("vscode"));var _K=B.object({status:B.string(),title:B.string(),detail:B.string().nullish()});function $i(t){if(t.length===1)return xK(t[0]);let e=`${t.length} errors occured: `;for(let r=0;r<t.length;r++)r>0&&(e+=", "),e+=`${t[r].status}: ${t[r].title}`;return e}function xK(t){let e=`${t.status}: ${t.title}`;return t.detail&&(e+=` - ${t.detail}`),e}var wK=B.object({errors:B.array(_K)}),fn=[{status:"default",schema:wK}];var Ms=je(require("vscode"));var cc=class{constructor(e){this.resource=e;this.quickPick=Ms.window.createQuickPick(),this.quickPick.title=e.title,this.quickPick.placeholder=e.placeholder,this.quickPick.onDidChangeValue(this.onDidChangeValue,this),this.quickPick.ignoreFocusOut=e.ignoreFocusOut??!1}quickPick;fetchTimerKey;onDidChangeValue(){clearTimeout(this.fetchTimerKey),this.fetchTimerKey=setTimeout(()=>this.fetchResource.apply(this),300)}async fetchResource(){this.quickPick.busy=!0,this.quickPick.show(),this.quickPick.items=await this.resource.fetchItems(this.quickPick.value),this.quickPick.busy=!1}async pick(e=!0){await this.fetchResource();let r=await new Promise(n=>{this.quickPick.onDidAccept(()=>{n(this.quickPick.selectedItems[0])}),this.quickPick.onDidHide(()=>{n(void 0)})});return e&&this.quickPick.hide(),r}hide(){this.quickPick.hide()}dispose(){this.quickPick.dispose()}};async function Mn(t,e,r,n){if(n.sendTelemetryException(t),r.append(JSON.stringify({cause:t.cause},void 0,2)),await Ms.window.showErrorMessage(`${e} Response validation failed. Please report this as a bug.`,"Report bug")==="Report bug"){r.show(!0),Ms.commands.executeCommand("terraform.generateBugReport");return}}async function li(){await Ms.authentication.getSession(Pr.providerID,[],{createIfNone:!1,forceNewSession:{detail:"Your token is invalid or has expired. Please generate a new token"}})}var M_=class{constructor(e,r,n){this.accessToken=e;this.hostName=r;this.account=n}id=Pr.providerID;scopes=[]},mf=class extends Error{constructor(){super("Invalid token")}},L_=class{constructor(e,r,n,i){this.outputChannel=e;this.reporter=r;this.secretStorage=n;this.sessionKey=i}async get(){let e=await this.secretStorage.get(this.sessionKey);return e?JSON.parse(e):void 0}async store(e,r){try{let n=await Ls.getAccount({headers:{authorization:`Bearer ${r}`}}),i=new M_(r,e,{label:n.data.attributes.username,id:n.data.id});return await this.secretStorage.store(this.sessionKey,JSON.stringify(i)),F_(i.hostName),i}catch(n){throw n instanceof Vr?(await Mn(n,"Failed to process user details",this.outputChannel,this.reporter),n):Di(Ls.api,"getAccount",n)?n.response.status===401?new mf:(this.reporter.sendTelemetryException(n),new Error(`Failed to login: ${$i(n.response.data.errors)}`)):(n instanceof Error&&this.reporter.sendTelemetryException(n),n)}}async delete(){return this.secretStorage.delete(this.sessionKey)}},Pr=class t{constructor(e,r,n,i){this.secretStorage=e;this.ctx=r;this.reporter=n;this.outputChannel=i;this.logger=It.window.createOutputChannel("HashiCorp Authentication",{log:!0}),this.sessionHandler=new L_(this.outputChannel,this.reporter,this.secretStorage,this.sessionKey),this.ctx.subscriptions.push(It.commands.registerCommand("terraform.cloud.login",async()=>{let o=await It.authentication.getSession(t.providerID,[],{createIfNone:!0});It.window.showInformationMessage(`Hello ${o.account.label}`)})),this.sessionPromise=this.sessionHandler.get(),this.disposable=It.Disposable.from(this.secretStorage.onDidChange(async o=>{o.key===this.sessionKey&&await this.checkForUpdates()}))}static providerLabel="HashiCorp Cloud Platform Terraform";static providerID="HashiCorpTerraformCloud";sessionKey="HashiCorpTerraformCloudSession";logger;sessionHandler;sessionPromise;disposable;_onDidChangeSessions=new It.EventEmitter;get onDidChangeSessions(){return this._onDidChangeSessions.event}async getSessions(e){try{let r=await this.sessionPromise;return r?(r.hostName===""&&(r=await this.sessionHandler.store(di,r.accessToken)),j_(r.hostName),F_(r.hostName),this.logger.info("Successfully fetched HCP Terraform session"),await It.commands.executeCommand("setContext","terraform.cloud.signed-in",!0),[r]):[]}catch(r){let n="Failed to get HCP Terraform session";return r instanceof Error?n=r.message:typeof r=="string"&&(n=r),this.logger.info(n),It.window.showErrorMessage(n),[]}}async createSession(e){let r=await this.promptForTFCHostname();if(!r)throw this.logger.error("User did not provide a TFC instance"),new Error("TFC instance is required");j_(r);let n=await this.promptForToken();if(!n)return this.logger.error("User did not provide a token"),this.reporter.sendTelemetryEvent("tfc-login-fail",{reason:"Invalid token"}),It.window.showErrorMessage("Invalid token. Please try again"),this.createSession(e);try{let i=await this.sessionHandler.store(r,n);return this.reporter.sendTelemetryEvent("tfc-login-success"),this.logger.info("Successfully logged in to HCP Terraform"),await It.commands.executeCommand("setContext","terraform.cloud.signed-in",!0),this._onDidChangeSessions.fire({added:[i],removed:[],changed:[]}),i}catch(i){if(i instanceof mf)return this.reporter.sendTelemetryEvent("tfc-login-fail",{reason:"Invalid token"}),It.window.showErrorMessage(`${i.message}. Please try again`),this.createSession(e);throw i instanceof Error?(It.window.showErrorMessage(i.message),this.reporter.sendTelemetryException(i),this.logger.error(i.message)):typeof i=="string"&&(It.window.showErrorMessage(i),this.reporter.sendTelemetryException(new Error(i)),this.logger.error(i)),i}}async removeSession(e){let r=await this.sessionPromise;r&&(this.reporter.sendTelemetryEvent("tfc-logout"),this.logger.info("Removing current session"),await this.sessionHandler.delete(),await It.commands.executeCommand("setContext","terraform.cloud.signed-in",!1),this._onDidChangeSessions.fire({added:[],removed:[r],changed:[]}))}async checkForUpdates(){let e=await this.sessionPromise;this.sessionPromise=this.sessionHandler.get();let r=await this.sessionPromise,n=[],i=[],o=[];if(r?.accessToken&&!e?.accessToken)this.logger.info("Session added"),n.push(r);else if(!r?.accessToken&&e?.accessToken)this.logger.info("Session removed"),i.push(e);else if(r&&e&&r.accessToken!==e.accessToken)this.logger.info("Session changed"),o.push(r);else return;this._onDidChangeSessions.fire({added:n,removed:i,changed:o})}async promptForTFCHostname(){let e=[];try{let o=await this.getTerraformCLICredentials();for(let s of o.keys()){sk(s);let a=await js.ping();e.push({detail:s,label:`${a.appName} instance`})}}catch{this.logger.info("Terraform credential file not yet initialized.");let o={detail:"app.terraform.io",label:"Default HCP Terraform instance"};e.push(o)}let r={label:"New Instance",detail:"Connect to a new HCP Terraform or Terraform enterprise instance"};e.push(r);let n=await It.window.showQuickPick(e,{canPickMany:!1,ignoreFocusOut:!0,placeHolder:"Choose the HCP Terraform or Terraform Enterprise instance to connect to",title:"HashiCorp Authentication"});if(n===void 0)return;let i;switch(n.label){case r.label:i=await It.window.showInputBox({ignoreFocusOut:!0,placeHolder:"app.terraform.io",value:"app.terraform.io",prompt:"Enter a HCP Terraform hostname",password:!1});break;default:i=n.detail;break}return i}async promptForToken(){let e=await It.window.showQuickPick([{label:"Stored user token",detail:"Use a token stored in the Terraform CLI configuration file"},{label:"Existing user token",detail:"Enter a token manually"},{label:"Generate a user token",detail:"Open the HCP Terraform website to generate a new token"}],{canPickMany:!1,ignoreFocusOut:!0,placeHolder:"Choose a method to enter a HCP Terraform user token",title:"HCP Terraform Authentication"});if(e===void 0)return;let r=`${Xn}/settings/tokens?source=vscode-terraform`,n;switch(e.label){case"Generate a user token":this.reporter.sendTelemetryEvent("tfc-login",{method:"browser"}),await It.env.openExternal(It.Uri.parse(r)),n=await It.window.showInputBox({ignoreFocusOut:!0,placeHolder:"User access token",prompt:"Enter a HCP Terraform user access token",password:!0});break;case"Existing user token":this.reporter.sendTelemetryEvent("tfc-login",{method:"existing"}),n=await It.window.showInputBox({ignoreFocusOut:!0,placeHolder:"User access token",prompt:"Enter a HCP Terraform user access token",password:!0});break;case"Stored user token":this.reporter.sendTelemetryEvent("tfc-login",{method:"stored"}),n=await this.getTerraformCLIToken();break;default:break}return n}async getTerraformCLICredentials(){let e=process.platform==="win32"?q_.join(N_.homedir(),"AppData","Roaming","terraform.d","credentials.tfrc.json"):q_.join(N_.homedir(),".terraform.d","credentials.tfrc.json");if(!await this.pathExists(e))throw new uc("Terraform credential file not found. Please login using the Terraform CLI and try again.");let r=await It.workspace.fs.readFile(It.Uri.file(e)),n;try{n=Buffer.from(r).toString("utf8")}catch{throw new uc("Failed to read configuration file. Please login using the Terraform CLI and try again")}try{let i=JSON.parse(n);return new Map(Object.entries(i.credentials))}catch{throw new uc("Failed to parse configuration file. Please login using the Terraform CLI and try again")}}async getTerraformCLIToken(){let e;try{return e=await this.getTerraformCLICredentials(),e.get(di)?.token}catch(r){if(r instanceof uc){It.window.showErrorMessage(r.message);return}}}async pathExists(e){try{return await It.workspace.fs.stat(It.Uri.file(e)),!0}catch{return!1}}dispose(){this.disposable?.dispose()}},uc=class extends Error{constructor(e){super(e),this.name="TerraformCredentialFileError"}};var CK=B.object({data:B.object({id:B.string(),type:B.string(),attributes:B.object({username:B.string(),email:B.string()})})}),U_=Er([{method:"get",path:"/account/details",alias:"getAccount",description:"Get account details",response:CK,errors:fn}]);var Bo=[{name:"page[number]",type:"Query",description:"Page number",schema:B.number().positive().optional()},{name:"page[size]",type:"Query",description:"Count of records",schema:B.number().positive().optional()}],zo=B.object({"current-page":B.number(),"page-size":B.number(),"next-page":B.number().nullable(),"prev-page":B.number().nullable(),"total-count":B.number(),"total-pages":B.number()});var ak=[{name:"filter[project][id]",type:"Query",description:"Restricts results to workspaces in the specific project",schema:B.string().optional()}],ck=[{name:"include",type:"Query",description:"Includes related resources for workspaces when specified",schema:B.array(B.enum(["current_run"])).transform(t=>t.join(",")).optional()}],hf=[{name:"q",type:"Query",description:" A search query string.",schema:B.string().optional()}];var EK=B.object({id:B.string(),attributes:B.object({"external-id":B.string(),name:B.string()})}),SK=B.object({data:B.array(EK),meta:B.object({pagination:zo.optional()}).optional()}),TK=B.object({id:B.string(),attributes:B.object({status:B.enum(["active","invited"])}),relationships:B.object({organization:B.object({data:B.object({id:B.string()})})})}),RK=B.object({data:B.array(TK)}),uk=Er([{method:"get",path:"/organizations",alias:"listOrganizations",description:"List organizations of the current user",response:SK,parameters:[...Bo,...hf],errors:fn},{method:"get",path:"/organization-memberships",alias:"listOrganizationMemberships",description:"List organization memberships of the current user",response:RK,errors:fn}]);var lk=B.object({id:B.string(),attributes:B.object({name:B.string()})}),PK=B.object({data:B.array(lk),meta:B.object({pagination:zo})}),dk=Er([{method:"get",path:"/organizations/:organization_name/projects",alias:"listProjects",description:"List projects in the organization",response:PK,parameters:[...Bo,...hf],errors:fn},{method:"get",path:"/projects/:project_id",alias:"getProject",description:"Get details on a project",response:B.object({data:lk}),errors:fn}]);var DK=B.enum(["pending","fetching","fetching_completed","pre_plan_running","pre_plan_completed","queuing","plan_queued","planning","planned","cost_estimating","cost_estimated","policy_checking","policy_override","policy_soft_failed","policy_checked","confirmed","post_plan_running","post_plan_completed","planned_and_finished","apply_queued","applying","applied","discarded","errored","canceled","force_canceled"]),H_={unknown:"unknown",manual:"manually triggered run",disabled:"file change detected in VCS",matched:"file change detected in tracked directory",inconclusive:"unable to detect changed files",git_tag:"automatically triggered run"},IK=Object.keys(H_),B_={terraform:"CLI","terraform+cloud":"CLI","tfe-api":"API","tfe-configuration-version":"configuration version","tfe-infrastructure-lifecycle":"infrastructure lifecycle","tfe-module":"no-code provision","tfe-run-trigger":"run trigger","tfe-ui":"UI"},OK=Object.keys(B_),z_=B.object({"created-at":B.coerce.date(),message:B.string(),source:B.enum(OK),status:DK,"trigger-reason":B.enum(IK),"terraform-version":B.string()}),Zu=B.object({data:B.object({id:B.string(),type:B.string()}).nullable()}).nullish(),AK=B.object({plan:Zu.optional(),apply:Zu.optional(),workspace:Zu,"configuration-version":Zu,"created-by":Zu}),pk=B.object({id:B.string(),attributes:z_,relationships:AK}),kK=B.object({data:B.array(pk),meta:B.object({pagination:zo})}),NK=[{name:"include",type:"Query",description:"Related attributes to include",schema:B.array(B.enum(["plan","apply","created_by","cost_estimate","configuration_version","configuration_version.ingress_attributes"])).transform(t=>t.join(",")).optional()}],fk=Er([{method:"get",path:"/workspaces/:workspace_id/runs",alias:"listRuns",description:"List Runs in a Workspace",response:kK,parameters:[...Bo,...NK],errors:fn},{method:"get",path:"/runs/:run_id",alias:"getRun",description:"Show details of a specific run",response:B.object({data:pk}),errors:fn}]);var qK=B.enum(["remote","local","agent"]),MK=B.object({id:B.string(),attributes:z_}),LK=B.object({description:B.string().nullable(),environment:B.string(),"execution-mode":qK,name:B.string(),source:B.string().nullable(),"updated-at":B.coerce.date(),"run-failures":B.number().nullable(),"resource-count":B.number(),"terraform-version":B.string(),locked:B.boolean(),"vcs-repo-identifier":B.string().nullable(),"vcs-repo":B.object({"repository-http-url":B.string()}).nullable(),"auto-apply":B.boolean()}),mk=B.object({data:B.object({id:B.string(),type:B.string()}).nullable()}).nullish(),jK=B.object({"latest-run":mk,project:mk}),hk=B.object({id:B.string(),attributes:LK,relationships:jK,links:B.object({self:B.string(),"self-html":B.string()})}),FK=B.object({data:B.array(hk),meta:B.object({pagination:zo}),included:B.array(MK).optional()}),UK=[{name:"sort",type:"Query",description:"Allows sorting the organization's workspaces by a provided value.",schema:B.enum(["name","current-run.created-at","latest-change-at","-name","-current-run.created-at","-latest-change-at"]).optional()}],gk=Er([{method:"get",path:"/organizations/:organization_name/workspaces",alias:"listWorkspaces",description:"List workspaces in the organization",response:FK,parameters:[...Bo,...ak,...ck,...UK],errors:fn},{method:"get",path:"/workspaces/:workspace_id",alias:"getWorkspace",description:"Get details on a workspace",response:B.object({data:hk}),errors:fn}]);var $K=B.object({actions:B.object({"is-exportable":B.boolean()}),"execution-details":B.object({mode:B.string()}).nullable(),"has-changes":B.boolean(),permissions:B.object({"can-export":B.boolean()}),"resource-additions":B.number().nullable(),"resource-changes":B.number().nullable(),"resource-destructions":B.number().nullable(),"structured-run-output-enabled":B.boolean(),status:B.string(),"status-timestamps":B.object({"queued-at":B.string().optional(),"pending-at":B.string().optional(),"started-at":B.string().optional(),"finished-at":B.string().optional()}),"log-read-url":B.string()}),HK=B.object({id:B.string(),type:B.literal("plans"),attributes:$K}),BK=B.object({format_version:B.string(),terraform_version:B.string()}),vk=Er([{method:"get",path:"/plans/:plan_id",alias:"getPlan",description:"Show details of a specific plan",response:B.object({data:HK})},{method:"get",path:"/plans/:plan_id/json-output",alias:"getPlanJSON",description:"Show JSON details of a specific plan",response:B.object({data:BK})}]);var zK=B.object({"resource-additions":B.number().nullable(),"resource-changes":B.number().nullable(),"resource-destructions":B.number().nullable(),"structured-run-output-enabled":B.boolean(),status:B.string(),"status-timestamps":B.object({"queued-at":B.string().optional(),"started-at":B.string().optional(),"finished-at":B.string().optional()}),"log-read-url":B.string()}),VK=B.object({id:B.string(),type:B.literal("applies"),attributes:zK}),yk=Er([{method:"get",path:"/applies/:apply_id",alias:"getApply",description:"Show details of a specific apply",response:B.object({data:VK})}]);var WK=B.object({username:B.string(),"is-service-account":B.boolean(),"avatar-url":B.string()}),GK=B.object({id:B.string(),type:B.literal("users"),attributes:WK}),bk=Er([{method:"get",path:"/users/:user_id",alias:"getUser",description:"Get user information",response:B.object({data:GK})}]);var V_={ado:"Azure DevOps",bitbucket:"Bitbucket",gitlab:"GitLab",github:"GitHub",terraform:"Terraform","terraform+cloud":"Terraform Cloud",tfeAPI:"API","tfe-api":"API",module:"No-code Module"},KK=Object.keys(V_),XK=B.object({data:B.object({id:B.string(),type:B.string()}).nullable()}).nullish(),QK=B.object({"ingress-attributes":XK}),ZK=B.object({source:B.enum(KK).nullish()}),YK=B.object({id:B.string(),type:B.literal("configuration-versions"),attributes:ZK,relationships:QK}),_k=Er([{method:"get",path:"/configuration-versions/:configuration_id",alias:"getConfigurationVersion",description:"Show details of a specific configurationVersion",response:B.object({data:YK})}]);var JK=B.object({branch:B.string(),"clone-url":B.string(),"commit-message":B.string(),"commit-sha":B.string(),"commit-url":B.string(),"compare-url":B.string().nullable(),identifier:B.string(),"is-pull-request":B.boolean(),"on-default-branch":B.boolean(),"pull-request-number":B.number().nullable(),"pull-request-url":B.string().nullable(),"pull-request-title":B.string().nullable(),"pull-request-body":B.string().nullable(),tag:B.string().nullable(),"sender-username":B.string(),"sender-avatar-url":B.string(),"sender-html-url":B.string()}),e9=B.object({id:B.string(),type:B.literal("ingress-attributes"),attributes:JK}),xk=Er([{method:"get",path:"/configuration-versions/:configuration_id/ingress-attributes",alias:"getIngressAttributes",description:"Show details of a specific IngressAttributes",response:B.object({data:e9})}]);var W_=Er([{method:"get",path:"/ping",alias:"ping",description:"Get instance details",response:B.object({appName:B.string().nullish(),apiVersion:B.string().nullish()}),errors:fn}]);var di="app.terraform.io",so=`https://${di}/api/v2`,Xn=`https://${di}/app`,wk=`https://${di}`,G_=ff("Content-Type",async()=>"application/vnd.api+json"),t9=lc.extensions.getExtension("hashicorp.terraform")?.packageJSON.version,K_=ff("User-Agent",async()=>`VSCode/${lc.version} hashicorp.terraform/${t9}`);function X_(){return{response:async(t,e,r)=>(console.log(r),r)}}function r9(){return{response:async(t,e,r)=>(console.log("Response appname:",r.headers["tfp-appname"]),console.log("Response api-version:",r.headers["tfp-api-version"]),r.data={appName:r.headers["tfp-appname"],apiVersion:r.headers["tfp-api-version"],...r.data},r)}}var js=new zu(so,W_),Ls=new zu(so,U_);Ls.use(G_);Ls.use(K_);Ls.use(X_());var Kt=new zu(so,[...U_,...uk,...dk,...gk,...fk,...vk,...yk,...bk,..._k,...xk]);Kt.use(G_);Kt.use(K_);Kt.use(X_());var wie=Kt.use(A_({getToken:async()=>(await lc.authentication.getSession(Pr.providerID,[],{createIfNone:!0})).accessToken}));function sk(t){let e=`https://${t}/api/v2`;js=new zu(e,W_),js.use(G_),js.use(K_),js.use(X_()),js.use(r9())}function j_(t){di=t,so=`https://${di}/api/v2`,Xn=`https://${di}/app`,Ls.use(k_(so))}function F_(t){di=t,so=`https://${di}/api/v2`,Xn=`https://${di}/app`,Kt.use(k_(so))}var Ck=je(require("vscode"));var Yu=class{get label(){return"$(clear-all) Clear project filter. Show all workspaces"}get description(){return""}get alwaysShow(){return!0}},Q_=class{constructor(e){this.project=e}get label(){return this.project.attributes.name}get description(){return this.project.id}},gf=class{constructor(e,r,n){this.organizationName=e;this.outputChannel=r;this.reporter=n}name="projects";title="Filter workspaces";placeholder="Select a project (type to search)";async createProjectItems(e,r){return(await Kt.listProjects({params:{organization_name:e},...r&&{queries:{q:r}}})).data.map(i=>new Q_(i))}async fetchItems(e){let n=[new Yu,{label:"",kind:Ck.QuickPickItemKind.Separator}];try{n.push(...await this.createProjectItems(this.organizationName,e))}catch(i){let o="Failed to fetch projects";if(i instanceof Vr)return await Mn(i,o,this.outputChannel,this.reporter),n;if(vr.isAxiosError(i)&&i.response?.status===401)return await li(),n;Di(Kt.api,"listProjects",i)?(o+=$i(i.response.data.errors),this.reporter.sendTelemetryException(i)):i instanceof Error?(o+=i.message,this.reporter.sendTelemetryException(i)):typeof i=="string"&&(o+=i),n.push({label:`$(error) ${o}`,alwaysShow:!0})}return n}};var be=je(require("vscode"));function Z_(t){switch(t){case"pending":return new be.ThemeIcon("debug-pause",new be.ThemeColor("charts.gray"));case"managed_queued":return new be.ThemeIcon("debug-pause",new be.ThemeColor("charts.gray"));case"queued":return new be.ThemeIcon("debug-pause",new be.ThemeColor("charts.gray"));case"running":return new be.ThemeIcon("run-status-running",new be.ThemeColor("charts.gray"));case"errored":return new be.ThemeIcon("error",new be.ThemeColor("charts.red"));case"canceled":return new be.ThemeIcon("error",new be.ThemeColor("charts.gray"));case"finished":return new be.ThemeIcon("pass",new be.ThemeColor("charts.green"));case"unreachable":return new be.ThemeIcon("dash")}return new be.ThemeIcon("dash")}function Ju(t){switch(t){case"pending":return new be.ThemeIcon("debug-pause",new be.ThemeColor("charts.gray"));case"fetching":return new be.ThemeIcon("sync~spin",new be.ThemeColor("charts.gray"));case"pre_plan_running":return new be.ThemeIcon("run-status-running",new be.ThemeColor("charts.gray"));case"queuing":return new be.ThemeIcon("debug-pause",new be.ThemeColor("charts.gray"));case"planning":return new be.ThemeIcon("run-status-running",new be.ThemeColor("charts.gray"));case"cost_estimating":return new be.ThemeIcon("sync~spin",new be.ThemeColor("charts.gray"));case"policy_checking":return new be.ThemeIcon("sync~spin",new be.ThemeColor("charts.gray"));case"apply_queued":return new be.ThemeIcon("debug-pause",new be.ThemeColor("charts.gray"));case"applying":return new be.ThemeIcon("sync~spin",new be.ThemeColor("charts.gray"));case"post_plan_running":return new be.ThemeIcon("run-status-running",new be.ThemeColor("charts.gray"));case"plan_queued":return new be.ThemeIcon("debug-pause");case"fetching_completed":return new be.ThemeIcon("pass",new be.ThemeColor("charts.green"));case"pre_plan_completed":return new be.ThemeIcon("pass",new be.ThemeColor("charts.green"));case"planned":return new be.ThemeIcon("warning",new be.ThemeColor("charts.yellow"));case"cost_estimated":return new be.ThemeIcon("info",new be.ThemeColor("charts.orange"));case"policy_override":return new be.ThemeIcon("warning",new be.ThemeColor("charts.yellow"));case"policy_checked":return new be.ThemeIcon("pass",new be.ThemeColor("charts.green"));case"confirmed":return new be.ThemeIcon("pass",new be.ThemeColor("charts.green"));case"post_plan_completed":return new be.ThemeIcon("pass",new be.ThemeColor("charts.green"));case"planned_and_finished":return new be.ThemeIcon("pass-filled",new be.ThemeColor("charts.green"));case"policy_soft_failed":return new be.ThemeIcon("warning",new be.ThemeColor("charts.yellow"));case"applied":return new be.ThemeIcon("pass-filled",new be.ThemeColor("charts.green"));case"discarded":return new be.ThemeIcon("close",new be.ThemeColor("charts.gray"));case"canceled":return new be.ThemeIcon("error",new be.ThemeColor("charts.gray"));case"force_canceled":return new be.ThemeIcon("error");case"errored":return new be.ThemeIcon("error",new be.ThemeColor("charts.red"))}return new be.ThemeIcon("dash")}function vf(t){switch(t){case"pending":return"Pending";case"fetching":return"Fetching";case"queuing":return"Queuing";case"planning":return"Planning";case"cost_estimating":return"Estimating costs";case"policy_checking":return"Checking policies";case"apply_queued":return"Apply queued";case"applying":return"Applying";case"post_plan_running":return"Tasks - post-plan (running)";case"plan_queued":return"Plan queued";case"fetching_completed":return"Fetching completed";case"pre_plan_running":return"Tasks - pre-plan (running)";case"pre_plan_completed":return"Tasks - pre-plan (passed)";case"planned":return"Planned";case"cost_estimated":return"Cost estimated";case"policy_override":return"Policy override";case"policy_checked":return"Policy checked";case"confirmed":return"Confirmed";case"post_plan_completed":return"Tasks - post-plan (passed)";case"planned_and_finished":return"Planned and finished";case"policy_soft_failed":return"Policy Soft Failure";case"applied":return"Applied";case"discarded":return"Discarded";case"canceled":return"Canceled";case"force_canceled":return"Force canceled";case"errored":return"Errored"}return"No runs available"}function Fs(t){switch(t){case"create":return new be.ThemeIcon("diff-added",new be.ThemeColor("charts.green"));case"delete":return new be.ThemeIcon("diff-removed",new be.ThemeColor("charts.red"));case"update":return new be.ThemeIcon("diff-modified",new be.ThemeColor("charts.orange"));case"move":return new be.ThemeIcon("diff-renamed",new be.ThemeColor("charts.orange"));case"replace":return new be.ThemeIcon("arrow-swap",new be.ThemeColor("charts.orange"));case"read":return new be.ThemeIcon("git-fetch",new be.ThemeColor("charts.blue"));case"import":return new be.ThemeIcon("export",new be.ThemeColor("charts.blue"));case"noop":return new be.ThemeIcon("diff-ignored",new be.ThemeColor("charts.grey"))}}function Ek(t){switch(t){case"update":return"updated";case"delete":return"deleted";default:return"unknown"}}function Sk(t){switch(t){case"warning":return new be.ThemeIcon("warning",new be.ThemeColor("charts.orange"));case"error":return new be.ThemeIcon("error",new be.ThemeColor("charts.red"))}}function yf(t){let a=new Intl.RelativeTimeFormat("en",{style:"long",numeric:"auto"}),c=Date.now()/1e3,u=t.getTime()/1e3,l=c-u;if(l<60)return a.format(-l,"second");if(l<3600){let p=Math.round(l/60);return a.format(-p,"minute")}if(l<86400){let p=Math.round(l/3600);return a.format(-p,"hour")}if(l<604800){let p=Math.round(l/86400);return a.format(-p,"day")}if(l<2592e3){let p=Math.round(l/604800);return a.format(-p,"week")}if(l<31536e3){let p=Math.round(l/2592e3);return a.format(-p,"month")}let d=Math.round(l/31536e3);return a.format(-d,"year")}var n9=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),"g");function Y_(t){return t.replace(n9,"")}var bf=class{constructor(e,r,n,i){this.ctx=e;this.runDataProvider=r;this.reporter=n;this.outputChannel=i;this.ctx.subscriptions.push(Je.commands.registerCommand("terraform.cloud.workspaces.refresh",o=>{this.reporter.sendTelemetryEvent("tfc-workspaces-refresh"),this.reset(),this.refresh(),this.runDataProvider.refresh(o)}),Je.commands.registerCommand("terraform.cloud.workspaces.resetProjectFilter",()=>{this.reporter.sendTelemetryEvent("tfc-workspaces-filter-reset"),this.projectFilter=void 0,this.reset(),this.refresh(),this.runDataProvider.refresh()}),Je.commands.registerCommand("terraform.cloud.workspaces.viewInBrowser",o=>{this.reporter.sendTelemetryEvent("tfc-workspaces-viewInBrowser");let s=`${Xn}/${o.organization}/workspaces/${o.attributes.name}`;Je.env.openExternal(Je.Uri.parse(s))}),Je.commands.registerCommand("terraform.cloud.organization.viewInBrowser",()=>{this.reporter.sendTelemetryEvent("tfc-organization-viewInBrowser");let o=this.ctx.workspaceState.get("terraform.cloud.organization",""),s=`${Xn}/${o}`;Je.env.openExternal(Je.Uri.parse(s))}),Je.commands.registerCommand("terraform.cloud.workspaces.filterByProject",async()=>{this.reporter.sendTelemetryEvent("tfc-workspaces-filter"),await this.filterByProject()}),Je.commands.registerCommand("terraform.cloud.workspaces.loadMore",()=>{this.reporter.sendTelemetryEvent("tfc-workspaces-loadMore"),this.refresh(),this.runDataProvider.refresh()}))}didChangeTreeData=new Je.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;projectFilter;pageSize=50;cache=[];nextPage=null;refresh(){this.didChangeTreeData.fire(void 0)}reset(){this.nextPage=null,this.cache=[]}async filterByProject(){if(await Je.authentication.getSession(Pr.providerID,[],{createIfNone:!1})===void 0)return;let r=this.ctx.workspaceState.get("terraform.cloud.organization",""),n=new gf(r,this.outputChannel,this.reporter),o=await new cc(n).pick();o===void 0||o instanceof Yu?(this.projectFilter=void 0,await Je.commands.executeCommand("setContext","terraform.cloud.projectFilterUsed",!1)):(this.projectFilter=o.description,await Je.commands.executeCommand("setContext","terraform.cloud.projectFilterUsed",!0)),this.reset(),this.refresh(),this.runDataProvider.refresh()}getTreeItem(e){return e}getChildren(e){return e?[e]:this.buildChildren()}async buildChildren(){try{this.cache=[...this.cache,...await this.getWorkspaces()]}catch{return[]}let e=this.cache.slice(0);return this.nextPage!==null&&e.push(new J_),e}async getWorkspaces(){let e=this.ctx.workspaceState.get("terraform.cloud.organization","");if(e==="")return[];if(await Je.authentication.getSession(Pr.providerID,[],{createIfNone:!1})===void 0)return[];try{let n=await Kt.listWorkspaces({params:{organization_name:e},queries:{include:["current_run"],...this.projectFilter&&{"filter[project][id]":this.projectFilter},"page[size]":this.pageSize,"page[number]":this.nextPage??1,sort:"-current-run.created-at"}});this.nextPage=n.meta.pagination["next-page"],this.reporter.sendTelemetryEvent("tfc-fetch-workspaces",void 0,{totalCount:n.meta.pagination["total-count"]});let i=await Kt.listProjects({params:{organization_name:e}});Je.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!0);let o=n.data;if(o.length<=0)return await Je.commands.executeCommand("setContext","terraform.cloud.workspacesExist",!1),(await Kt.listOrganizationMemberships({})).data.filter(l=>l.relationships.organization.data.id===e&&l.attributes.status==="invited").length>0?await Je.commands.executeCommand("setContext","terraform.cloud.pendingOrgMembership",!0):await Je.commands.executeCommand("setContext","terraform.cloud.pendingOrgMembership",!1),[];await Je.commands.executeCommand("setContext","terraform.cloud.workspacesExist",!0),await Je.commands.executeCommand("setContext","terraform.cloud.pendingOrgMembership",!1);let s=i.data,a=[];for(let c of o){let u=s.find(f=>f.id===c.relationships.project?.data?.id),l=u?u.attributes.name:"",d=c.relationships["latest-run"]?.data?.id,p=n.included?n.included.find(f=>f.id===d):void 0,m=Je.Uri.joinPath(Je.Uri.parse(wk),c.links["self-html"]);a.push(new Us(c.attributes,c.id,l,e,m,p?.attributes))}return a}catch(n){let i=`Failed to list workspaces in ${e}: `;if(n instanceof Vr)return await Mn(n,i,this.outputChannel,this.reporter),[];if(vr.isAxiosError(n)){if(n.response?.status===401)return await li(),[];if(n.response?.status===404)return Je.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!1),Je.window.showWarningMessage(`Organization '${e}' not found, please pick another one`),Je.commands.executeCommand("terraform.cloud.organization.picker"),[];if(Di(Kt.api,"listWorkspaces",n)||Di(Kt.api,"listProjects",n))return i+=$i(n.response.data.errors),Je.window.showErrorMessage(i),this.reporter.sendTelemetryException(n),[]}return n instanceof Error?(i+=n.message,Je.window.showErrorMessage(i),this.reporter.sendTelemetryException(n),[]):(typeof n=="string"&&(i+=n),Je.window.showErrorMessage(i),[])}}dispose(){}},J_=class extends Je.TreeItem{constructor(){super("Load more...",Je.TreeItemCollapsibleState.None),this.iconPath=new Je.ThemeIcon("ellipsis",new Je.ThemeColor("charts.gray")),this.command={command:"terraform.cloud.workspaces.loadMore",title:"Load more"}}},Us=class extends Je.TreeItem{constructor(r,n,i,o,s,a){super(r.name,Je.TreeItemCollapsibleState.None);this.attributes=r;this.id=n;this.projectName=i;this.organization=o;this.weblink=s;this.lastRun=a;this.description=`[${this.projectName}]`,this.iconPath=Ju(this.lastRun?.status),this.contextValue="hasLink";let c=this.attributes.locked?"$(lock) Locked":"$(unlock) Unlocked",u=this.attributes["vcs-repo-identifier"]&&this.attributes["vcs-repo"]?`$(source-control) [${this.attributes["vcs-repo-identifier"]}](${this.attributes["vcs-repo"]["repository-http-url"]})`:"",l=vf(this.lastRun?.status),d=yf(this.attributes["updated-at"]),p=`
## $(${this.iconPath.id}) [${this.attributes.name}](${this.weblink.toString()})

#### ID: *${this.id}*

Run Status: $(${this.iconPath.id}) ${l}

${c}
___
| | |
--|--
| **Resources**         | ${this.attributes["resource-count"]}|
| **Terraform Version** | ${this.attributes["terraform-version"]}|
| **Updated**           | ${d}|

___
| | |
--|--
| ${u} | |
| **$(zap) Execution Mode** | ${this.attributes["execution-mode"]}|
| **$(gear) Auto Apply**    | ${d}|
`;this.tooltip=new Je.MarkdownString(p,!0)}};var ut=je(require("vscode"));var MN=je(qN());var Ef=class{constructor(e,r,n,i,o){this.ctx=e;this.reporter=r;this.outputChannel=n;this.planDataProvider=i;this.applyDataProvider=o;this.ctx.subscriptions.push(ut.commands.registerCommand("terraform.cloud.run.plan.downloadLog",async s=>{await this.downloadPlanLog(s)}),ut.commands.registerCommand("terraform.cloud.run.apply.downloadLog",async s=>this.downloadApplyLog(s)),ut.commands.registerCommand("terraform.cloud.runs.refresh",()=>{this.reporter.sendTelemetryEvent("tfc-runs-refresh"),this.refresh(this.activeWorkspace)}),ut.commands.registerCommand("terraform.cloud.run.viewInBrowser",s=>{this.reporter.sendTelemetryEvent("tfc-runs-viewInBrowser"),ut.env.openExternal(s.websiteUri)}),ut.commands.registerCommand("terraform.cloud.run.viewPlan",async s=>{if(!s.logReadUrl){await ut.window.showErrorMessage(`No plan found for ${s.id}`);return}await ut.commands.executeCommand("setContext","terraform.cloud.run.viewingPlan",!0),await ut.commands.executeCommand("terraform.cloud.run.plan.focus"),this.planDataProvider.refresh(s)}),ut.commands.registerCommand("terraform.cloud.run.viewApply",async s=>{if(!s.logReadUrl){await ut.window.showErrorMessage(`No apply log found for ${s.id}`);return}await ut.commands.executeCommand("setContext","terraform.cloud.run.viewingApply",!0),await ut.commands.executeCommand("terraform.cloud.run.apply.focus"),this.applyDataProvider.refresh(s)}))}didChangeTreeData=new ut.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;activeWorkspace;refresh(e){this.activeWorkspace=e,this.didChangeTreeData.fire(void 0)}getTreeItem(e){return e}getChildren(e){if(!this.activeWorkspace||!(this.activeWorkspace instanceof Us))return[];if(e)return this.getRunDetails(e);try{return this.getRuns(this.activeWorkspace)}catch{return[]}}async resolveTreeItem(e,r){return r instanceof Sf&&(e.tooltip=await B6(r)),e}async getRuns(e){let r=this.ctx.workspaceState.get("terraform.cloud.organization","");if(r==="")return[];if(await ut.authentication.getSession(Pr.providerID,[],{createIfNone:!1})===void 0)return[];if(!this.activeWorkspace)return[];try{let i=await Kt.listRuns({params:{workspace_id:e.id},queries:{"page[size]":100}});if(this.reporter.sendTelemetryEvent("tfc-fetch-runs",void 0,{totalCount:i.meta.pagination["total-count"]}),i.data.length===0)return[{label:`No runs found for ${this.activeWorkspace.attributes.name}`,tooltip:`No runs found for ${this.activeWorkspace.attributes.name}`,contextValue:"empty"}];let o=[];for(let s of i.data){let a=new Sf(s.id,s.attributes,this.activeWorkspace);a.contextValue="isRun",a.organizationName=r,a.configurationVersionId=s.relationships["configuration-version"]?.data?.id,a.createdByUserId=s.relationships["created-by"]?.data?.id,a.planId=s.relationships.plan?.data?.id,a.applyId=s.relationships.apply?.data?.id,(a.planId||a.applyId)&&(a.collapsibleState=ut.TreeItemCollapsibleState.Collapsed),o.push(a)}return o}catch(i){let o=`Failed to list runs in ${this.activeWorkspace.attributes.name} (${e.id}): `;if(i instanceof Vr)return await Mn(i,o,this.outputChannel,this.reporter),[];if(vr.isAxiosError(i)){if(i.response?.status===401)return await li(),[];if(i.response?.status===404)return ut.window.showWarningMessage(`Workspace ${this.activeWorkspace.attributes.name} (${e.id}) not found, please pick another one`),[];if(Di(Kt.api,"listRuns",i))return o+=$i(i.response.data.errors),ut.window.showErrorMessage(o),this.reporter.sendTelemetryException(i),[]}return i instanceof Error?(o+=i.message,ut.window.showErrorMessage(o),this.reporter.sendTelemetryException(i),[]):(typeof i=="string"&&(o+=i),ut.window.showErrorMessage(o),[])}}async getRunDetails(e){let r=[],n=e;if(n.planId){let i=await Kt.getPlan({params:{plan_id:n.planId}});if(i.data.id){let o=i.data.attributes.status,s=o==="unreachable"?"Plan will not run":`Plan ${o}`,a=new ox(n.planId,s,i.data.attributes);o==="unreachable"||o==="pending"?a.label=s:this.isJsonExpected(i.data.attributes,n.attributes["terraform-version"])?a.contextValue="hasStructuredPlan":a.contextValue="hasRawPlan",r.push(a)}}if(n.applyId){let i=await Kt.getApply({params:{apply_id:n.applyId}});if(i.data.id){let o=i.data.attributes.status,s=o==="unreachable"?"Apply will not run":`Apply ${o}`,a=new sx(n.applyId,s,i.data.attributes);o==="unreachable"||o==="pending"?a.label=s:this.isJsonExpected(i.data.attributes,n.attributes["terraform-version"])?a.contextValue="hasStructuredApply":a.contextValue="hasRawApply",r.push(a)}}return r}isJsonExpected(e,r){return MN.default.satisfies(r,"> 0.15.2")?e["structured-run-output-enabled"]:!1}async downloadPlanLog(e){if(!e.id){await ut.window.showErrorMessage(`No plan found for ${e.id}`);return}let r=await ut.workspace.openTextDocument(e.documentUri);return await ut.window.showTextDocument(r,{preview:!1})}async downloadApplyLog(e){if(!e.id){await ut.window.showErrorMessage(`No apply found for ${e.id}`);return}let r=await ut.workspace.openTextDocument(e.documentUri);return await ut.window.showTextDocument(r,{preview:!1})}dispose(){}},Sf=class extends ut.TreeItem{constructor(r,n,i){super(n.message,ut.TreeItemCollapsibleState.None);this.id=r;this.attributes=n;this.workspace=i;this.id=r,this.workspace=i,this.iconPath=Ju(n.status),this.description=`${n["trigger-reason"]} ${n["created-at"].toDateString()}`}organizationName;configurationVersionId;createdByUserId;planAttributes;planId;applyAttributes;applyId;get websiteUri(){return ut.Uri.parse(`${Xn}/${this.organizationName}/workspaces/${this.workspace.attributes.name}/runs/${this.id}`)}},ox=class extends ut.TreeItem{constructor(r,n,i){super(n);this.id=r;this.label=n;this.attributes=i;this.iconPath=Z_(i.status),this.logReadUrl=i["log-read-url"]}logReadUrl="";get documentUri(){return ut.Uri.parse(`vscode-terraform://plan/${this.id}`)}},sx=class extends ut.TreeItem{constructor(r,n,i){super(n);this.id=r;this.label=n;this.attributes=i;this.iconPath=Z_(i.status),this.logReadUrl=i["log-read-url"]}logReadUrl="";get documentUri(){return ut.Uri.parse(`vscode-terraform://apply/${this.id}`)}};async function B6(t){let e=new ut.MarkdownString;e.supportHtml=!0,e.supportThemeIcons=!0;let r=t.configurationVersionId?await Kt.getConfigurationVersion({params:{configuration_id:t.configurationVersionId}}):void 0,n=r?.data.relationships["ingress-attributes"]?.data?.id?await Kt.getIngressAttributes({params:{configuration_id:r.data.id}}):void 0,i=yf(t.attributes["created-at"]);if(t.createdByUserId){let c=await Kt.getUser({params:{user_id:t.createdByUserId}});e.appendMarkdown(`<img src="${c.data.attributes["avatar-url"]}" width="20"> **${c.data.attributes.username}**`)}else n&&e.appendMarkdown(`<img src="${n.data.attributes["sender-avatar-url"]}" width="20"> **${n.data.attributes["sender-username"]}**`);let o=H_[t.attributes["trigger-reason"]],s=Ju(t.attributes.status),a=vf(t.attributes.status);if(e.appendMarkdown(` ${o} from ${B_[t.attributes.source]} ${i}`),e.appendMarkdown(`

-----
_____
| | |
-:|--
| **Run ID**   | \`${t.id}\` |
| **Status** | $(${s.id}) ${a} |
`),n&&r?.data.attributes.source){let c=n.data.attributes["commit-sha"].slice(0,8),u=V_[r.data.attributes.source];e.appendMarkdown(`| **Configuration** | From ${u} by <img src="${n.data.attributes["sender-avatar-url"]}" width="20"> ${n.data.attributes["sender-username"]} **Branch** ${n.data.attributes.branch} **Repo** [${n.data.attributes.identifier}](${n.data.attributes["clone-url"]}) |
| **Commit** | [${c}](${n.data.attributes["commit-url"]}): ${n.data.attributes["commit-message"].split(`
`)[0]} |
`)}else e.appendMarkdown(`| **Configuration** | From ${t.attributes.source} |
`);return e.appendMarkdown(`| **Trigger** | ${o} |
| **Execution Mode** | ${t.workspace.attributes["execution-mode"]} |
`),e}var Sr=je(require("vscode")),LN=je(require("readline")),jN=require("stream");var pi=je(require("vscode"));function Tf(t){return"getChildren"in t}var dc=class extends pi.TreeItem{constructor(r){let n=Object.keys(r).length;super(`${n} outputs`,pi.TreeItemCollapsibleState.Expanded);this.outputs=r}getChildren(){let r=[];return Object.entries(this.outputs).forEach(([n,i])=>{r.push(new ax(n,i))}),r}},ax=class extends pi.TreeItem{constructor(e,r){super(e,pi.TreeItemCollapsibleState.None),r.action&&(this.id="output/"+r.action+"/"+e,this.iconPath=Fs(r.action),this.description=r.action,r.sensitive&&(this.description+=" (sensitive)"))}},pc=class extends pi.TreeItem{constructor(r,n){let i=[];n.warningCount===1?i.push("1 warning"):n.warningCount>1&&i.push(`${n.warningCount} warnings`),n.errorCount===1?i.push("1 error"):n.errorCount>1&&i.push(`${n.errorCount} errors`);super(i.join(", "),pi.TreeItemCollapsibleState.Expanded);this.diagnostics=r}getChildren(){return this.diagnostics.map(r=>new cx(r))}},cx=class extends pi.TreeItem{constructor(e){super(e.summary,pi.TreeItemCollapsibleState.None),this.description=e.severity;let r=Sk(e.severity);this.iconPath=r;let n=new pi.MarkdownString;n.supportThemeIcons=!0,n.appendMarkdown(`$(${r.id}) **${e.summary}**

`),n.appendMarkdown(e.detail),this.tooltip=n}};var Rf=class{constructor(e,r,n){this.ctx=e;this.reporter=r;this.outputChannel=n;this.ctx.subscriptions.push(Sr.commands.registerCommand("terraform.cloud.run.plan.refresh",()=>{this.reporter.sendTelemetryEvent("tfc-run-plan-refresh"),this.refresh(this.plan)}))}didChangeTreeData=new Sr.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;plan;refresh(e){this.plan=e,this.didChangeTreeData.fire(void 0)}getTreeItem(e){return e}getChildren(e){if(!this.plan)return[];if(!e)try{return this.getRootChildren(this.plan)}catch{return[]}if(Tf(e))return e.getChildren()}async getRootChildren(e){let r=await this.getPlanFromUrl(e),n=[];return r?.plannedChanges&&n.push(new ux(r.plannedChanges,r.changeSummary)),r?.driftChanges&&n.push(new dx(r.driftChanges,r.driftSummary)),r?.outputs&&n.push(new dc(r.outputs)),r?.diagnostics&&r.diagnosticSummary&&r.diagnostics.length>0&&n.push(new pc(r.diagnostics,r.diagnosticSummary)),n}async getPlanFromUrl(e){if(await Sr.authentication.getSession(Pr.providerID,[],{createIfNone:!1})!==void 0)try{let n=await vr.get(e.logReadUrl,{headers:{Accept:"text/plain"},responseType:"stream"}),i=LN.createInterface({input:n.data,output:new jN.Writable}),o={};for await(let s of i)try{let a=JSON.parse(s);if(a.type==="planned_change"&&a.change){o.plannedChanges||(o.plannedChanges=[]),o.plannedChanges.push(a.change);continue}if(a.type==="resource_drift"&&a.change){o.driftChanges||(o.driftChanges=[]),o.driftSummary||(o.driftSummary={changed:0,deleted:0}),o.driftChanges.push(a.change),a.change.action==="update"&&(o.driftSummary.changed+=1),a.change.action==="delete"&&(o.driftSummary.deleted+=1);continue}if(a.type==="change_summary"&&a.changes){o.changeSummary=a.changes;continue}if(a.type==="outputs"&&a.outputs){o.outputs=a.outputs;continue}if(a.type==="diagnostic"&&a.diagnostic){o.diagnostics||(o.diagnostics=[]),o.diagnosticSummary||(o.diagnosticSummary={errorCount:0,warningCount:0}),o.diagnostics.push(a.diagnostic),a.diagnostic.severity==="warning"&&(o.diagnosticSummary.warningCount+=1),a.diagnostic.severity==="error"&&(o.diagnosticSummary.errorCount+=1);continue}}catch{continue}return o}catch(n){let i=`Failed to obtain plan from ${e.logReadUrl}: `;if(n instanceof Vr){await Mn(n,i,this.outputChannel,this.reporter);return}if(vr.isAxiosError(n)&&n.response?.status===401){await li();return}if(n instanceof Error){i+=n.message,Sr.window.showErrorMessage(i),this.reporter.sendTelemetryException(n);return}typeof n=="string"&&(i+=n),Sr.window.showErrorMessage(i);return}}dispose(){}},ux=class extends Sr.TreeItem{constructor(r,n){let i="Planned changes";if(n){let o=[];n.import>0&&o.push(`${n.import} to import`),n.add>0&&o.push(`${n.add} to add`),n.change>0&&o.push(`${n.change} to change`),n.remove>0&&o.push(`${n.remove} to destroy`),o.length>0&&(i=`Planned changes: ${o.join(", ")}`)}super(i,Sr.TreeItemCollapsibleState.Expanded);this.plannedChanges=r}getChildren(){return this.plannedChanges.map(r=>new lx(r))}},lx=class extends Sr.TreeItem{constructor(r){let n=r.resource.addr;r.previous_resource&&(n=`${r.previous_resource.addr} \u2192 ${r.resource.addr}`);super(n,Sr.TreeItemCollapsibleState.None);this.change=r;this.id=r.action+"/"+r.resource.addr,this.iconPath=Fs(r.action),this.description=r.action;let i=new Sr.MarkdownString;r.previous_resource?i.appendMarkdown(`\`${r.previous_resource.addr}\` planned to _${r.action}_ to \`${r.resource.addr}\``):r.importing?i.appendMarkdown(`Planned to _${r.action}_ \`${r.resource.addr}\` (id=\`${r.importing.id}\`)`):i.appendMarkdown(`Planned to _${r.action}_ \`${r.resource.addr}\``),this.tooltip=i}},dx=class extends Sr.TreeItem{constructor(r,n){let i="Drifted resources";if(n){let o=[];n.changed>0&&o.push(`${n.changed} changed`),n.deleted>0&&o.push(`${n.deleted} deleted`),i=`Drifted resources: ${o.join(", ")}`}super(i,Sr.TreeItemCollapsibleState.Expanded);this.driftChanges=r}getChildren(){return this.driftChanges.map(r=>new px(r))}},px=class extends Sr.TreeItem{constructor(r){let n=r.resource.addr;r.previous_resource&&(n=`${r.previous_resource.addr} \u2192 ${r.resource.addr}`);super(n,Sr.TreeItemCollapsibleState.None);this.change=r;this.id="drift/"+r.action+"/"+r.resource.addr,this.iconPath=Fs(r.action);let i=Ek(r.action);this.description=i,this.tooltip=new Sr.MarkdownString(`\`${r.resource.addr}\` _${i}_`)}};var ao=je(require("vscode"));var tl=class{get label(){return"$(add) Create new organization"}get detail(){return"Open the browser to create a new organization"}async open(){await ao.env.openExternal(ao.Uri.parse(`${Xn}/organizations/new`))}get alwaysShow(){return!0}},rl=class{get label(){return"$(refresh) Refresh organizations"}get detail(){return"Refetch all organizations"}get alwaysShow(){return!0}},fx=class{constructor(e){this.organization=e}get label(){return this.organization.attributes.name}},Pf=class{constructor(e,r){this.outputChannel=e;this.reporter=r}name="organizations";title="Welcome to HCP Terraform";placeholder="Choose an organization (type to search)";ignoreFocusOut=!0;async createOrganizationItems(e){let r=await Kt.listOrganizations({...e&&{queries:{q:e}}});return r.data.length<=0?await ao.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!1):await ao.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!0),r.data.map(n=>new fx(n))}async fetchItems(e){let r=new tl,n=new rl,i=[r,n,{label:"",kind:ao.QuickPickItemKind.Separator}];try{i.push(...await this.createOrganizationItems(e))}catch(o){let s="Failed to fetch organizations";if(o instanceof Vr)return await Mn(o,s,this.outputChannel,this.reporter),i;if(vr.isAxiosError(o)&&o.response?.status===401)return await li(),i;Di(Kt.api,"listOrganizations",o)?(s+=$i(o.response.data.errors),this.reporter.sendTelemetryException(o)):o instanceof Error?(s+=o.message,this.reporter.sendTelemetryException(o)):typeof o=="string"&&(s+=o),i.push({label:`$(error) ${s}`,alwaysShow:!0})}return i}};var nl=je(require("vscode"));var Df=class{onDidChangeEmitter=new nl.EventEmitter;onDidChange=this.onDidChangeEmitter.event;async provideTextDocumentContent(e){try{let r=await this.getLogUrl(e);if(!r)throw new Error("Unable to parse log URL");let n=await vr.get(r,{headers:{Accept:"text/plain"}});return this.parseLog(n.data)}catch(r){return r instanceof Error?await nl.window.showErrorMessage("Failed to load log:",r.message):typeof r=="string"&&await nl.window.showErrorMessage("Failed to load log:",r),console.error(r),""}}parseLog(e){return e=Y_(e),e=e.replace("","").replace("",""),e}async getLogUrl(e){let r=e.path.replace("/","");switch(e.authority){case"plan":return await this.getPlanLogUrl(r);case"apply":return await this.getApplyLogUrl(r)}}async getPlanLogUrl(e){return(await Kt.getPlan({params:{plan_id:e}})).data.attributes["log-read-url"]}async getApplyLogUrl(e){return(await Kt.getApply({params:{apply_id:e}})).data.attributes["log-read-url"]}};var Jr=je(require("vscode")),FN=je(require("readline")),UN=require("stream");var If=class{constructor(e,r,n){this.ctx=e;this.reporter=r;this.outputChannel=n;this.ctx.subscriptions.push(Jr.commands.registerCommand("terraform.cloud.run.apply.refresh",()=>{this.reporter.sendTelemetryEvent("tfc-run-apply-refresh"),this.refresh(this.apply)}))}didChangeTreeData=new Jr.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;apply;refresh(e){this.apply=e,this.didChangeTreeData.fire(void 0)}getTreeItem(e){return e}getChildren(e){if(!this.apply)return[];if(!e)try{return this.getRootChildren(this.apply)}catch{return[]}if(Tf(e))return e.getChildren()}async getRootChildren(e){let r=await this.getApplyFromUrl(e),n=[];return r?.appliedChanges&&n.push(new mx(r.appliedChanges,r.changeSummary)),r?.outputs&&Object.keys(r.outputs).length>0&&n.push(new dc(r.outputs)),r?.diagnostics&&r.diagnosticSummary&&r.diagnostics.length>0&&n.push(new pc(r.diagnostics,r.diagnosticSummary)),n}async getApplyFromUrl(e){if(await Jr.authentication.getSession(Pr.providerID,[],{createIfNone:!1})!==void 0)try{let n=await vr.get(e.logReadUrl,{headers:{Accept:"text/plain"},responseType:"stream"}),i=FN.createInterface({input:n.data,output:new UN.Writable}),o={};for await(let s of i)try{let a=JSON.parse(s);if(a.type==="apply_complete"&&a.hook){o.appliedChanges||(o.appliedChanges=[]),o.appliedChanges.push(a.hook);continue}if(a.type==="change_summary"&&a.changes){o.changeSummary=a.changes;continue}if(a.type==="outputs"&&a.outputs){o.outputs=a.outputs;continue}if(a.type==="diagnostic"&&a.diagnostic){o.diagnostics||(o.diagnostics=[]),o.diagnosticSummary||(o.diagnosticSummary={errorCount:0,warningCount:0}),o.diagnostics.push(a.diagnostic),a.diagnostic.severity==="warning"&&(o.diagnosticSummary.warningCount+=1),a.diagnostic.severity==="error"&&(o.diagnosticSummary.errorCount+=1);continue}}catch{continue}return o}catch(n){let i=`Failed to obtain apply log from ${e.logReadUrl}: `;if(n instanceof Vr){await Mn(n,i,this.outputChannel,this.reporter);return}if(vr.isAxiosError(n)&&n.response?.status===401){await li();return}if(n instanceof Error){i+=n.message,Jr.window.showErrorMessage(i),this.reporter.sendTelemetryException(n);return}typeof n=="string"&&(i+=n),Jr.window.showErrorMessage(i);return}}dispose(){}},mx=class extends Jr.TreeItem{constructor(r,n){let i="Applied changes";if(n){let o=[];n.import>0&&o.push(`${n.import} imported`),n.add>0&&o.push(`${n.add} added`),n.change>0&&o.push(`${n.change} changed`),n.remove>0&&o.push(`${n.remove} destroyed`),o.length>0&&(i=`Applied changes: ${o.join(", ")}`)}super(i,Jr.TreeItemCollapsibleState.Expanded);this.appliedChanges=r}getChildren(){return this.appliedChanges.map(r=>new hx(r))}},hx=class extends Jr.TreeItem{constructor(r){let n=r.resource.addr;super(n,Jr.TreeItemCollapsibleState.None);this.change=r;this.id=r.action+"/"+r.resource.addr,this.iconPath=Fs(r.action),this.description=r.action,r.id_key&&r.id_value&&(this.description=`${r.id_key}=${r.id_value}`);let i=new Jr.MarkdownString;i.appendMarkdown(`_${r.action}_ \`${r.resource.addr}\``),this.tooltip=i}};var Of=class{constructor(e,r,n){this.context=e;this.reporter=r;let i=new Pr(e.secrets,e,this.reporter,n);this.context.subscriptions.push(Zt.workspace.registerTextDocumentContentProvider("vscode-terraform",new Df)),this.statusBar=new gx(e),i.onDidChangeSessions(async f=>{f.added&&f.added.length>0&&(await Zt.commands.executeCommand("terraform.cloud.organization.picker"),await this.statusBar.show()),f.removed&&f.removed.length>0&&await this.statusBar.reset()}),e.subscriptions.push(Zt.authentication.registerAuthenticationProvider(Pr.providerID,Pr.providerLabel,i,{supportsMultipleAccounts:!1}));let o=new Rf(this.context,this.reporter,n),s=Zt.window.createTreeView("terraform.cloud.run.plan",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:o}),a=new If(this.context,this.reporter,n),c=Zt.window.createTreeView("terraform.cloud.run.apply",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:a}),u=new Ef(this.context,this.reporter,n,o,a),l=Zt.window.createTreeView("terraform.cloud.runs",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:u}),d=new bf(this.context,u,this.reporter,n),p=Zt.window.createTreeView("terraform.cloud.workspaces",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:d}),m=this.context.workspaceState.get("terraform.cloud.organization","");p.title=m!==""?`Workspaces - (${m})`:"Workspaces",this.context.subscriptions.push(l,s,o,c,a,u,d,p),p.onDidChangeSelection(f=>{if(f.selection.length<=0)return;let g=f.selection[0];g instanceof Us&&(u.refresh(g),o.refresh(),a.refresh())}),Zt.authentication.onDidChangeSessions(f=>{f.provider.id===Pr.providerID&&(d.reset(),d.refresh(),u.refresh(),o.refresh(),a.refresh())}),p.onDidChangeVisibility(async f=>{f.visible?(await this.statusBar.show(),await Zt.commands.executeCommand("setContext","terraform.cloud.views.visible",!0)):(this.statusBar.hide(),await Zt.commands.executeCommand("setContext","terraform.cloud.views.visible",!1))}),this.context.subscriptions.push(Zt.commands.registerCommand("terraform.cloud.workspaces.picker",async()=>{this.reporter.sendTelemetryEvent("tfc-new-workspace");let f=this.context.workspaceState.get("terraform.cloud.organization","");if(f==="")return[];let g=`${Xn}/${f}/workspaces/new`;await Zt.env.openExternal(Zt.Uri.parse(g))}),Zt.commands.registerCommand("terraform.cloud.organization.picker",async()=>{this.reporter.sendTelemetryEvent("tfc-pick-organization");let f=new Pf(n,r),g=new cc(f),y;for(;;){if(y=await g.pick(!1),y===void 0)return;if(y instanceof tl){this.reporter.sendTelemetryEvent("tfc-pick-organization-create"),await y.open();continue}else if(y instanceof rl){this.reporter.sendTelemetryEvent("tfc-pick-organization-refresh");continue}break}g.hide(),await this.statusBar.show(y.label),p.title=`Workspace - (${y.label})`,await Zt.commands.executeCommand("terraform.cloud.workspaces.resetProjectFilter")}))}statusBar;dispose(){this.statusBar.dispose()}},gx=class{constructor(e){this.context=e;this.organizationStatusBar.name="TFCOrganizationBar",this.organizationStatusBar.command={command:"terraform.cloud.organization.picker",title:"Choose your HCP Terraform Organization"}}organizationStatusBar=Zt.window.createStatusBarItem(Zt.StatusBarAlignment.Left,0);dispose(){this.organizationStatusBar.dispose()}async show(e){e?await this.context.workspaceState.update("terraform.cloud.organization",e):e=this.context.workspaceState.get("terraform.cloud.organization",""),e?(this.organizationStatusBar.text=`$(account) TFC - ${e}`,await Zt.commands.executeCommand("setContext","terraform.cloud.organizationsChosen",!0)):await Zt.commands.executeCommand("setContext","terraform.cloud.organizationsChosen",!1),this.organizationStatusBar.show()}async reset(){await Zt.commands.executeCommand("setContext","terraform.cloud.organizationsChosen",!1),await this.context.workspaceState.update("terraform.cloud.organization",void 0),this.organizationStatusBar.text="",this.organizationStatusBar.hide()}hide(){this.organizationStatusBar.hide()}};var m1=je(require("vscode"));var z6=/(%?)(%([sdijo]))/g;function V6(t,e){switch(e){case"s":return t;case"d":case"i":return Number(t);case"j":return JSON.stringify(t);case"o":{if(typeof t=="string")return t;let r=JSON.stringify(t);return r==="{}"||r==="[]"||/^\[object .+?\]$/.test(r)?t:r}}}function Vo(t,...e){if(e.length===0)return t;let r=0,n=t.replace(z6,(i,o,s,a)=>{let c=e[r],u=V6(c,a);return o?i:(r++,u)});return r<e.length&&(n+=` ${e.slice(r).join(" ")}`),n=n.replace(/%{2,2}/g,"%"),n}var W6=2;function G6(t){if(!t.stack)return;let e=t.stack.split(`
`);e.splice(1,W6),t.stack=e.join(`
`)}var K6=class extends Error{constructor(t,...e){super(t),this.message=t,this.name="Invariant Violation",this.message=Vo(t,...e),G6(this)}},jr=(t,e,...r)=>{if(!t)throw new K6(e,...r)};jr.as=(t,e,r,...n)=>{if(!e){let i=n.length===0?r:Vo(r,n),o;try{o=Reflect.construct(t,[i])}catch{o=t(i)}throw o}};var X6="[MSW]";function vx(t,...e){let r=Vo(t,...e);return`${X6} ${r}`}function Q6(t,...e){console.warn(vx(t,...e))}function Z6(t,...e){console.error(vx(t,...e))}var xn={formatMessage:vx,warn:Q6,error:Z6};function $N(){jr(typeof URL<"u",xn.formatMessage(`Global "URL" class is not defined. This likely means that you're running MSW in an environment that doesn't support all Node.js standard API (e.g. React Native). If that's the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".`))}var Y6=class extends Error{constructor(t,e,r){super(`Possible EventEmitter memory leak detected. ${r} ${e.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=t,this.type=e,this.count=r,this.name="MaxListenersExceededWarning"}},HN=class{static listenerCount(t,e){return t.listenerCount(e)}constructor(){this.events=new Map,this.maxListeners=HN.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(t,e,r){this.emit(t,e,r)}_getListeners(t){return Array.prototype.concat.apply([],this.events.get(t))||[]}_removeListener(t,e){let r=t.indexOf(e);return r>-1&&t.splice(r,1),[]}_wrapOnceListener(t,e){let r=(...n)=>(this.removeListener(t,r),e.apply(this,n));return Object.defineProperty(r,"name",{value:e.name}),r}setMaxListeners(t){return this.maxListeners=t,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(t,...e){let r=this._getListeners(t);return r.forEach(n=>{n.apply(this,e)}),r.length>0}addListener(t,e){this._emitInternalEvent("newListener",t,e);let r=this._getListeners(t).concat(e);if(this.events.set(t,r),this.maxListeners>0&&this.listenerCount(t)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;let n=new Y6(this,t,this.listenerCount(t));console.warn(n)}return this}on(t,e){return this.addListener(t,e)}once(t,e){return this.addListener(t,this._wrapOnceListener(t,e))}prependListener(t,e){let r=this._getListeners(t);if(r.length>0){let n=[e].concat(r);this.events.set(t,n)}else this.events.set(t,r.concat(e));return this}prependOnceListener(t,e){return this.prependListener(t,this._wrapOnceListener(t,e))}removeListener(t,e){let r=this._getListeners(t);return r.length>0&&(this._removeListener(r,e),this.events.set(t,r),this._emitInternalEvent("removeListener",t,e)),this}off(t,e){return this.removeListener(t,e)}removeAllListeners(t){return t?this.events.delete(t):this.events.clear(),this}listeners(t){return Array.from(this._getListeners(t))}listenerCount(t){return this._getListeners(t).length}rawListeners(t){return this.listeners(t)}},fc=HN;fc.defaultMaxListeners=10;function BN(t,e){let r=t.emit;if(r._isPiped)return;let n=function(o,...s){return e.emit(o,...s),r.call(this,o,...s)};n._isPiped=!0,t.emit=n}function zN(t){let e=[...t];return Object.freeze(e),e}var Af=class{subscriptions=[];async dispose(){await Promise.all(this.subscriptions.map(e=>e()))}};var yx=class{constructor(e){this.initialHandlers=e,this.handlers=[...e]}handlers;prepend(e){this.handlers.unshift(...e)}reset(e){this.handlers=e.length>0?[...e]:[...this.initialHandlers]}currentHandlers(){return this.handlers}},kf=class extends Af{handlersController;emitter;publicEmitter;events;constructor(...e){super(),jr(this.validateHandlers(e),xn.formatMessage("Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?")),this.handlersController=new yx(e),this.emitter=new fc,this.publicEmitter=new fc,BN(this.emitter,this.publicEmitter),this.events=this.createLifeCycleEvents(),this.subscriptions.push(()=>{this.emitter.removeAllListeners(),this.publicEmitter.removeAllListeners()})}validateHandlers(e){return e.every(r=>!Array.isArray(r))}use(...e){jr(this.validateHandlers(e),xn.formatMessage('Failed to call "use()" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?')),this.handlersController.prepend(e)}restoreHandlers(){this.handlersController.currentHandlers().forEach(e=>{e.isUsed=!1})}resetHandlers(...e){this.handlersController.reset(e)}listHandlers(){return zN(this.handlersController.currentHandlers())}createLifeCycleEvents(){return{on:(...e)=>this.publicEmitter.on(...e),removeListener:(...e)=>this.publicEmitter.removeListener(...e),removeAllListeners:(...e)=>this.publicEmitter.removeAllListeners(...e)}}};var J6=/[\/\\]msw[\/\\]src[\/\\](.+)/,e8=/(node_modules)?[\/\\]lib[\/\\](core|browser|node|native|iife)[\/\\]|^[^\/\\]*$/;function VN(t){let e=t.stack;if(!e)return;let n=e.split(`
`).slice(1).find(o=>!(J6.test(o)||e8.test(o)));return n?n.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,""):void 0}function WN(t){return t?typeof t[Symbol.iterator]=="function":!1}var Nf=class t{static cache=new WeakMap;info;isUsed;resolver;resolverGenerator;resolverGeneratorResult;options;constructor(e){this.resolver=e.resolver,this.options=e.options;let r=VN(new Error);this.info={...e.info,callFrame:r},this.isUsed=!1}async parse(e){return{}}async test(e){let r=await this.parse({request:e.request,resolutionContext:e.resolutionContext});return this.predicate({request:e.request,parsedResult:r,resolutionContext:e.resolutionContext})}extendResolverArgs(e){return{}}cloneRequestOrGetFromCache(e){let r=t.cache.get(e);if(typeof r<"u")return r;let n=e.clone();return t.cache.set(e,n),n}async run(e){if(this.isUsed&&this.options?.once)return null;let r=this.cloneRequestOrGetFromCache(e.request),n=await this.parse({request:e.request,resolutionContext:e.resolutionContext});if(!this.predicate({request:e.request,parsedResult:n,resolutionContext:e.resolutionContext})||this.isUsed&&this.options?.once)return null;this.isUsed=!0;let o=this.wrapResolver(this.resolver),s=this.extendResolverArgs({request:e.request,parsedResult:n}),c=await o({...s,requestId:e.requestId,request:e.request}).catch(l=>{if(l instanceof Response)return l;throw l});return this.createExecutionResult({request:r,requestId:e.requestId,response:c,parsedResult:n})}wrapResolver(e){return async r=>{let n=this.resolverGenerator||await e(r);if(WN(n)){this.isUsed=!1;let{value:i,done:o}=n[Symbol.iterator]().next(),s=await i;return o&&(this.isUsed=!0),!s&&o?(jr(this.resolverGeneratorResult,"Failed to returned a previously stored generator response: the value is not a valid Response."),this.resolverGeneratorResult.clone()):(this.resolverGenerator||(this.resolverGenerator=n),s&&(this.resolverGeneratorResult=s?.clone()),s)}return n}}createExecutionResult(e){return{handler:this,request:e.request,requestId:e.requestId,response:e.response,parsedResult:e.parsedResult}}};function GN(t,e){return t.toLowerCase()===e.toLowerCase()}function KN(t){return t<300?"#69AB32":t<400?"#F0BB4B":"#E95F5D"}function XN(){let t=new Date;return[t.getHours(),t.getMinutes(),t.getSeconds()].map(String).map(e=>e.slice(0,2)).map(e=>e.padStart(2,"0")).join(":")}async function QN(t){let r=await t.clone().text();return{url:new URL(t.url),method:t.method,headers:Object.fromEntries(t.headers.entries()),body:r}}var t8=Object.create,ZN=Object.defineProperty,r8=Object.getOwnPropertyDescriptor,YN=Object.getOwnPropertyNames,n8=Object.getPrototypeOf,i8=Object.prototype.hasOwnProperty,JN=(t,e)=>function(){return e||(0,t[YN(t)[0]])((e={exports:{}}).exports,e),e.exports},o8=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of YN(e))!i8.call(t,i)&&i!==r&&ZN(t,i,{get:()=>e[i],enumerable:!(n=r8(e,i))||n.enumerable});return t},s8=(t,e,r)=>(r=t!=null?t8(n8(t)):{},o8(e||!t||!t.__esModule?ZN(r,"default",{value:t,enumerable:!0}):r,t)),a8=JN({"node_modules/statuses/codes.json"(t,e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}}),c8=JN({"node_modules/statuses/index.js"(t,e){"use strict";var r=a8();e.exports=a,a.message=r,a.code=n(r),a.codes=i(r),a.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},a.empty={204:!0,205:!0,304:!0},a.retry={502:!0,503:!0,504:!0};function n(c){var u={};return Object.keys(c).forEach(function(d){var p=c[d],m=Number(d);u[p.toLowerCase()]=m}),u}function i(c){return Object.keys(c).map(function(l){return Number(l)})}function o(c){var u=c.toLowerCase();if(!Object.prototype.hasOwnProperty.call(a.code,u))throw new Error('invalid status message: "'+c+'"');return a.code[u]}function s(c){if(!Object.prototype.hasOwnProperty.call(a.message,c))throw new Error("invalid status code: "+c);return a.message[c]}function a(c){if(typeof c=="number")return s(c);if(typeof c!="string")throw new TypeError("code must be a number or string");var u=parseInt(c,10);return isNaN(u)?o(c):s(u)}}}),u8=s8(c8(),1),qf=u8.default;var{message:l8}=qf;async function eq(t){let e=t.clone(),r=await e.text(),n=e.status||200,i=e.statusText||l8[n]||"OK";return{status:n,statusText:i,headers:Object.fromEntries(e.headers.entries()),body:r}}var mq=je(iq(),1);function Mf(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return!0;if(typeof process<"u"){let t=process.type;return t==="renderer"||t==="worker"?!1:!!(process.versions&&process.versions.node)}return!1}var v8=Object.defineProperty,y8=(t,e)=>{for(var r in e)v8(t,r,{get:e[r],enumerable:!0})},wx={};y8(wx,{blue:()=>_8,gray:()=>Cx,green:()=>w8,red:()=>x8,yellow:()=>b8});function b8(t){return`\x1B[33m${t}\x1B[0m`}function _8(t){return`\x1B[34m${t}\x1B[0m`}function Cx(t){return`\x1B[90m${t}\x1B[0m`}function x8(t){return`\x1B[31m${t}\x1B[0m`}function w8(t){return`\x1B[32m${t}\x1B[0m`}var Lf=Mf(),wn=class{constructor(t){this.name=t,this.prefix=`[${this.name}]`;let e=oq("DEBUG"),r=oq("LOG_LEVEL");e==="1"||e==="true"||typeof e<"u"&&this.name.startsWith(e)?(this.debug=il(r,"debug")?Hi:this.debug,this.info=il(r,"info")?Hi:this.info,this.success=il(r,"success")?Hi:this.success,this.warning=il(r,"warning")?Hi:this.warning,this.error=il(r,"error")?Hi:this.error):(this.info=Hi,this.success=Hi,this.warning=Hi,this.error=Hi,this.only=Hi)}prefix;extend(t){return new wn(`${this.name}:${t}`)}debug(t,...e){this.logEntry({level:"debug",message:Cx(t),positionals:e,prefix:this.prefix,colors:{prefix:"gray"}})}info(t,...e){this.logEntry({level:"info",message:t,positionals:e,prefix:this.prefix,colors:{prefix:"blue"}});let r=new C8;return(n,...i)=>{r.measure(),this.logEntry({level:"info",message:`${n} ${Cx(`${r.deltaTime}ms`)}`,positionals:i,prefix:this.prefix,colors:{prefix:"blue"}})}}success(t,...e){this.logEntry({level:"info",message:t,positionals:e,prefix:`\u2714 ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(t,...e){this.logEntry({level:"warning",message:t,positionals:e,prefix:`\u26A0 ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(t,...e){this.logEntry({level:"error",message:t,positionals:e,prefix:`\u2716 ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(t){t()}createEntry(t,e){return{timestamp:new Date,level:t,message:e}}logEntry(t){let{level:e,message:r,prefix:n,colors:i,positionals:o=[]}=t,s=this.createEntry(e,r),a=i?.timestamp||"gray",c=i?.prefix||"gray",u={timestamp:wx[a],prefix:wx[c]};this.getWriter(e)([u.timestamp(this.formatTimestamp(s.timestamp))].concat(n!=null?u.prefix(n):[]).concat(sq(r)).join(" "),...o.map(sq))}formatTimestamp(t){return`${t.toLocaleTimeString("en-GB")}:${t.getMilliseconds()}`}getWriter(t){switch(t){case"debug":case"success":case"info":return E8;case"warning":return S8;case"error":return T8}}},C8=class{startTime;endTime;deltaTime;constructor(){this.startTime=performance.now()}measure(){this.endTime=performance.now();let t=this.endTime-this.startTime;this.deltaTime=t.toFixed(2)}},Hi=()=>{};function E8(t,...e){if(Lf){process.stdout.write(Vo(t,...e)+`
`);return}console.log(t,...e)}function S8(t,...e){if(Lf){process.stderr.write(Vo(t,...e)+`
`);return}console.warn(t,...e)}function T8(t,...e){if(Lf){process.stderr.write(Vo(t,...e)+`
`);return}console.error(t,...e)}function oq(t){return Lf?process.env[t]:globalThis[t]?.toString()}function il(t,e){return t!==void 0&&t!==e}function sq(t){return typeof t>"u"?"undefined":t===null?"null":typeof t=="string"?t:typeof t=="object"?JSON.stringify(t):t.toString()}var hc="x-interceptors-internal-request-id";function Ex(t){return globalThis[t]||void 0}function R8(t,e){globalThis[t]=e}function aq(t){delete globalThis[t]}var ol=(t=>(t.INACTIVE="INACTIVE",t.APPLYING="APPLYING",t.APPLIED="APPLIED",t.DISPOSING="DISPOSING",t.DISPOSED="DISPOSED",t))(ol||{}),co=class{constructor(t){this.symbol=t,this.readyState="INACTIVE",this.emitter=new fc,this.subscriptions=[],this.logger=new wn(t.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){let t=this.logger.extend("apply");if(t.info("applying the interceptor..."),this.readyState==="APPLIED"){t.info("intercepted already applied!");return}if(!this.checkEnvironment()){t.info("the interceptor cannot be applied in this environment!");return}this.readyState="APPLYING";let r=this.getInstance();if(r){t.info("found a running instance, reusing..."),this.on=(n,i)=>(t.info('proxying the "%s" listener',n),r.emitter.addListener(n,i),this.subscriptions.push(()=>{r.emitter.removeListener(n,i),t.info('removed proxied "%s" listener!',n)}),this),this.readyState="APPLIED";return}t.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(t,e){let r=this.logger.extend("on");return this.readyState==="DISPOSING"||this.readyState==="DISPOSED"?(r.info("cannot listen to events, already disposed!"),this):(r.info('adding "%s" event listener:',t,e),this.emitter.on(t,e),this)}once(t,e){return this.emitter.once(t,e),this}off(t,e){return this.emitter.off(t,e),this}removeAllListeners(t){return this.emitter.removeAllListeners(t),this}dispose(){let t=this.logger.extend("dispose");if(this.readyState==="DISPOSED"){t.info("cannot dispose, already disposed!");return}if(t.info("disposing the interceptor..."),this.readyState="DISPOSING",!this.getInstance()){t.info("no interceptors running, skipping dispose...");return}if(this.clearInstance(),t.info("global symbol deleted:",Ex(this.symbol)),this.subscriptions.length>0){t.info("disposing of %d subscriptions...",this.subscriptions.length);for(let e of this.subscriptions)e();this.subscriptions=[],t.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),t.info("destroyed the listener!"),this.readyState="DISPOSED"}getInstance(){var t;let e=Ex(this.symbol);return this.logger.info("retrieved global instance:",(t=e?.constructor)==null?void 0:t.name),e}setInstance(){R8(this.symbol,this),this.logger.info("set global instance!",this.symbol.description)}clearInstance(){aq(this.symbol),this.logger.info("cleared global instance!",this.symbol.description)}};function $s(){return Math.random().toString(16).slice(2)}var sl=class extends co{constructor(t){sl.symbol=Symbol(t.name),super(sl.symbol),this.interceptors=t.interceptors}setup(){let t=this.logger.extend("setup");t.info("applying all %d interceptors...",this.interceptors.length);for(let e of this.interceptors)t.info('applying "%s" interceptor...',e.constructor.name),e.apply(),t.info("adding interceptor dispose subscription"),this.subscriptions.push(()=>e.dispose())}on(t,e){for(let r of this.interceptors)r.on(t,e);return this}once(t,e){for(let r of this.interceptors)r.once(t,e);return this}off(t,e){for(let r of this.interceptors)r.off(t,e);return this}removeAllListeners(t){for(let e of this.interceptors)e.removeAllListeners(t);return this}};var P8=new TextEncoder;function Sx(t){return P8.encode(t)}function Tx(t,e){return new TextDecoder(e).decode(t)}function cq(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}var D8=new Set([101,103,204,205,304]);function al(t){return D8.has(t)}var uo=Symbol("isPatchedModule");function uq(t,e=!0){return[e&&t.origin,t.pathname].filter(Boolean).join("")}var I8=/[\?|#].*$/g;function lq(t){return new URL(`/${t}`,"http://localhost").searchParams}function jf(t){return t.replace(I8,"")}function dq(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}function pq(t,e){if(dq(t)||t.startsWith("*"))return t;let r=e||typeof document<"u"&&document.baseURI;return r?decodeURI(new URL(encodeURI(t),r).href):t}function fq(t,e){if(t instanceof RegExp)return t;let r=pq(t,e);return jf(r)}function O8(t){return t.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(e,r,n)=>{let i="(.*)";return r?r.startsWith(":")?`${r}${n}`:`${r}${i}`:i}).replace(/([^\/])(:)(?=\d+)/,"$1\\$2").replace(/^([^\/]+)(:)(?=\/\/)/,"$1\\$2")}function hq(t,e,r){let n=fq(e,r),i=typeof n=="string"?O8(n):n,o=uq(t),s=(0,mq.match)(i,{decode:decodeURIComponent})(o),a=s&&s.params||{};return{matches:s!==!1,params:a}}function Ff(t){if(typeof location>"u")return t.toString();let e=t instanceof URL?t:new URL(t);return e.origin===location.origin?e.pathname:e.origin+e.pathname}var A8=Object.create,gq=Object.defineProperty,k8=Object.getOwnPropertyDescriptor,vq=Object.getOwnPropertyNames,N8=Object.getPrototypeOf,q8=Object.prototype.hasOwnProperty,M8=(t,e)=>function(){return e||(0,t[vq(t)[0]])((e={exports:{}}).exports,e),e.exports},L8=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vq(e))!q8.call(t,i)&&i!==r&&gq(t,i,{get:()=>e[i],enumerable:!(n=k8(e,i))||n.enumerable});return t},j8=(t,e,r)=>(r=t!=null?A8(N8(t)):{},L8(e||!t||!t.__esModule?gq(r,"default",{value:t,enumerable:!0}):r,t)),F8=M8({"node_modules/cookie/index.js"(t){"use strict";t.parse=n,t.serialize=i;var e=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function n(u,l){if(typeof u!="string")throw new TypeError("argument str must be a string");for(var d={},p=l||{},m=p.decode||o,f=0;f<u.length;){var g=u.indexOf("=",f);if(g===-1)break;var y=u.indexOf(";",f);if(y===-1)y=u.length;else if(y<g){f=u.lastIndexOf(";",g-1)+1;continue}var b=u.slice(f,g).trim();if(d[b]===void 0){var x=u.slice(g+1,y).trim();x.charCodeAt(0)===34&&(x=x.slice(1,-1)),d[b]=c(x,m)}f=y+1}return d}function i(u,l,d){var p=d||{},m=p.encode||s;if(typeof m!="function")throw new TypeError("option encode is invalid");if(!r.test(u))throw new TypeError("argument name is invalid");var f=m(l);if(f&&!r.test(f))throw new TypeError("argument val is invalid");var g=u+"="+f;if(p.maxAge!=null){var y=p.maxAge-0;if(isNaN(y)||!isFinite(y))throw new TypeError("option maxAge is invalid");g+="; Max-Age="+Math.floor(y)}if(p.domain){if(!r.test(p.domain))throw new TypeError("option domain is invalid");g+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError("option path is invalid");g+="; Path="+p.path}if(p.expires){var b=p.expires;if(!a(b)||isNaN(b.valueOf()))throw new TypeError("option expires is invalid");g+="; Expires="+b.toUTCString()}if(p.httpOnly&&(g+="; HttpOnly"),p.secure&&(g+="; Secure"),p.priority){var x=typeof p.priority=="string"?p.priority.toLowerCase():p.priority;switch(x){case"low":g+="; Priority=Low";break;case"medium":g+="; Priority=Medium";break;case"high":g+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(p.sameSite){var w=typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite;switch(w){case!0:g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"strict":g+="; SameSite=Strict";break;case"none":g+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return g}function o(u){return u.indexOf("%")!==-1?decodeURIComponent(u):u}function s(u){return encodeURIComponent(u)}function a(u){return e.call(u)==="[object Date]"||u instanceof Date}function c(u,l){try{return l(u)}catch{return u}}}}),U8=j8(F8(),1),Uf=U8.default;var $8=Object.create,xq=Object.defineProperty,H8=Object.getOwnPropertyDescriptor,wq=Object.getOwnPropertyNames,B8=Object.getPrototypeOf,z8=Object.prototype.hasOwnProperty,V8=(t,e)=>function(){return e||(0,t[wq(t)[0]])((e={exports:{}}).exports,e),e.exports},W8=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wq(e))!z8.call(t,i)&&i!==r&&xq(t,i,{get:()=>e[i],enumerable:!(n=H8(e,i))||n.enumerable});return t},G8=(t,e,r)=>(r=t!=null?$8(B8(t)):{},W8(e||!t||!t.__esModule?xq(r,"default",{value:t,enumerable:!0}):r,t)),K8=V8({"node_modules/set-cookie-parser/lib/set-cookie.js"(t,e){"use strict";var r={decodeValues:!0,map:!1,silent:!1};function n(c){return typeof c=="string"&&!!c.trim()}function i(c,u){var l=c.split(";").filter(n),d=l.shift(),p=o(d),m=p.name,f=p.value;u=u?Object.assign({},r,u):r;try{f=u.decodeValues?decodeURIComponent(f):f}catch(y){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+f+"'. Set options.decodeValues to false to disable this feature.",y)}var g={name:m,value:f};return l.forEach(function(y){var b=y.split("="),x=b.shift().trimLeft().toLowerCase(),w=b.join("=");x==="expires"?g.expires=new Date(w):x==="max-age"?g.maxAge=parseInt(w,10):x==="secure"?g.secure=!0:x==="httponly"?g.httpOnly=!0:x==="samesite"?g.sameSite=w:g[x]=w}),g}function o(c){var u="",l="",d=c.split("=");return d.length>1?(u=d.shift(),l=d.join("=")):l=c,{name:u,value:l}}function s(c,u){if(u=u?Object.assign({},r,u):r,!c)return u.map?{}:[];if(c.headers)if(typeof c.headers.getSetCookie=="function")c=c.headers.getSetCookie();else if(c.headers["set-cookie"])c=c.headers["set-cookie"];else{var l=c.headers[Object.keys(c.headers).find(function(p){return p.toLowerCase()==="set-cookie"})];!l&&c.headers.cookie&&!u.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),c=l}if(Array.isArray(c)||(c=[c]),u=u?Object.assign({},r,u):r,u.map){var d={};return c.filter(n).reduce(function(p,m){var f=i(m,u);return p[f.name]=f,p},d)}else return c.filter(n).map(function(p){return i(p,u)})}function a(c){if(Array.isArray(c))return c;if(typeof c!="string")return[];var u=[],l=0,d,p,m,f,g;function y(){for(;l<c.length&&/\s/.test(c.charAt(l));)l+=1;return l<c.length}function b(){return p=c.charAt(l),p!=="="&&p!==";"&&p!==","}for(;l<c.length;){for(d=l,g=!1;y();)if(p=c.charAt(l),p===","){for(m=l,l+=1,y(),f=l;l<c.length&&b();)l+=1;l<c.length&&c.charAt(l)==="="?(g=!0,l=f,u.push(c.substring(d,m)),d=l):l=m+1}else l+=1;(!g||l>=c.length)&&u.push(c.substring(d,c.length))}return u}e.exports=s,e.exports.parse=s,e.exports.parseString=i,e.exports.splitCookiesString=a}}),yq=G8(K8()),gc="MSW_COOKIE_STORE";function bq(){try{if(localStorage==null)return!1;let t=gc+"_test";return localStorage.setItem(t,"test"),localStorage.getItem(t),localStorage.removeItem(t),!0}catch{return!1}}function _q(t,e){try{return t[e],!0}catch{return!1}}var X8=class{constructor(){this.store=new Map}add(t,e){if(_q(t,"credentials")&&t.credentials==="omit")return;let r=new URL(t.url),n=e.headers.get("set-cookie");if(!n)return;let i=Date.now(),o=(0,yq.parse)(n).map(({maxAge:a,...c})=>({...c,expires:a===void 0?c.expires:new Date(i+a*1e3),maxAge:a})),s=this.store.get(r.origin)||new Map;o.forEach(a=>{this.store.set(r.origin,s.set(a.name,a))})}get(t){this.deleteExpiredCookies();let e=new URL(t.url),r=this.store.get(e.origin)||new Map;if(!_q(t,"credentials"))return r;switch(t.credentials){case"include":return typeof document>"u"||(0,yq.parse)(document.cookie).forEach(i=>{r.set(i.name,i)}),r;case"same-origin":return r;default:return new Map}}getAll(){return this.deleteExpiredCookies(),this.store}deleteAll(t){let e=new URL(t.url);this.store.delete(e.origin)}clear(){this.store.clear()}hydrate(){if(!bq())return;let t=localStorage.getItem(gc);if(t)try{JSON.parse(t).forEach(([r,n])=>{this.store.set(r,new Map(n.map(([i,{expires:o,...s}])=>[i,o===void 0?s:{...s,expires:new Date(o)}])))})}catch(e){console.warn(`
[virtual-cookie] Failed to parse a stored cookie from the localStorage (key "${gc}").

Stored value:
${localStorage.getItem(gc)}

Thrown exception:
${e}

Invalid value has been removed from localStorage to prevent subsequent failed parsing attempts.`),localStorage.removeItem(gc)}}persist(){if(!bq())return;let t=Array.from(this.store.entries()).map(([e,r])=>[e,Array.from(r.entries())]);localStorage.setItem(gc,JSON.stringify(t))}deleteExpiredCookies(){let t=Date.now();this.store.forEach((e,r)=>{e.forEach(({expires:n,name:i})=>{n!==void 0&&n.getTime()<=t&&e.delete(i)}),e.size===0&&this.store.delete(r)})}},vc=new X8;function Cq(){return Uf.parse(document.cookie)}function Q8(t){if(typeof document>"u"||typeof location>"u")return{};switch(t.credentials){case"same-origin":{let e=new URL(t.url);return location.origin===e.origin?Cq():{}}case"include":return Cq();default:return{}}}function Eq(t){let e=t.headers.get("cookie"),r=e?Uf.parse(e):{};vc.hydrate();let n=Array.from(vc.get(t)?.entries()).reduce((s,[a,{value:c}])=>Object.assign(s,{[a.trim()]:c}),{}),o={...Q8(t),...n};for(let[s,a]of Object.entries(o))t.headers.append("cookie",Uf.serialize(s,a));return{...o,...r}}var lo=(t=>(t.HEAD="HEAD",t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.OPTIONS="OPTIONS",t.DELETE="DELETE",t))(lo||{}),$f=class extends Nf{constructor(e,r,n,i){super({info:{header:`${e} ${r}`,path:r,method:e},resolver:n,options:i}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){let{method:e,path:r}=this.info;if(r instanceof RegExp||jf(r)===r)return;let i=lq(r),o=[];i.forEach((s,a)=>{o.push(a)}),xn.warn(`Found a redundant usage of query parameters in the request handler URL for "${e} ${r}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/recipes/query-parameters`)}async parse(e){let r=new URL(e.request.url),n=hq(r,this.info.path,e.resolutionContext?.baseUrl),i=Eq(e.request);return{match:n,cookies:i}}predicate(e){let r=this.matchMethod(e.request.method),n=e.parsedResult.match.matches;return r&&n}matchMethod(e){return this.info.method instanceof RegExp?this.info.method.test(e):GN(this.info.method,e)}extendResolverArgs(e){return{params:e.parsedResult.match?.params||{},cookies:e.parsedResult.cookies}}async log(e){let r=Ff(e.request.url),n=await QN(e.request),i=await eq(e.response),o=KN(i.status);console.groupCollapsed(xn.formatMessage(`${XN()} ${e.request.method} ${r} (%c${i.status} ${i.statusText}%c)`),`color:${o}`,"color:inherit"),console.log("Request",n),console.log("Handler:",this),console.log("Response",i),console.groupEnd()}};function Wo(t){return(e,r,n={})=>new $f(t,e,r,n)}var Rx={all:Wo(/.+/),head:Wo(lo.HEAD),get:Wo(lo.GET),post:Wo(lo.POST),put:Wo(lo.PUT),delete:Wo(lo.DELETE),patch:Wo(lo.PATCH),options:Wo(lo.OPTIONS)};var Z8=Object.create,Oq=Object.defineProperty,Y8=Object.getOwnPropertyDescriptor,Aq=Object.getOwnPropertyNames,J8=Object.getPrototypeOf,eX=Object.prototype.hasOwnProperty,tX=(t,e)=>function(){return e||(0,t[Aq(t)[0]])((e={exports:{}}).exports,e),e.exports},rX=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Aq(e))!eX.call(t,i)&&i!==r&&Oq(t,i,{get:()=>e[i],enumerable:!(n=Y8(e,i))||n.enumerable});return t},nX=(t,e,r)=>(r=t!=null?Z8(J8(t)):{},rX(e||!t||!t.__esModule?Oq(r,"default",{value:t,enumerable:!0}):r,t)),iX=tX({"node_modules/set-cookie-parser/lib/set-cookie.js"(t,e){"use strict";var r={decodeValues:!0,map:!1,silent:!1};function n(c){return typeof c=="string"&&!!c.trim()}function i(c,u){var l=c.split(";").filter(n),d=l.shift(),p=o(d),m=p.name,f=p.value;u=u?Object.assign({},r,u):r;try{f=u.decodeValues?decodeURIComponent(f):f}catch(y){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+f+"'. Set options.decodeValues to false to disable this feature.",y)}var g={name:m,value:f};return l.forEach(function(y){var b=y.split("="),x=b.shift().trimLeft().toLowerCase(),w=b.join("=");x==="expires"?g.expires=new Date(w):x==="max-age"?g.maxAge=parseInt(w,10):x==="secure"?g.secure=!0:x==="httponly"?g.httpOnly=!0:x==="samesite"?g.sameSite=w:g[x]=w}),g}function o(c){var u="",l="",d=c.split("=");return d.length>1?(u=d.shift(),l=d.join("=")):l=c,{name:u,value:l}}function s(c,u){if(u=u?Object.assign({},r,u):r,!c)return u.map?{}:[];if(c.headers)if(typeof c.headers.getSetCookie=="function")c=c.headers.getSetCookie();else if(c.headers["set-cookie"])c=c.headers["set-cookie"];else{var l=c.headers[Object.keys(c.headers).find(function(p){return p.toLowerCase()==="set-cookie"})];!l&&c.headers.cookie&&!u.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),c=l}if(Array.isArray(c)||(c=[c]),u=u?Object.assign({},r,u):r,u.map){var d={};return c.filter(n).reduce(function(p,m){var f=i(m,u);return p[f.name]=f,p},d)}else return c.filter(n).map(function(p){return i(p,u)})}function a(c){if(Array.isArray(c))return c;if(typeof c!="string")return[];var u=[],l=0,d,p,m,f,g;function y(){for(;l<c.length&&/\s/.test(c.charAt(l));)l+=1;return l<c.length}function b(){return p=c.charAt(l),p!=="="&&p!==";"&&p!==","}for(;l<c.length;){for(d=l,g=!1;y();)if(p=c.charAt(l),p===","){for(m=l,l+=1,y(),f=l;l<c.length&&b();)l+=1;l<c.length&&c.charAt(l)==="="?(g=!0,l=f,u.push(c.substring(d,m)),d=l):l=m+1}else l+=1;(!g||l>=c.length)&&u.push(c.substring(d,c.length))}return u}e.exports=s,e.exports.parse=s,e.exports.parseString=i,e.exports.splitCookiesString=a}}),oX=nX(iX()),sX=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function cl(t){if(sX.test(t)||t.trim()==="")throw new TypeError("Invalid character in header field name");return t.trim().toLowerCase()}var Sq=[`
`,"\r","	"," "],aX=new RegExp(`(^[${Sq.join("")}]|$[${Sq.join("")}])`,"g");function Px(t){return t.replace(aX,"")}function ul(t){if(typeof t!="string"||t.length===0)return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r>127||!cX(r))return!1}return!0}function cX(t){return![127,32,"(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"].includes(t)}function Tq(t){if(typeof t!="string"||t.trim()!==t)return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r===0||r===10||r===13)return!1}return!0}var yc=Symbol("normalizedHeaders"),Dx=Symbol("rawHeaderNames"),Rq=", ",Pq,Dq,Iq,kq=class Nq{constructor(e){this[Pq]={},this[Dq]=new Map,this[Iq]="Headers",["Headers","HeadersPolyfill"].includes(e?.constructor.name)||e instanceof Nq||typeof globalThis.Headers<"u"&&e instanceof globalThis.Headers?e.forEach((n,i)=>{this.append(i,n)},this):Array.isArray(e)?e.forEach(([r,n])=>{this.append(r,Array.isArray(n)?n.join(Rq):n)}):e&&Object.getOwnPropertyNames(e).forEach(r=>{let n=e[r];this.append(r,Array.isArray(n)?n.join(Rq):n)})}[(Pq=yc,Dq=Dx,Iq=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(let[e]of this.entries())yield e}*values(){for(let[,e]of this.entries())yield e}*entries(){let e=Object.keys(this[yc]).sort((r,n)=>r.localeCompare(n));for(let r of e)if(r==="set-cookie")for(let n of this.getSetCookie())yield[r,n];else yield[r,this.get(r)]}has(e){if(!ul(e))throw new TypeError(`Invalid header name "${e}"`);return this[yc].hasOwnProperty(cl(e))}get(e){if(!ul(e))throw TypeError(`Invalid header name "${e}"`);return this[yc][cl(e)]??null}set(e,r){if(!ul(e)||!Tq(r))return;let n=cl(e),i=Px(r);this[yc][n]=Px(i),this[Dx].set(n,e)}append(e,r){if(!ul(e)||!Tq(r))return;let n=cl(e),i=Px(r),o=this.has(n)?`${this.get(n)}, ${i}`:i;this.set(e,o)}delete(e){if(!ul(e)||!this.has(e))return;let r=cl(e);delete this[yc][r],this[Dx].delete(r)}forEach(e,r){for(let[n,i]of this.entries())e.call(r,i,n,this)}getSetCookie(){let e=this.get("set-cookie");return e===null?[]:e===""?[""]:(0,oX.splitCookiesString)(e)}};var Go=async t=>{try{return{error:null,data:await t().catch(r=>{throw r})}}catch(e){return{error:e,data:null}}};var qq=async({request:t,requestId:e,handlers:r,resolutionContext:n})=>{let i=null,o=null;for(let s of r)if(o=await s.run({request:t,requestId:e,resolutionContext:n}),o!==null&&(i=s),o?.response)break;return i?{handler:i,parsedResult:o?.parsedResult,response:o?.response}:null};async function Mq(t,e="warn"){let r=new URL(t.url),n=Ff(r),i=`intercepted a request without a matching request handler:

  \u2022 ${t.method} ${n}

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/getting-started/mocks`;function o(s){switch(s){case"error":throw xn.error("Error: %s",i),new Error(xn.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":{xn.warn("Warning: %s",i);break}case"bypass":break;default:throw new Error(xn.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',s))}}if(typeof e=="function"){e(t,{warning:o.bind(null,"warn"),error:o.bind(null,"error")});return}r.protocol!=="file:"&&o(e)}function Lq(t,e){vc.add({...t,url:t.url.toString()},e),vc.persist()}async function jq(t,e,r,n,i,o){if(i.emit("request:start",{request:t,requestId:e}),t.headers.get("x-msw-intention")==="bypass"){i.emit("request:end",{request:t,requestId:e}),o?.onPassthroughResponse?.(t);return}let s=await Go(()=>qq({request:t,requestId:e,handlers:r,resolutionContext:o?.resolutionContext}));if(s.error)throw i.emit("unhandledException",{error:s.error,request:t,requestId:e}),s.error;if(!s.data){await Mq(t,n.onUnhandledRequest),i.emit("request:unhandled",{request:t,requestId:e}),i.emit("request:end",{request:t,requestId:e}),o?.onPassthroughResponse?.(t);return}let{response:a}=s.data;if(!a){i.emit("request:end",{request:t,requestId:e}),o?.onPassthroughResponse?.(t);return}if(a.status===302&&a.headers.get("x-msw-intention")==="passthrough"){i.emit("request:end",{request:t,requestId:e}),o?.onPassthroughResponse?.(t);return}Lq(t,a),i.emit("request:match",{request:t,requestId:e});let c=s.data,u=o?.transformResponse?.(a)||a;return o?.onMockedResponse?.(u,c),i.emit("request:end",{request:t,requestId:e}),u}var{message:uX}=qf;function Hs(t={}){let e=t?.status||200,r=t?.statusText||uX[e]||"",n=new Headers(t?.headers);return{...t,headers:n,status:e,statusText:r}}function Fq(t,e){if(e.type&&Object.defineProperty(t,"type",{value:e.type,enumerable:!0,writable:!1}),typeof document<"u"){let r=kq.prototype.getSetCookie.call(e.headers);for(let n of r)document.cookie=n}return t}var fi=class t extends Response{constructor(e,r){let n=Hs(r);super(e,n),Fq(this,n)}static text(e,r){let n=Hs(r);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/plain"),n.headers.has("Content-Length")||n.headers.set("Content-Length",e?new Blob([e]).size.toString():"0"),new t(e,n)}static json(e,r){let n=Hs(r);n.headers.has("Content-Type")||n.headers.set("Content-Type","application/json");let i=JSON.stringify(e);return n.headers.has("Content-Length")||n.headers.set("Content-Length",i?new Blob([i]).size.toString():"0"),new t(i,n)}static xml(e,r){let n=Hs(r);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/xml"),new t(e,n)}static arrayBuffer(e,r){let n=Hs(r);return e&&n.headers.set("Content-Length",e.byteLength.toString()),new t(e,n)}static formData(e,r){return new t(e,Hs(r))}};$N();var d1=require("node:async_hooks");function Hf(t,e){try{return t[e],!0}catch{return!1}}function lX(){let t=(e,r)=>{t.state="pending",t.resolve=n=>{if(t.state!=="pending")return;t.result=n;let i=o=>(t.state="fulfilled",o);return e(n instanceof Promise?n:Promise.resolve(n).then(i))},t.reject=n=>{if(t.state==="pending")return queueMicrotask(()=>{t.state="rejected"}),r(t.rejectionReason=n)}};return t}var bc=class extends Promise{#e;resolve;reject;constructor(t=null){let e=lX();super((r,n)=>{e(r,n),t?.(e.resolve,e.reject)}),this.#e=e,this.resolve=this.#e.resolve,this.reject=this.#e.reject}get state(){return this.#e.state}get rejectionReason(){return this.#e.rejectionReason}then(t,e){return this.#t(super.then(t,e))}catch(t){return this.#t(super.catch(t))}finally(t){return this.#t(super.finally(t))}#t(t){return Object.defineProperties(t,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})}};var dX=class{constructor(t){this.request=t,this.responsePromise=new bc}respondWith(t){jr(this.responsePromise.state==="pending",'Failed to respond to "%s %s" request: the "request" event has already been responded to.',this.request.method,this.request.url),this.responsePromise.resolve(t)}};function _c(t){let e=new dX(t);return Reflect.set(t,"respondWith",e.respondWith.bind(e)),{interactiveRequest:t,requestController:e}}async function xc(t,e,...r){let n=t.listeners(e);if(n.length!==0)for(let i of n)await i.apply(t,r)}var Wq=je(require("http"),1),Gq=je(require("https"),1),zf=require("http");var Kq=require("http"),Xq=require("stream"),Vf=require("http"),Wf=require("https"),Zq=require("url");var Yq=require("http");var Uq=new wn("utils getUrlByRequestOptions");function pX(...t){Uq.info("arguments",t);let e=new Array(3).fill(null).map((r,n)=>t[n]||r);return e.sort((r,n)=>typeof r=="function"?1:typeof n=="function"?-1:typeof r=="string"&&typeof n=="string"?e.indexOf(r)-e.indexOf(n):0),Uq.info("normalized args",e),e}var $q=new wn("http normalizeWriteArgs");function fX(t){$q.info("normalizing ClientRequest.write arguments...",t);let e=t[0],r=typeof t[1]=="string"?t[1]:void 0,n=typeof t[1]=="function"?t[1]:t[2],i=[e,r,n];return $q.info("successfully normalized ClientRequest.write arguments:",i),i}var mX=Symbol("isClone");function Hq(t){let e=t.pipe(new Xq.PassThrough);Bq(t,e);let r=Object.create(Kq.IncomingMessage.prototype);return hX(e).forEach(n=>{Bq(n,r)}),Object.setPrototypeOf(e,r),Object.defineProperty(e,mX,{enumerable:!0,value:!0}),e}function hX(t){let e=[],r=t;for(;r=Object.getPrototypeOf(r);)e.push(r);return e}function Bq(t,e){let r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let n of r){if(e.hasOwnProperty(n))continue;let i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}}function gX(t){let e=al(t.statusCode||200)?null:new ReadableStream({start(r){t.on("data",n=>r.enqueue(n)),t.on("end",()=>r.close())}});return new Response(e,{status:t.statusCode,statusText:t.statusMessage,headers:vX(t.headers)})}function vX(t){let e=new Headers;for(let r in t){let n=t[r];if(!(typeof n>"u")){if(Array.isArray(n)){n.forEach(i=>{e.append(r,i)});continue}e.set(r,n)}}return e}function yX(t){let e=new Headers,r=t.getHeaders();for(let i in r){let o=r[i];if(typeof o>"u")continue;let s=Array.prototype.concat([],o);for(let a of s)e.append(i,a.toString())}if(t.url.username||t.url.password){let i=`${t.url.username||""}:${t.url.password||""}`;e.set("Authorization",`Basic ${btoa(i)}`),t.url.username="",t.url.password=""}let n=t.method||"GET";return new Request(t.url,{method:n,headers:e,credentials:"same-origin",body:n==="HEAD"||n==="GET"?null:t.requestBuffer})}function zq(t,e){let n=Object.getOwnPropertySymbols(e).find(i=>i.description===t);if(n)return Reflect.get(e,n)}function Bf(t){return Object.prototype.toString.call(t)==="[object Object]"}function bX(t){let e=zq("headers list",t);if(!e)return;let r=zq("headers map",e);if(!r||!_X(r))return;let n=new Map;return r.forEach(({name:i,value:o})=>{n.set(i,o)}),n}function _X(t){return Array.from(t.values()).every(e=>Bf(e)&&"name"in e)}var Qq=class extends zf.ClientRequest{constructor([t,e,r],n){super(e,r),this.chunks=[],this.logger=n.logger.extend(`request ${e.method} ${t.href}`),this.logger.info("constructing ClientRequest using options:",{url:t,requestOptions:e,callback:r}),this.state=0,this.url=t,this.emitter=n.emitter,this.requestBuffer=null,this.response=new zf.IncomingMessage(this.socket)}writeRequestBodyChunk(t,e){if(t==null)return;this.requestBuffer==null&&(this.requestBuffer=Buffer.from([]));let r=Buffer.isBuffer(t)?t:Buffer.from(t,e);this.requestBuffer=Buffer.concat([this.requestBuffer,r])}write(...t){var e;let[r,n,i]=fX(t);return this.logger.info("write:",{chunk:r,encoding:n,callback:i}),this.chunks.push({chunk:r,encoding:n}),this.writeRequestBodyChunk(r,n),this.logger.info("chunk successfully stored!",(e=this.requestBuffer)==null?void 0:e.byteLength),!r||r.length===0?this.logger.info("written chunk is empty, skipping callback..."):i?.(),!0}end(...t){this.logger.info("end",t);let e=$s(),[r,n,i]=pX(...t);this.logger.info("normalized arguments:",{chunk:r,encoding:n,callback:i}),this.writeRequestBodyChunk(r,n||void 0),this.state=2;let o=yX(this),{interactiveRequest:s,requestController:a}=_c(o);return Object.defineProperty(o,"respondWith",{value:a.respondWith.bind(a)}),this.hasHeader(hc)?(this.removeHeader(hc),this.passthrough(r,n,i)):(this.emitter.once("request",({requestId:c})=>{c===e&&a.responsePromise.state==="pending"&&(this.logger.info("request has not been handled in listeners, executing fail-safe listener..."),a.responsePromise.resolve(void 0))}),Go(async()=>{this.logger.info('emitting the "request" event for %d listener(s)...',this.emitter.listenerCount("request")),this.state=3,await xc(this.emitter,"request",{request:s,requestId:e}),this.logger.info('all "request" listeners done!');let c=await a.responsePromise;return this.logger.info("event.respondWith called with:",c),c}).then(c=>{if(this.logger.info("the listeners promise awaited!"),this.state=4,!this.headersSent)for(let[l,d]of o.headers)this.setHeader(l,d);if(c.error)return this.logger.info("encountered resolver exception, aborting request...",c.error),this.destroyed=!0,this.emit("error",c.error),this.terminate(),this;let u=c.data;if(u){if(this.logger.info("received mocked response:",u.status,u.statusText),this.destroyed=!1,Hf(u,"type")&&u.type==="error")return this.logger.info("received network error response, aborting request..."),this.emit("error",new TypeError("Network error")),this.terminate(),this;let l=u.clone();return this.respondWith(u),this.logger.info(u.status,u.statusText,"(MOCKED)"),i?.(),this.logger.info('emitting the custom "response" event...'),this.emitter.emit("response",{response:l,isMockedResponse:!0,request:o,requestId:e}),this.logger.info("request (mock) is completed"),this}return this.logger.info("no mocked response received!"),this.once("response-internal",l=>{this.logger.info(l.statusCode,l.statusMessage),this.logger.info("original response headers:",l.headers),this.logger.info('emitting the custom "response" event...'),this.emitter.emit("response",{response:gX(l),isMockedResponse:!1,request:o,requestId:e})}),this.passthrough(r,n,i)}),this)}emit(t,...e){if(this.logger.info("emit: %s",t),t==="response"){this.logger.info('found "response" event, cloning the response...');try{let r=e[0],n=Hq(r),i=Hq(r);return this.emit("response-internal",i),this.logger.info('response successfully cloned, emitting "response" event...'),super.emit(t,n,...e.slice(1))}catch(r){return this.logger.info("error when cloning response:",r),super.emit(t,...e)}}if(t==="error"){let r=e[0],n=r.code||"";if(this.logger.info(`error:
`,r),Qq.suppressErrorCodes.includes(n)){if(this.state<4)return this.capturedError||(this.capturedError=r,this.logger.info("captured the first error:",this.capturedError)),!1;if(this.state===5&&this.responseType==="mock")return!1}}return super.emit(t,...e)}passthrough(t,e,r){if(this.state=5,this.responseType="passthrough",this.capturedError)return this.emit("error",this.capturedError),this;this.logger.info("writing request chunks...",this.chunks);for(let{chunk:n,encoding:i}of this.chunks)i?super.write(n,i):super.write(n);return this.once("error",n=>{this.logger.info("original request error:",n)}),this.once("abort",()=>{this.logger.info("original request aborted!")}),this.once("response-internal",n=>{this.logger.info(n.statusCode,n.statusMessage),this.logger.info("original response headers:",n.headers)}),this.logger.info("performing original request..."),super.end(...[t,e,r].filter(Boolean))}respondWith(t){this.logger.info("responding with a mocked response...",t),this.state=5,this.responseType="mock",Object.defineProperties(this,{writableFinished:{value:!0},writableEnded:{value:!0}}),this.emit("finish");let{status:e,statusText:r,headers:n,body:i}=t;this.response.statusCode=e,this.response.statusMessage=r;let o=bX(n)||n;o&&(this.response.headers={},o.forEach((c,u)=>{this.response.rawHeaders.push(u,c);let l=u.toLowerCase(),d=this.response.headers[l];this.response.headers[l]=d?Array.prototype.concat([],d,c):c})),this.logger.info("mocked response headers ready:",n),this.res=this.response,this.emit("response",this.response);let s=new bc,a=()=>{this.logger.info("finished response stream!"),this.response.push(null),this.response.complete=!0,s.resolve()};if(i){let c=i.getReader(),u=async()=>{let{done:l,value:d}=await c.read();if(l){a();return}return this.response.emit("data",d),u()};u()}else a();s.then(()=>{this.logger.info("finalizing response..."),this.response.emit("end"),this.terminate(),this.logger.info("request complete!")})}terminate(){var t;(t=this.agent)==null||t.destroy()}},kx=Qq;kx.suppressErrorCodes=["ENOTFOUND","ECONNREFUSED","ECONNRESET","EAI_AGAIN","ENETUNREACH","EHOSTUNREACH"];function Ax(t){let e={method:"GET",protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,path:`${t.pathname}${t.search||""}`};return t.port&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`),e}var Ii=new wn("utils getUrlByRequestOptions"),xX="/",wX="http:",CX="localhost",EX=443;function Jq(t){return t.agent instanceof Yq.Agent?t.agent:void 0}function SX(t){var e;if(t.protocol)return t.protocol;let r=Jq(t),n=r?.protocol;if(n)return n;let i=e1(t);return t.cert||i===EX?"https:":((e=t.uri)==null?void 0:e.protocol)||wX}function e1(t){if(t.port)return Number(t.port);if(t.hostname!=null){let[,r]=t.hostname.match(/:(\d+)$/)||[];if(r!=null)return Number(r)}let e=Jq(t);if(e?.options.port)return Number(e.options.port);if(e?.defaultPort)return Number(e.defaultPort)}function TX(t){let{hostname:e,host:r}=t;return e!=null?e.replace(/:\d+$/,""):r||CX}function RX(t){if(t.auth){let[e,r]=t.auth.split(":");return{username:e,password:r}}}function PX(t){return t.includes(":")&&!t.startsWith("[")&&!t.endsWith("]")}function DX(t,e){let r=typeof e<"u"?`:${e}`:"";return PX(t)?`[${t}]${r}`:typeof e>"u"?t:`${t}${r}`}function IX(t){if(Ii.info("request options",t),t.uri)return Ii.info('constructing url from explicitly provided "options.uri": %s',t.uri),new URL(t.uri.href);Ii.info("figuring out url from request options...");let e=SX(t);Ii.info("protocol",e);let r=TX(t);Ii.info("host",r);let n=e1(t);Ii.info("port",n);let i=DX(r,n);Ii.info("hostname",i);let o=t.path||xX;Ii.info("path",o);let s=RX(t);Ii.info("credentials",s);let a=s?`${s.username}:${s.password}@`:"";Ii.info("auth string:",a);let c=new URL(`${e}//${i}${o}`);return c.username=s?.username||"",c.password=s?.password||"",Ii.info("created url:",c),c}var ll=new wn("cloneObject");function Vq(t){var e;return ll.info("is plain object?",t),t==null||!((e=t.constructor)!=null&&e.name)?(ll.info("given object is undefined, not a plain object..."),!1):(ll.info("checking the object constructor:",t.constructor.name),t.constructor.name==="Object")}function t1(t){ll.info("cloning object:",t);let e=Object.entries(t).reduce((r,[n,i])=>(ll.info("analyzing key-value pair:",n,i),r[n]=Vq(i)?t1(i):i,r),{});return Vq(t)?e:Object.assign(Object.getPrototypeOf(t),e)}var nr=new wn("http normalizeClientRequestArgs");function Ix(t,e){if(typeof t[1]>"u"||typeof t[1]=="function")return nr.info("request options not provided, deriving from the url",e),Ax(e);if(t[1]){nr.info("has custom RequestOptions!",t[1]);let r=Ax(e);nr.info("derived RequestOptions from the URL:",r),nr.info("cloning RequestOptions...");let n=t1(t[1]);return nr.info("successfully cloned RequestOptions!",n),{...r,...n}}return nr.info("using an empty object as request options"),{}}function OX(t,e){if(t.host=e.host||t.host,t.hostname=e.hostname||t.hostname,t.port=e.port?e.port.toString():t.port,e.path){let r=(0,Zq.parse)(e.path,!1);t.pathname=r.pathname||"",t.search=r.search||""}return t}function Ox(t){return typeof t[1]=="function"?t[1]:t[2]}function Bs(t,...e){let r,n,i;if(nr.info("arguments",e),nr.info("using default protocol:",t),e.length===0){let o=new URL("http://localhost"),s=Ix(e,o);return[o,s]}if(typeof e[0]=="string"){nr.info("first argument is a location string:",e[0]),r=new URL(e[0]),nr.info("created a url:",r);let o=Ax(r);nr.info("request options from url:",o),n=Ix(e,r),nr.info("resolved request options:",n),i=Ox(e)}else if(e[0]instanceof URL)r=e[0],nr.info("first argument is a URL:",r),typeof e[1]<"u"&&Bf(e[1])&&(r=OX(r,e[1])),n=Ix(e,r),nr.info("derived request options:",n),i=Ox(e);else if("hash"in e[0]&&!("method"in e[0])){let[o]=e;if(nr.info("first argument is a legacy URL:",o),o.hostname===null)return nr.info("given legacy URL is relative (no hostname)"),Bf(e[1])?Bs(t,{path:o.path,...e[1]},e[2]):Bs(t,{path:o.path},e[1]);nr.info("given legacy url is absolute");let s=new URL(o.href);return e[1]===void 0?Bs(t,s):typeof e[1]=="function"?Bs(t,s,e[1]):Bs(t,s,e[1],e[2])}else if(Bf(e[0]))n=e[0],nr.info("first argument is RequestOptions:",n),n.protocol=n.protocol||t,nr.info("normalized request options:",n),r=IX(n),nr.info("created a URL from RequestOptions:",r.href),i=Ox(e);else throw new Error(`Failed to construct ClientRequest with these parameters: ${e}`);if(n.protocol=n.protocol||r.protocol,n.method=n.method||"GET",typeof n.agent>"u"){let o=n.protocol==="https:"?new Wf.Agent({rejectUnauthorized:n.rejectUnauthorized}):new Vf.Agent;n.agent=o,nr.info("resolved fallback agent:",o)}return n._defaultAgent||(nr.info('has no default agent, setting the default agent for "%s"',n.protocol),n._defaultAgent=n.protocol==="https:"?Wf.globalAgent:Vf.globalAgent),nr.info("successfully resolved url:",r.href),nr.info("successfully resolved options:",n),nr.info("successfully resolved callback:",i),[r,n,i]}function AX(t,e){return function(...n){let i=Bs(`${t}:`,...n),o=new kx(i,e);return o.end(),o}}var kX=new wn("http request");function NX(t,e){return function(...n){kX.info('request call (protocol "%s"):',t,n);let i=Bs(`${t}:`,...n);return new kx(i,e)}}var r1=class extends co{constructor(){super(r1.interceptorSymbol),this.modules=new Map,this.modules.set("http",Wq.default),this.modules.set("https",Gq.default)}setup(){let t=this.logger.extend("setup");for(let[e,r]of this.modules){let{request:n,get:i}=r;this.subscriptions.push(()=>{r.request=n,r.get=i,t.info('native "%s" module restored!',e)});let o={emitter:this.emitter,logger:this.logger};r.request=NX(e,o),r.get=AX(e,o),t.info('native "%s" module patched!',e)}}},Gf=r1;Gf.interceptorSymbol=Symbol("http");function qX(t,e){let r=new Uint8Array(t.byteLength+e.byteLength);return r.set(t,0),r.set(e,t.byteLength),r}var s1=class{constructor(t,e){this.AT_TARGET=0,this.BUBBLING_PHASE=0,this.CAPTURING_PHASE=0,this.NONE=0,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=t,this.target=e?.target||null,this.currentTarget=e?.currentTarget||null,this.timeStamp=Date.now()}composedPath(){return[]}initEvent(t,e,r){this.type=t,this.bubbles=!!e,this.cancelable=!!r}preventDefault(){this.defaultPrevented=!0}stopPropagation(){}stopImmediatePropagation(){}},MX=class extends s1{constructor(t,e){super(t),this.lengthComputable=e?.lengthComputable||!1,this.composed=e?.composed||!1,this.loaded=e?.loaded||0,this.total=e?.total||0}},LX=typeof ProgressEvent<"u";function jX(t,e,r){let n=["error","progress","loadstart","loadend","load","timeout","abort"],i=LX?ProgressEvent:MX;return n.includes(e)?new i(e,{lengthComputable:!0,loaded:r?.loaded||0,total:r?.total||0}):new s1(e,{target:t,currentTarget:t})}function a1(t,e){if(!(e in t))return null;if(Object.prototype.hasOwnProperty.call(t,e))return t;let n=Reflect.getPrototypeOf(t);return n?a1(n,e):null}function n1(t,e){return new Proxy(t,FX(e))}function FX(t){let{constructorCall:e,methodCall:r,getProperty:n,setProperty:i}=t,o={};return typeof e<"u"&&(o.construct=function(s,a,c){let u=Reflect.construct.bind(null,s,a,c);return e.call(c,a,u)}),o.set=function(s,a,c){let u=()=>{let l=a1(s,a)||s,d=Reflect.getOwnPropertyDescriptor(l,a);return typeof d?.set<"u"?(d.set.apply(s,[c]),!0):Reflect.defineProperty(l,a,{writable:!0,enumerable:!0,configurable:!0,value:c})};return typeof i<"u"?i.call(s,[a,c],u):u()},o.get=function(s,a,c){let u=()=>s[a],l=typeof n<"u"?n.call(s,[a,c],u):u();return typeof l=="function"?(...d)=>{let p=l.bind(s,...d);return typeof r<"u"?r.call(s,[a,d],p):p()}:l},o}function UX(t){return["application/xhtml+xml","application/xml","image/svg+xml","text/html","text/xml"].some(r=>t.startsWith(r))}function $X(t){try{return JSON.parse(t)}catch{return null}}function HX(t,e){let r=al(t.status)?null:e;return new Response(r,{status:t.status,statusText:t.statusText,headers:BX(t.getAllResponseHeaders())})}function BX(t){let e=new Headers,r=t.split(/[\r\n]+/);for(let n of r){if(n.trim()==="")continue;let[i,...o]=n.split(": "),s=o.join(": ");e.append(i,s)}return e}var i1=Symbol("isMockedResponse"),zX=Mf(),VX=class{constructor(t,e){this.initialRequest=t,this.logger=e,this.method="GET",this.url=null,this.events=new Map,this.requestId=$s(),this.requestHeaders=new Headers,this.responseBuffer=new Uint8Array,this.request=n1(t,{setProperty:([r,n],i)=>{switch(r){case"ontimeout":{let o=r.slice(2);return this.request.addEventListener(o,n),i()}default:return i()}},methodCall:([r,n],i)=>{var o;switch(r){case"open":{let[s,a]=n;return typeof a>"u"?(this.method="GET",this.url=o1(s)):(this.method=s,this.url=o1(a)),this.logger=this.logger.extend(`${this.method} ${this.url.href}`),this.logger.info("open",this.method,this.url.href),i()}case"addEventListener":{let[s,a]=n;return this.registerEvent(s,a),this.logger.info("addEventListener",s,a),i()}case"setRequestHeader":{let[s,a]=n;return this.requestHeaders.set(s,a),this.logger.info("setRequestHeader",s,a),i()}case"send":{let[s]=n;s!=null&&(this.requestBody=typeof s=="string"?Sx(s):s),this.request.addEventListener("load",()=>{if(typeof this.onResponse<"u"){let u=HX(this.request,this.request.response);this.onResponse.call(this,{response:u,isMockedResponse:i1 in this.request,request:a,requestId:this.requestId})}});let a=this.toFetchApiRequest();(((o=this.onRequest)==null?void 0:o.call(this,{request:a,requestId:this.requestId}))||Promise.resolve()).finally(()=>{if(this.request.readyState<this.request.LOADING)return this.logger.info("request callback settled but request has not been handled (readystate %d), performing as-is...",this.request.readyState),zX&&this.request.setRequestHeader(hc,this.requestId),i()});break}default:return i()}}})}registerEvent(t,e){let n=(this.events.get(t)||[]).concat(e);this.events.set(t,n),this.logger.info('registered event "%s"',t,e)}respondWith(t){this.logger.info("responding with a mocked response: %d %s",t.status,t.statusText),wc(this.request,i1,!0),wc(this.request,"status",t.status),wc(this.request,"statusText",t.statusText),wc(this.request,"responseURL",this.url.href),this.request.getResponseHeader=new Proxy(this.request.getResponseHeader,{apply:(n,i,o)=>{if(this.logger.info("getResponseHeader",o[0]),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning null"),null;let s=t.headers.get(o[0]);return this.logger.info('resolved response header "%s" to',o[0],s),s}}),this.request.getAllResponseHeaders=new Proxy(this.request.getAllResponseHeaders,{apply:()=>{if(this.logger.info("getAllResponseHeaders"),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning empty string"),"";let i=Array.from(t.headers.entries()).map(([o,s])=>`${o}: ${s}`).join(`\r
`);return this.logger.info("resolved all response headers to",i),i}}),Object.defineProperties(this.request,{response:{enumerable:!0,configurable:!1,get:()=>this.response},responseText:{enumerable:!0,configurable:!1,get:()=>this.responseText},responseXML:{enumerable:!0,configurable:!1,get:()=>this.responseXML}});let e=t.headers.has("Content-Length")?Number(t.headers.get("Content-Length")):void 0;this.logger.info("calculated response body length",e),this.trigger("loadstart",{loaded:0,total:e}),this.setReadyState(this.request.HEADERS_RECEIVED),this.setReadyState(this.request.LOADING);let r=()=>{this.logger.info("finalizing the mocked response..."),this.setReadyState(this.request.DONE),this.trigger("load",{loaded:this.responseBuffer.byteLength,total:e}),this.trigger("loadend",{loaded:this.responseBuffer.byteLength,total:e})};if(t.body){this.logger.info("mocked response has body, streaming...");let n=t.body.getReader(),i=async()=>{let{value:o,done:s}=await n.read();if(s){this.logger.info("response body stream done!"),r();return}o&&(this.logger.info("read response body chunk:",o),this.responseBuffer=qX(this.responseBuffer,o),this.trigger("progress",{loaded:this.responseBuffer.byteLength,total:e})),i()};i()}else r()}responseBufferToText(){return Tx(this.responseBuffer)}get response(){if(this.logger.info("getResponse (responseType: %s)",this.request.responseType),this.request.readyState!==this.request.DONE)return null;switch(this.request.responseType){case"json":{let t=$X(this.responseBufferToText());return this.logger.info("resolved response JSON",t),t}case"arraybuffer":{let t=cq(this.responseBuffer);return this.logger.info("resolved response ArrayBuffer",t),t}case"blob":{let t=this.request.getResponseHeader("Content-Type")||"text/plain",e=new Blob([this.responseBufferToText()],{type:t});return this.logger.info("resolved response Blob (mime type: %s)",e,t),e}default:{let t=this.responseBufferToText();return this.logger.info('resolving "%s" response type as text',this.request.responseType,t),t}}}get responseText(){if(jr(this.request.responseType===""||this.request.responseType==="text","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.LOADING&&this.request.readyState!==this.request.DONE)return"";let t=this.responseBufferToText();return this.logger.info('getResponseText: "%s"',t),t}get responseXML(){if(jr(this.request.responseType===""||this.request.responseType==="document","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.DONE)return null;let t=this.request.getResponseHeader("Content-Type")||"";return typeof DOMParser>"u"?(console.warn("Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly."),null):UX(t)?new DOMParser().parseFromString(this.responseBufferToText(),t):null}errorWith(t){this.logger.info("responding with an error"),this.setReadyState(this.request.DONE),this.trigger("error"),this.trigger("loadend")}setReadyState(t){if(this.logger.info("setReadyState: %d -> %d",this.request.readyState,t),this.request.readyState===t){this.logger.info("ready state identical, skipping transition...");return}wc(this.request,"readyState",t),this.logger.info("set readyState to: %d",t),t!==this.request.UNSENT&&(this.logger.info('triggerring "readystatechange" event...'),this.trigger("readystatechange"))}trigger(t,e){let r=this.request[`on${t}`],n=jX(this.request,t,e);this.logger.info('trigger "%s"',t,e||""),typeof r=="function"&&(this.logger.info('found a direct "%s" callback, calling...',t),r.call(this.request,n));for(let[i,o]of this.events)i===t&&(this.logger.info('found %d listener(s) for "%s" event, calling...',o.length,t),o.forEach(s=>s.call(this.request,n)))}toFetchApiRequest(){this.logger.info("converting request to a Fetch API Request...");let t=new Request(this.url.href,{method:this.method,headers:this.requestHeaders,credentials:this.request.withCredentials?"include":"same-origin",body:["GET","HEAD"].includes(this.method)?null:this.requestBody}),e=n1(t.headers,{methodCall:([r,n],i)=>{switch(r){case"append":case"set":{let[o,s]=n;this.request.setRequestHeader(o,s);break}case"delete":{let[o]=n;console.warn(`XMLHttpRequest: Cannot remove a "${o}" header from the Fetch API representation of the "${t.method} ${t.url}" request. XMLHttpRequest headers cannot be removed.`);break}}return i()}});return wc(t,"headers",e),this.logger.info("converted request to a Fetch API Request!",t),t}};function o1(t){return typeof location>"u"?new URL(t):new URL(t.toString(),location.href)}function wc(t,e,r){Reflect.defineProperty(t,e,{writable:!0,enumerable:!0,value:r})}function WX({emitter:t,logger:e}){return new Proxy(globalThis.XMLHttpRequest,{construct(n,i,o){e.info("constructed new XMLHttpRequest");let s=Reflect.construct(n,i,o),a=Object.getOwnPropertyDescriptors(n.prototype);for(let u in a)Reflect.defineProperty(s,u,a[u]);let c=new VX(s,e);return c.onRequest=async function({request:u,requestId:l}){let{interactiveRequest:d,requestController:p}=_c(u);this.logger.info("awaiting mocked response..."),t.once("request",({requestId:g})=>{g===l&&p.responsePromise.state==="pending"&&p.respondWith(void 0)});let m=await Go(async()=>{this.logger.info('emitting the "request" event for %s listener(s)...',t.listenerCount("request")),await xc(t,"request",{request:d,requestId:l}),this.logger.info('all "request" listeners settled!');let g=await p.responsePromise;return this.logger.info("event.respondWith called with:",g),g});if(m.error){this.logger.info("request listener threw an exception, aborting request...",m.error),c.errorWith(m.error);return}let f=m.data;if(typeof f<"u"){if(this.logger.info("received mocked response: %d %s",f.status,f.statusText),f.type==="error"){this.logger.info("received a network error response, rejecting the request promise..."),c.errorWith(new TypeError("Network error"));return}return c.respondWith(f)}this.logger.info("no mocked response received, performing request as-is...")},c.onResponse=async function({response:u,isMockedResponse:l,request:d,requestId:p}){this.logger.info('emitting the "response" event for %s listener(s)...',t.listenerCount("response")),t.emit("response",{response:u,isMockedResponse:l,request:d,requestId:p})},c.request}})}var c1=class extends co{constructor(){super(c1.interceptorSymbol)}checkEnvironment(){return typeof globalThis.XMLHttpRequest<"u"}setup(){let t=this.logger.extend("setup");t.info('patching "XMLHttpRequest" module...');let e=globalThis.XMLHttpRequest;jr(!e[uo],'Failed to patch the "XMLHttpRequest" module: already patched.'),globalThis.XMLHttpRequest=WX({emitter:this.emitter,logger:this.logger}),t.info('native "XMLHttpRequest" module patched!',globalThis.XMLHttpRequest.name),Object.defineProperty(globalThis.XMLHttpRequest,uo,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.XMLHttpRequest,uo,{value:void 0}),globalThis.XMLHttpRequest=e,t.info('native "XMLHttpRequest" module restored!',globalThis.XMLHttpRequest.name)})}},Kf=c1;Kf.interceptorSymbol=Symbol("xhr");function GX(t){try{return new URL(t),!0}catch{return!1}}var l1=class extends co{constructor(){super(l1.symbol)}checkEnvironment(){return typeof globalThis<"u"&&typeof globalThis.fetch<"u"}async setup(){let t=globalThis.fetch;jr(!t[uo],'Failed to patch the "fetch" module: already patched.'),globalThis.fetch=async(e,r)=>{var n;let i=$s(),o=typeof e=="string"&&typeof location<"u"&&!GX(e)?new URL(e,location.origin):e,s=new Request(o,r);this.logger.info("[%s] %s",s.method,s.url);let{interactiveRequest:a,requestController:c}=_c(s);this.logger.info('emitting the "request" event for %d listener(s)...',this.emitter.listenerCount("request")),this.emitter.once("request",({requestId:m})=>{m===i&&c.responsePromise.state==="pending"&&c.responsePromise.resolve(void 0)}),this.logger.info("awaiting for the mocked response...");let u=a.signal,l=new bc;u&&u.addEventListener("abort",()=>{l.reject(u.reason)},{once:!0});let d=await Go(async()=>{let m=xc(this.emitter,"request",{request:a,requestId:i});await Promise.race([l,m,c.responsePromise]),this.logger.info("all request listeners have been resolved!");let f=await c.responsePromise;return this.logger.info("event.respondWith called with:",f),f});if(l.state==="rejected")return Promise.reject(l.rejectionReason);if(d.error)return Promise.reject(u1(d.error));let p=d.data;if(p&&!((n=s.signal)!=null&&n.aborted)){if(this.logger.info("received mocked response:",p),Hf(p,"type")&&p.type==="error")return this.logger.info("received a network error response, rejecting the request promise..."),Promise.reject(u1(p));let m=p.clone();return this.emitter.emit("response",{response:m,isMockedResponse:!0,request:a,requestId:i}),Object.defineProperty(p,"url",{writable:!1,enumerable:!0,configurable:!1,value:s.url}),p}return this.logger.info("no mocked response received!"),t(s).then(m=>{let f=m.clone();return this.logger.info("original fetch performed",f),this.emitter.emit("response",{response:f,isMockedResponse:!1,request:a,requestId:i}),m})},Object.defineProperty(globalThis.fetch,uo,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.fetch,uo,{value:void 0}),globalThis.fetch=t,this.logger.info('restored native "globalThis.fetch"!',globalThis.fetch.name)})}},Nx=l1;Nx.symbol=Symbol("fetch");function u1(t){return Object.assign(new TypeError("Failed to fetch"),{cause:t})}function qx(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}function Mx(t,e){return Object.entries(e).reduce((r,[n,i])=>{let o=r[n];return Array.isArray(o)&&Array.isArray(i)?(r[n]=o.concat(i),r):qx(o)&&qx(i)?(r[n]=Mx(o,i),r):(r[n]=i,r)},Object.assign({},t))}var KX={onUnhandledRequest:"warn"},XX=class extends kf{interceptor;resolvedOptions;constructor(t,e){super(...e),this.interceptor=new sl({name:"setup-server",interceptors:t.map(r=>new r)}),this.resolvedOptions={},this.init()}init(){this.interceptor.on("request",async({request:t,requestId:e})=>{let r=await jq(t,e,this.handlersController.currentHandlers(),this.resolvedOptions,this.emitter);r&&t.respondWith(r)}),this.interceptor.on("response",({response:t,isMockedResponse:e,request:r,requestId:n})=>{this.emitter.emit(e?"response:mocked":"response:bypass",{response:t,request:r,requestId:n})})}listen(t={}){this.resolvedOptions=Mx(KX,t),this.interceptor.apply(),this.subscriptions.push(()=>{this.interceptor.dispose()}),jr([ol.APPLYING,ol.APPLIED].includes(this.interceptor.readyState),xn.formatMessage('Failed to start "setupServer": the interceptor failed to apply. This is likely an issue with the library and you should report it at "%s".'),"https://github.com/mswjs/msw/issues/new/choose")}close(){this.dispose()}},Lx=new d1.AsyncLocalStorage,QX=class{rootContext;constructor(t){this.rootContext={initialHandlers:t,handlers:[]}}get context(){return Lx.getStore()||this.rootContext}prepend(t){this.context.handlers.unshift(...t)}reset(t){let e=this.context;e.handlers=[],e.initialHandlers=t.length>0?t:e.initialHandlers}currentHandlers(){let{initialHandlers:t,handlers:e}=this.context;return e.concat(t)}},ZX=class extends XX{constructor(t){super([Gf,Kf,Nx],t),this.handlersController=new QX(t)}boundary(t){return(...e)=>Lx.run({initialHandlers:this.handlersController.currentHandlers(),handlers:[]},t,...e)}close(){super.close(),Lx.disable()}},p1=(...t)=>new ZX(t);var f1=[Bi("/account/details",()=>fi.json({data:{id:"account-1",type:"account",attributes:{username:"user1",email:"user1@terraform.org"}}})),Bi("/organizations",()=>fi.json({data:[{id:"org-1",attributes:{"external-id":"org-1",name:"Org 1"}},{id:"org-2",attributes:{"external-id":"org-2",name:"Org 2"}}]})),Bi("/organization-memberships",()=>fi.json({data:[{id:"ou-VgJgfbDVN3APUm2F",attributes:{status:"active"},relationships:{organization:{data:{id:"org-1"}}}},{id:"ou-VgJgfbDVN3APUm2Fdf",attributes:{status:"active"},relationships:{organization:{data:{id:"org-2"}}}}]})),Bi("/organizations/:organization_name/projects",()=>fi.json({data:[{id:"proj-1",attributes:{name:"Project 1"}}],meta:{pagination:{"current-page":1,"page-size":20,"next-page":null,"prev-page":null,"total-count":20,"total-pages":0}}})),Bi("/projects/:project_id",()=>fi.json({data:{id:"proj-1",attributes:{name:"Project 1"}}})),Bi("/organizations/:organization_name/workspaces",()=>fi.json({meta:{pagination:{"current-page":1,"page-size":20,"next-page":null,"prev-page":null,"total-count":20,"total-pages":0}},included:[],data:[{id:"ws-1",attributes:{name:"Workspace 1",description:"Workspace 1 description",environment:"production","execution-mode":"agent",source:"source","updated-at":new Date("2021-07-01T00:00:00Z"),"run-failures":0,"resource-count":0,"terraform-version":"0.12.0",locked:!1,"vcs-repo-identifier":"vcs-repo-identifier","vcs-repo":{"repository-http-url":"https://foo.com/bar"},"auto-apply":!1},relationships:{project:{data:{id:"proj-1",type:"projects"}},"latest-run":{data:{id:"run-1",type:"runs"}}},links:{self:"/workspaces/ws-1","self-html":"/workspaces/ws-1"}}]})),Bi("/workspaces/:workspace_id",()=>fi.json({data:{id:"ws-1",attributes:{name:"Workspace 1",description:"Workspace 1 description",environment:"production","execution-mode":"agent",source:"source","updated-at":new Date("2021-07-01T00:00:00Z"),"run-failures":0,"resource-count":0,"terraform-version":"0.12.0",locked:!1,"vcs-repo-identifier":"vcs-repo-identifier","vcs-repo":{"repository-http-url":"https://foo.com/bar"},"auto-apply":!1},relationships:{project:{data:{id:"proj-1",type:"projects"}},"latest-run":{data:{id:"run-1",type:"runs"}}},links:{self:"/workspaces/ws-1","self-html":"/workspaces/ws-1"}}})),Bi("/workspaces/:workspace_id/runs",()=>fi.json({data:[{id:"run-1",attributes:{"created-at":new Date(Date.UTC(2021,6,1,0,0,0)),message:"Run 1",source:"terraform+cloud",status:"planned","trigger-reason":"manual","terraform-version":"0.12.0"},relationships:{workspace:{data:{id:"ws-1",type:"workspaces"}},"configuration-version":{data:{id:"cv-1",type:"configuration-versions"}},"created-by":{data:{id:"user-1",type:"users"}}}}],meta:{pagination:{"current-page":1,"page-size":20,"next-page":null,"prev-page":null,"total-count":20,"total-pages":0}}})),Bi("/runs/:run_id",()=>fi.json({data:{id:"run-1",attributes:{"created-at":new Date("2021-07-01T00:00:00Z"),message:"Run 1",source:"terraform+cloud",status:"planned","trigger-reason":"manual","terraform-version":"0.12.0"},relationships:{plan:{data:{id:"plan-1",type:"plans"}},apply:{data:{id:"apply-1",type:"applies"}},workspace:{data:{id:"ws-1",type:"workspaces"}},"configuration-version":{data:{id:"cv-1",type:"configuration-versions"}},"created-by":{data:{id:"user-1",type:"users"}}}}}))];function Bi(t,e){return Rx.get(`${so}${t}`,e)}var dl,jx;function h1(){jx=m1.window.createOutputChannel("MSW Debug Channel"),dl=p1(...f1),dl.events.on("request:unhandled",({request:t})=>{jx.appendLine(`Intercepted a request without a matching request handler: ${t.method} ${t.url}`)}),dl.events.on("response:mocked",({request:t,response:e})=>{jx.appendLine(`Outgoing request "${t.method} ${t.url}" received mock response: ${e.status} ${e.statusText}`)}),dl.listen()}function g1(){dl.close()}var YX="terraform",JX="HashiCorp Terraform",e5=[{scheme:"file",language:"terraform"},{scheme:"file",language:"terraform-vars"},{scheme:"file",language:"terraform-stack"},{scheme:"file",language:"terraform-deploy"},{scheme:"file",language:"terraform-test"},{scheme:"file",language:"terraform-mock"}],mi=Dr.window.createOutputChannel(JX),t5=Dr.window.createOutputChannel("HCP Terraform"),hn,Cn,v1,Fx=0;async function r5(t){process.env.HASHI_CODE_TEST==="true"&&h1();let e=t.extension.packageJSON;if(hn=new y1.default(t.extension.id,e.version,e.appInsightsKey),t.subscriptions.push(hn),t.subscriptions.push(new Cp(t)),t.subscriptions.push(new Of(t,hn,t5)),wr("terraform").get("languageServer.enable")===!1){hn.sendTelemetryEvent("disabledTerraformLS");return}let r=new mp(t);r.hasCustomBinPath()&&hn.sendTelemetryEvent("usePathToBinary");let n=await QR(r,mi),i=GP(),o={documentSelector:e5,progressOnInitialization:!0,synchronize:{fileEvents:[Dr.workspace.createFileSystemWatcher("**/*.tf"),Dr.workspace.createFileSystemWatcher("**/*.tfvars"),Dr.workspace.createFileSystemWatcher("**/*.tfstack.hcl"),Dr.workspace.createFileSystemWatcher("**/*.tfdeploy.hcl"),Dr.workspace.createFileSystemWatcher("**/*.tftest.hcl"),Dr.workspace.createFileSystemWatcher("**/*.tfmock.hcl")]},diagnosticCollectionName:"HashiCorpTerraform",outputChannel:mi,revealOutputChannelOn:gn.RevealOutputChannelOn.Never,initializationOptions:i,initializationFailedHandler:s=>{v1=s,hn.sendTelemetryException(s);let a="Failure to start terraform-ls. Please check your configuration settings and reload this window";return wr("terraform").get("languageServer.args",[])[0]!=="serve"&&(a='You need at least a "serve" argument in the `terraform.languageServer.args` setting. Please check your configuration settings and reload this window'),mi.appendLine(a),Dr.window.showErrorMessage(a,{detail:"",modal:!1},{title:"Open Settings"},{title:"Open Logs"},{title:"More Info"}).then(async u=>{if(u!==void 0)switch(u.title){case"Open Logs":mi.show();break;case"Open Settings":await Dr.commands.executeCommand("workbench.action.openSettings","@ext:hashicorp.terraform");break;case"More Info":await Dr.commands.executeCommand("vscode.open",Dr.Uri.parse("https://github.com/hashicorp/vscode-terraform#troubleshooting"));break}}),!1},errorHandler:{error:(s,a,c)=>({message:`Terraform LS connection error: (${c})
${s.message}
${a.jsonrpc}`,action:gn.ErrorAction.Shutdown}),closed:()=>v1!==void 0?(mi.appendLine("Initialization error handled by handler"),{message:"",action:gn.CloseAction.DoNotRestart}):(Fx=Fx+1,Fx<=1?(mi.appendLine("Server has failed. Restarting"),{action:gn.CloseAction.Restart}):(mi.appendLine("Failure to start terraform-ls. Please check your configuration settings and reload this window"),{message:"Failure to start terraform-ls. Please check your configuration settings and reload this window",action:gn.CloseAction.DoNotRestart}))}};Cn=new gn.LanguageClient(YX,n,o),Cn.onDidChangeState(s=>{switch(mi.appendLine(`Client: ${gn.State[s.oldState]} --> ${gn.State[s.newState]}`),s.newState){case gn.State.Starting:jP();break;case gn.State.Running:xu();break;case gn.State.Stopped:UP(),hn.sendTelemetryEvent("stopClient");break}}),Cn.registerFeatures([new wp(Cn,hn,mi),new yp(Cn,e),new bp(t,Cn,new fp(t,Cn,hn)),new _p(t,Cn,new pp(t,Cn,hn)),new gp(t,Cn,hn),new vp(Cn),new xp(t,Cn,hn,mi)]),t.subscriptions.push(new up(t),new Ep(Cn,hn,t));try{await Cn.start()}catch(s){await KR(s,t,hn)}}async function n5(){try{await Cn.stop()}catch(t){t instanceof Error?(mi.appendLine(t.message),hn.sendTelemetryException(t),Dr.window.showErrorMessage(t.message),Zy(t.message,!1,Dr.LanguageStatusSeverity.Error)):typeof t=="string"&&(mi.appendLine(t),hn.sendTelemetryException(new Error(t)),Dr.window.showErrorMessage(t),Zy(t,!1,Dr.LanguageStatusSeverity.Error))}process.env.HASHI_CODE_TEST==="true"&&g1()}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

@bundled-es-modules/statuses/index-esm.js:
  (*! Bundled license information:
  
  statuses/index.js:
    (*!
     * statuses
     * Copyright(c) 2014 Jonathan Ong
     * Copyright(c) 2016 Douglas Christopher Wilson
     * MIT Licensed
     *)
  *)

@bundled-es-modules/cookie/index-esm.js:
  (*! Bundled license information:
  
  cookie/index.js:
    (*!
     * cookie
     * Copyright(c) 2012-2014 Roman Shtylman
     * Copyright(c) 2015 Douglas Christopher Wilson
     * MIT Licensed
     *)
  *)
*/
